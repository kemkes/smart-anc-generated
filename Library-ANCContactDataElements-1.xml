<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="9714">
         <a:s>library ANCContactDataElements</a:s>
      </a:s>
   </annotation>
   <identifier id="ANCContactDataElements" system="http://fhir.org/guides/who/anc-cds"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:35" localIdentifier="FHIRHelpers" path="http://fhir.org/guides/who/anc-cds/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="6:1-6:28" localIdentifier="FC" path="http://fhir.org/guides/who/anc-cds/FHIRCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRCommon</a:s>
               </a:s>
               <a:s> called FC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="8:1-8:27" localIdentifier="WC" path="http://fhir.org/guides/who/anc-cds/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="9:1-9:27" localIdentifier="AC" path="http://fhir.org/guides/who/anc-cds/ANCCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>ANCCommon</a:s>
               </a:s>
               <a:s> called AC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="10:1-10:29" localIdentifier="Cx" path="http://fhir.org/guides/who/anc-cds/ANCConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>ANCConcepts</a:s>
               </a:s>
               <a:s> called Cx</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <statements>
      <def locator="12:1-12:17" name="Encounter" context="Encounter">
         <expression xsi:type="SingletonFrom">
            <operand locator="12:1-12:17" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="14" locator="19:1-21:25" name="Contact date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>/*
  @dataElement: ANC.A.DE4 Contact date
  @activity: ANC.A4. Gather client details
  @description: The date and time of the client's contact
*/
define &quot;Contact date&quot;:
  </a:s>
               <a:s r="13">
                  <a:s>
                     <a:s r="8">
                        <a:s r="7">
                           <a:s r="7">
                              <a:s>[Encounter]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> E</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="12">
                     <a:s>return </a:s>
                     <a:s r="11">
                        <a:s r="10">
                           <a:s r="9">
                              <a:s>E</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="10">
                              <a:s>period</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="11">
                           <a:s>start</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="13" locator="20:3-21:25" xsi:type="Query">
            <source localId="8" locator="20:3-20:15" alias="E">
               <expression localId="7" locator="20:3-20:13" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
            </source>
            <return localId="12" locator="21:5-21:25">
               <expression localId="11" locator="21:12-21:25" path="start" xsi:type="Property">
                  <source localId="10" locator="21:12-21:19" path="period" scope="E" xsi:type="Property"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="19" locator="29:1-30:33" name="Reason for coming to facility" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="19">
               <a:s>/*
  @dataElement: ANC.B5.DE1 Reason for coming to facility
  @activity: ANC.A4. Gather client details
  @description: Records the reason why the woman came to the health-care facility today
*/
define &quot;Reason for coming to facility&quot;:
  </a:s>
               <a:s r="18">
                  <a:s r="17">
                     <a:s r="15">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="17">
                        <a:s>Only(</a:s>
                        <a:s r="16">
                           <a:s>[Encounter]</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="18">
                     <a:s>reasonCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="18" locator="30:3-30:33" path="reasonCode" xsi:type="Property">
            <source localId="17" locator="30:3-30:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="16" locator="30:11-30:21" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
            </source>
         </expression>
      </def>
      <def localId="29" locator="38:1-39:70" name="ANC contact number" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="29">
               <a:s>/*
  @dataElement: ANC.A.DE12 ANC contact number
  @activity: ANC.A4. Gather client details
  @description: The ANC contact or visit number â€“ recommended minimum is 8 contacts
*/
define &quot;ANC contact number&quot;:
  </a:s>
               <a:s r="28">
                  <a:s r="26">
                     <a:s r="25">
                        <a:s r="20">
                           <a:s>AC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="25">
                           <a:s>Extension(</a:s>
                           <a:s r="23">
                              <a:s r="21">
                                 <a:s>WC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="23">
                                 <a:s>Only(</a:s>
                                 <a:s r="22">
                                    <a:s>[Encounter]</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>, </a:s>
                           <a:s r="24">
                              <a:s>'contactNumber'</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="26">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="27">
                     <a:s>integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="28" locator="39:3-39:70" strict="false" xsi:type="As">
            <operand localId="26" locator="39:3-39:59" path="value" xsi:type="Property">
               <source localId="25" locator="39:3-39:53" name="Extension" libraryName="AC" xsi:type="FunctionRef">
                  <operand localId="23" locator="39:16-39:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="22" locator="39:24-39:34" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" xsi:type="Retrieve"/>
                  </operand>
                  <operand localId="24" locator="39:38-39:52" valueType="t:String" value="contactNumber" xsi:type="Literal"/>
               </source>
            </operand>
            <asTypeSpecifier localId="27" locator="39:64-39:70" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="39" locator="47:1-49:42" name="Unique identification" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="39">
               <a:s>/*
  @dataElement: ANC.A.DE1 Unique identification
  @activity: ANC.A4. Gather client details
  @description: Unique identifier generated for new clients or a universal ID, if used in the country
*/
define &quot;Unique identification&quot;:
  </a:s>
               <a:s r="38">
                  <a:s>
                     <a:s r="31">
                        <a:s r="30">
                           <a:s r="30">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="37">
                     <a:s>return </a:s>
                     <a:s r="36">
                        <a:s r="35">
                           <a:s r="32">
                              <a:s>WC</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="35">
                              <a:s>Official(</a:s>
                              <a:s r="34">
                                 <a:s r="33">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="34">
                                    <a:s>identifier</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="36">
                           <a:s>value</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="38" locator="48:3-49:42" xsi:type="Query">
            <source localId="31" locator="48:3-48:13" alias="P">
               <expression localId="30" locator="48:3-48:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="37" locator="49:5-49:42">
               <expression localId="36" locator="49:12-49:42" path="value" xsi:type="Property">
                  <source localId="35" locator="49:12-49:36" name="Official" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="34" locator="49:24-49:35" path="identifier" scope="P" xsi:type="Property"/>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="50" locator="57:1-59:43" name="First name" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="50">
               <a:s>/*
  @dataElement: ANC.A.DE2 First name
  @activity: ANC.A4. Gather client details
  @description: Client's first name
*/
define &quot;First name&quot;:
  </a:s>
               <a:s r="49">
                  <a:s>
                     <a:s r="41">
                        <a:s r="40">
                           <a:s r="40">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="48">
                     <a:s>return </a:s>
                     <a:s r="47">
                        <a:s>First(</a:s>
                        <a:s r="46">
                           <a:s r="45">
                              <a:s r="42">
                                 <a:s>WC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="45">
                                 <a:s>Official(</a:s>
                                 <a:s r="44">
                                    <a:s r="43">
                                       <a:s>P</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="44">
                                       <a:s>name</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="46">
                              <a:s>given</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="49" locator="58:3-59:43" xsi:type="Query">
            <source localId="41" locator="58:3-58:13" alias="P">
               <expression localId="40" locator="58:3-58:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="48" locator="59:5-59:43">
               <expression localId="47" locator="59:12-59:43" xsi:type="First">
                  <source localId="46" locator="59:18-59:42" path="given" xsi:type="Property">
                     <source localId="45" locator="59:18-59:36" name="Official" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="44" locator="59:30-59:35" path="name" scope="P" xsi:type="Property"/>
                     </source>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="60" locator="66:1-68:37" name="Last name" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="60">
               <a:s>/*
  @dataElement: ANC.A.DE3 Last name
  @activity: ANC.A4. Gather client details
  @description: Client's family name or last name
*/
define &quot;Last name&quot;:
  </a:s>
               <a:s r="59">
                  <a:s>
                     <a:s r="52">
                        <a:s r="51">
                           <a:s r="51">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="58">
                     <a:s>return </a:s>
                     <a:s r="57">
                        <a:s r="56">
                           <a:s r="53">
                              <a:s>WC</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="56">
                              <a:s>Official(</a:s>
                              <a:s r="55">
                                 <a:s r="54">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="55">
                                    <a:s>name</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="57">
                           <a:s>family</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="59" locator="67:3-68:37" xsi:type="Query">
            <source localId="52" locator="67:3-67:13" alias="P">
               <expression localId="51" locator="67:3-67:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="58" locator="68:5-68:37">
               <expression localId="57" locator="68:12-68:37" path="family" xsi:type="Property">
                  <source localId="56" locator="68:12-68:30" name="Official" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="55" locator="68:24-68:29" path="name" scope="P" xsi:type="Property"/>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="67" locator="76:1-78:22" name="Date of birth" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="67">
               <a:s>/*
  @dataElement: ANC.A.DE5 Date of birth
  @activity: ANC.A4. Gather client details
  @description: The client's date of birth (DOB), if known
*/
define &quot;Date of birth&quot;:
  </a:s>
               <a:s r="66">
                  <a:s>
                     <a:s r="62">
                        <a:s r="61">
                           <a:s r="61">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="65">
                     <a:s>return </a:s>
                     <a:s r="64">
                        <a:s r="63">
                           <a:s>P</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="64">
                           <a:s>birthDate</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="66" locator="77:3-78:22" xsi:type="Query">
            <source localId="62" locator="77:3-77:13" alias="P">
               <expression localId="61" locator="77:3-77:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="65" locator="78:5-78:22">
               <expression localId="64" locator="78:12-78:22" path="birthDate" scope="P" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="77" locator="86:1-88:38" name="Address" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="77">
               <a:s>/*
  @dataElement: ANC.A.DE7 Address
  @activity: ANC.A4. Gather client details
  @description: Client's home address or address that the client is consenting to disclose
*/
define &quot;Address&quot;:
  </a:s>
               <a:s r="76">
                  <a:s>
                     <a:s r="69">
                        <a:s r="68">
                           <a:s r="68">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="75">
                     <a:s>return </a:s>
                     <a:s r="74">
                        <a:s r="73">
                           <a:s r="70">
                              <a:s>WC</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="73">
                              <a:s>Official(</a:s>
                              <a:s r="72">
                                 <a:s r="71">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="72">
                                    <a:s>address</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="74">
                           <a:s>text</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="76" locator="87:3-88:38" xsi:type="Query">
            <source localId="69" locator="87:3-87:13" alias="P">
               <expression localId="68" locator="87:3-87:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="75" locator="88:5-88:38">
               <expression localId="74" locator="88:12-88:38" path="text" xsi:type="Property">
                  <source localId="73" locator="88:12-88:33" name="Official" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="72" locator="88:24-88:32" path="address" scope="P" xsi:type="Property"/>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="87" locator="96:1-98:37" name="Mobile phone number" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="87">
               <a:s>/*
  @dataElement: ANC.A.DE8 Mobile phone number
  @activity: ANC.A4. Gather client details
  @description: Client's mobile phone number
*/
define &quot;Mobile phone number&quot;:
  </a:s>
               <a:s r="86">
                  <a:s>
                     <a:s r="79">
                        <a:s r="78">
                           <a:s r="78">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="85">
                     <a:s>return </a:s>
                     <a:s r="84">
                        <a:s r="83">
                           <a:s r="80">
                              <a:s>WC</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="83">
                              <a:s>Mobile(</a:s>
                              <a:s r="82">
                                 <a:s r="81">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="82">
                                    <a:s>telecom</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="84">
                           <a:s>value</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="86" locator="97:3-98:37" xsi:type="Query">
            <source localId="79" locator="97:3-97:13" alias="P">
               <expression localId="78" locator="97:3-97:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="85" locator="98:5-98:37">
               <expression localId="84" locator="98:12-98:37" path="value" xsi:type="Property">
                  <source localId="83" locator="98:12-98:31" name="Mobile" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="82" locator="98:22-98:30" path="telecom" scope="P" xsi:type="Property"/>
                  </source>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="99" locator="106:1-110:14" name="Alternative contact's name" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="99">
               <a:s>/*
  @dataElement: ANC.A.DE10 Alternative contact's name
  @activity: ANC.A4. Gather client details
  @description: Name of an alternative contact, which could be next of kin (e.g. partner, mother, sibling); the alternative contact would be used in the case of an emergency situation
*/
define &quot;Alternative contact's name&quot;:
  </a:s>
               <a:s r="98">
                  <a:s r="97">
                     <a:s r="88">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="97">
                        <a:s>Official(</a:s>
                        <a:s r="96">
                           <a:s r="95">
                              <a:s>First(
    </a:s>
                              <a:s r="94">
                                 <a:s>
                                    <a:s r="90">
                                       <a:s r="89">
                                          <a:s r="89">
                                             <a:s>[Patient]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> P</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="93">
                                    <a:s>return </a:s>
                                    <a:s r="92">
                                       <a:s r="91">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="92">
                                          <a:s>contact</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="96">
                              <a:s>name</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="98">
                     <a:s>text</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="98" locator="107:3-110:14" path="text" xsi:type="Property">
            <source localId="97" locator="107:3-110:9" name="Official" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="96" locator="107:15-110:8" xsi:type="Query">
                  <source alias="$this">
                     <expression localId="95" locator="107:15-110:3" xsi:type="First">
                        <source localId="94" locator="108:5-109:22" xsi:type="Query">
                           <source localId="90" locator="108:5-108:15" alias="P">
                              <expression localId="89" locator="108:5-108:13" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
                           </source>
                           <return localId="93" locator="109:7-109:22">
                              <expression localId="92" locator="109:14-109:22" path="contact" scope="P" xsi:type="Property"/>
                           </return>
                        </source>
                     </expression>
                  </source>
                  <where xsi:type="Not">
                     <operand xsi:type="IsNull">
                        <operand path="name" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </where>
                  <return distinct="false">
                     <expression path="name" xsi:type="Property">
                        <source name="$this" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="110" locator="118:1-122:18" name="Alternative contact's phone number" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="110">
               <a:s>/*
  @dataElement: ANC.A.DE11 Alternative contact's phone number
  @activity: ANC.A4. Gather client details
  @description: Phone number of the alternative contact
*/
define &quot;Alternative contact's phone number&quot;:
  </a:s>
               <a:s r="109">
                  <a:s r="108">
                     <a:s>First(</a:s>
                     <a:s r="107">
                        <a:s r="106">
                           <a:s>First(
    </a:s>
                           <a:s r="105">
                              <a:s>
                                 <a:s r="101">
                                    <a:s r="100">
                                       <a:s r="100">
                                          <a:s>[Patient]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="104">
                                 <a:s>return </a:s>
                                 <a:s r="103">
                                    <a:s r="102">
                                       <a:s>P</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="103">
                                       <a:s>contact</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="107">
                           <a:s>telecom</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="109">
                     <a:s>value</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="109" locator="119:3-122:18" path="value" xsi:type="Property">
            <source localId="108" locator="119:3-122:12" xsi:type="First">
               <source localId="107" locator="119:9-122:11" xsi:type="Flatten">
                  <operand xsi:type="Query">
                     <source alias="$this">
                        <expression localId="106" locator="119:9-122:3" xsi:type="First">
                           <source localId="105" locator="120:5-121:22" xsi:type="Query">
                              <source localId="101" locator="120:5-120:15" alias="P">
                                 <expression localId="100" locator="120:5-120:13" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
                              </source>
                              <return localId="104" locator="121:7-121:22">
                                 <expression localId="103" locator="121:14-121:22" path="contact" scope="P" xsi:type="Property"/>
                              </return>
                           </source>
                        </expression>
                     </source>
                     <where xsi:type="Not">
                        <operand xsi:type="IsNull">
                           <operand path="telecom" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </operand>
                        </operand>
                     </where>
                     <return distinct="false">
                        <expression path="telecom" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </expression>
                     </return>
                  </operand>
               </source>
            </source>
         </expression>
      </def>
      <def localId="122" locator="130:1-132:55" name="Woman wants to receive reminders during pregnancy" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="122">
               <a:s>/*
  @dataElement: ANC.A.DE9 Woman wants to receive reminders during pregnancy
  @activity: ANC.A4. Gather client details
  @description: Whether or not the woman wants to receive SMS or other messages regarding her ANC contacts and health status during pregnancy
*/
define &quot;Woman wants to receive reminders during pregnancy&quot;:
  </a:s>
               <a:s r="121">
                  <a:s>
                     <a:s r="112">
                        <a:s r="111">
                           <a:s r="111">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="120">
                     <a:s>return </a:s>
                     <a:s r="119">
                        <a:s r="117">
                           <a:s r="116">
                              <a:s r="113">
                                 <a:s>AC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="116">
                                 <a:s>Extension(</a:s>
                                 <a:s r="114">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="115">
                                    <a:s>'reminder'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="117">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="118">
                           <a:s>boolean</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="121" locator="131:3-132:55" xsi:type="Query">
            <source localId="112" locator="131:3-131:13" alias="P">
               <expression localId="111" locator="131:3-131:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="120" locator="132:5-132:55">
               <expression localId="119" locator="132:12-132:55" strict="false" xsi:type="As">
                  <operand localId="117" locator="132:12-132:44" path="value" xsi:type="Property">
                     <source localId="116" locator="132:12-132:38" name="Extension" libraryName="AC" xsi:type="FunctionRef">
                        <operand localId="114" locator="132:25" name="P" xsi:type="AliasRef"/>
                        <operand localId="115" locator="132:28-132:37" valueType="t:String" value="reminder" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <asTypeSpecifier localId="118" locator="132:49-132:55" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="134" locator="140:1-142:74" name="Highest level of education achieved" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="134">
               <a:s>/*
  @dataElement: ANC.B6.DE1 Highest level of education achieved
  @activity: ANC.A4. Gather client details
  @description: The highest level of schooling the woman has reached
*/
define &quot;Highest level of education achieved&quot;:
  </a:s>
               <a:s r="133">
                  <a:s>
                     <a:s r="124">
                        <a:s r="123">
                           <a:s r="123">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="132">
                     <a:s>return </a:s>
                     <a:s r="131">
                        <a:s r="129">
                           <a:s r="128">
                              <a:s r="125">
                                 <a:s>AC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="128">
                                 <a:s>Extension(</a:s>
                                 <a:s r="126">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="127">
                                    <a:s>'educationLevel'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="129">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="130">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="133" locator="141:3-142:74" xsi:type="Query">
            <source localId="124" locator="141:3-141:13" alias="P">
               <expression localId="123" locator="141:3-141:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="132" locator="142:5-142:74">
               <expression localId="131" locator="142:12-142:74" strict="false" xsi:type="As">
                  <operand localId="129" locator="142:12-142:50" path="value" xsi:type="Property">
                     <source localId="128" locator="142:12-142:44" name="Extension" libraryName="AC" xsi:type="FunctionRef">
                        <operand localId="126" locator="142:25" name="P" xsi:type="AliasRef"/>
                        <operand localId="127" locator="142:28-142:43" valueType="t:String" value="educationLevel" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <asTypeSpecifier localId="130" locator="142:55-142:74" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="146" locator="150:1-152:70" name="Occupation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="146">
               <a:s>/*
  @dataElement: ANC.B6.DE7 Occupation
  @activity: ANC.A4. Gather client details
  @description: The woman's occupation (select all that apply)
*/
define &quot;Occupation&quot;:
  </a:s>
               <a:s r="145">
                  <a:s>
                     <a:s r="136">
                        <a:s r="135">
                           <a:s r="135">
                              <a:s>[Patient]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="144">
                     <a:s>return </a:s>
                     <a:s r="143">
                        <a:s r="141">
                           <a:s r="140">
                              <a:s r="137">
                                 <a:s>AC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="140">
                                 <a:s>Extension(</a:s>
                                 <a:s r="138">
                                    <a:s>P</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="139">
                                    <a:s>'occupation'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="141">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="142">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="145" locator="151:3-152:70" xsi:type="Query">
            <source localId="136" locator="151:3-151:13" alias="P">
               <expression localId="135" locator="151:3-151:11" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
            </source>
            <return localId="144" locator="152:5-152:70">
               <expression localId="143" locator="152:12-152:70" strict="false" xsi:type="As">
                  <operand localId="141" locator="152:12-152:46" path="value" xsi:type="Property">
                     <source localId="140" locator="152:12-152:40" name="Extension" libraryName="AC" xsi:type="FunctionRef">
                        <operand localId="138" locator="152:25" name="P" xsi:type="AliasRef"/>
                        <operand localId="139" locator="152:28-152:39" valueType="t:String" value="occupation" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <asTypeSpecifier localId="142" locator="152:51-152:70" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="176" locator="160:1-164:64" name="Co-habitants" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="176">
               <a:s>/*
  @dataElement: ANC.A.DE13 Co-habitants
  @activity: ANC.A7. Create client record?OR?ANC.A8. Validate client details
  @description: Who does the client live with? It is important to know whether client lives with parents, other family members, a partner, friends, etc.
*/
define &quot;Co-habitants&quot;:
  </a:s>
               <a:s r="175">
                  <a:s>
                     <a:s r="148">
                        <a:s r="147">
                           <a:s r="147">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Co-habitants&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="174">
                     <a:s>where </a:s>
                     <a:s r="174">
                        <a:s r="164">
                           <a:s r="155">
                              <a:s r="150">
                                 <a:s r="149">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="150">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="154">
                                 <a:s>{ </a:s>
                                 <a:s r="151">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="152">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="153">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="163">
                              <a:s r="162">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="160">
                                    <a:s r="159">
                                       <a:s r="156">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="159">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="157">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="158">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="160">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="161">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="173">
                           <a:s r="170">
                              <a:s>Last(</a:s>
                              <a:s r="169">
                                 <a:s>Split(</a:s>
                                 <a:s r="167">
                                    <a:s r="166">
                                       <a:s r="165">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="166">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="167">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="168">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="172">
                              <a:s r="171">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="172">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="175" locator="161:3-164:64" xsi:type="Query">
            <source localId="148" locator="161:3-161:36" alias="O">
               <expression localId="147" locator="161:3-161:34" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="161:17-161:33" name="Co-habitants" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="174" locator="162:5-164:64" xsi:type="And">
               <operand localId="164" locator="162:11-163:80" xsi:type="And">
                  <operand localId="155" locator="162:11-162:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="150" locator="162:11-162:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="154" locator="162:23-162:57" xsi:type="List">
                        <element localId="151" locator="162:25-162:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="152" locator="162:34-162:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="153" locator="162:45-162:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="163" locator="163:11-163:80" xsi:type="IsFalse">
                     <operand localId="162" locator="163:11-163:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="160" locator="163:20-163:63" path="value" xsi:type="Property">
                                 <source localId="159" locator="163:20-163:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="157" locator="163:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="158" locator="163:44-163:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="161" locator="163:66-163:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="173" locator="164:11-164:64" xsi:type="Equal">
                  <operand localId="170" locator="164:11-164:49" xsi:type="Last">
                     <source localId="169" locator="164:16-164:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="167" locator="164:22-164:42" path="reference" xsi:type="Property">
                              <source localId="166" locator="164:22-164:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="168" locator="164:45-164:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="172" locator="164:53-164:64" path="id" xsi:type="Property">
                        <source localId="171" locator="164:53-164:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="211" locator="172:1-178:25" name="Pregnancy confirmed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="211">
               <a:s>/*
  @dataElement: ANC.B4.DE1 Pregnancy confirmed
  @activity: ANC.B4. Confirm pregnancy
  @description: Pregnancy has been confirmed
*/
define &quot;Pregnancy confirmed&quot;:
  </a:s>
               <a:s r="210">
                  <a:s r="208">
                     <a:s r="207">
                        <a:s r="177">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="207">
                           <a:s>Only(
  </a:s>
                           <a:s r="206">
                              <a:s>
                                 <a:s r="179">
                                    <a:s r="178">
                                       <a:s r="178">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Pregnancy confirmed&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="205">
                                 <a:s>where </a:s>
                                 <a:s r="205">
                                    <a:s r="195">
                                       <a:s r="186">
                                          <a:s r="181">
                                             <a:s r="180">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="181">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="185">
                                             <a:s>{ </a:s>
                                             <a:s r="182">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="183">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="184">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="194">
                                          <a:s r="193">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="191">
                                                <a:s r="190">
                                                   <a:s r="187">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="190">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="188">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="189">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="191">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="192">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="204">
                                       <a:s r="201">
                                          <a:s>Last(</a:s>
                                          <a:s r="200">
                                             <a:s>Split(</a:s>
                                             <a:s r="198">
                                                <a:s r="197">
                                                   <a:s r="196">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="197">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="198">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="199">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="203">
                                          <a:s r="202">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="203">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="208">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="209">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="210" locator="173:3-178:25" strict="false" xsi:type="As">
            <operand localId="208" locator="173:3-178:9" path="value" xsi:type="Property">
               <source localId="207" locator="173:3-178:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="206" locator="174:3-177:64" xsi:type="Query">
                     <source localId="179" locator="174:3-174:43" alias="O">
                        <expression localId="178" locator="174:3-174:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="174:17-174:40" name="Pregnancy confirmed" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="205" locator="175:5-177:64" xsi:type="And">
                        <operand localId="195" locator="175:11-176:80" xsi:type="And">
                           <operand localId="186" locator="175:11-175:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="181" locator="175:11-175:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="185" locator="175:23-175:57" xsi:type="List">
                                 <element localId="182" locator="175:25-175:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="183" locator="175:34-175:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="184" locator="175:45-175:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="194" locator="176:11-176:80" xsi:type="IsFalse">
                              <operand localId="193" locator="176:11-176:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="191" locator="176:20-176:63" path="value" xsi:type="Property">
                                          <source localId="190" locator="176:20-176:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="188" locator="176:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="189" locator="176:44-176:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="192" locator="176:66-176:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="204" locator="177:11-177:64" xsi:type="Equal">
                           <operand localId="201" locator="177:11-177:49" xsi:type="Last">
                              <source localId="200" locator="177:16-177:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="198" locator="177:22-177:42" path="reference" xsi:type="Property">
                                       <source localId="197" locator="177:22-177:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="199" locator="177:45-177:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="203" locator="177:53-177:64" path="id" xsi:type="Property">
                                 <source localId="202" locator="177:53-177:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="209" locator="178:14-178:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="246" locator="186:1-191:42" name="Danger signs" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="246">
               <a:s>/*
  @dataElement: ANC.B5.DE48 Danger signs
  @activity: ANC.B5. Quick check
  @description: Before each contact, the health worker should check whether the woman has any of the danger signs listed here â€“ if yes, she should refer to the hospital urgently; if no, she should continue to the normal contact
*/
define &quot;Danger signs&quot;:
  </a:s>
               <a:s r="245">
                  <a:s>
                     <a:s r="213">
                        <a:s r="212">
                           <a:s r="212">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Danger signs&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="239">
                     <a:s>where </a:s>
                     <a:s r="239">
                        <a:s r="229">
                           <a:s r="220">
                              <a:s r="215">
                                 <a:s r="214">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="215">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="219">
                                 <a:s>{ </a:s>
                                 <a:s r="216">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="217">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="218">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="228">
                              <a:s r="227">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="225">
                                    <a:s r="224">
                                       <a:s r="221">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="224">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="222">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="223">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="225">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="226">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="238">
                           <a:s r="235">
                              <a:s>Last(</a:s>
                              <a:s r="234">
                                 <a:s>Split(</a:s>
                                 <a:s r="232">
                                    <a:s r="231">
                                       <a:s r="230">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="231">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="232">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="233">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="237">
                              <a:s r="236">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="237">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="244">
                     <a:s>return </a:s>
                     <a:s r="243">
                        <a:s r="241">
                           <a:s r="240">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="241">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="242">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="245" locator="187:3-191:42" xsi:type="Query">
            <source localId="213" locator="187:3-187:36" alias="O">
               <expression localId="212" locator="187:3-187:34" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="187:17-187:33" name="Danger signs" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="239" locator="188:5-190:64" xsi:type="And">
               <operand localId="229" locator="188:11-189:80" xsi:type="And">
                  <operand localId="220" locator="188:11-188:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="215" locator="188:11-188:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="219" locator="188:23-188:57" xsi:type="List">
                        <element localId="216" locator="188:25-188:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="217" locator="188:34-188:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="218" locator="188:45-188:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="228" locator="189:11-189:80" xsi:type="IsFalse">
                     <operand localId="227" locator="189:11-189:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="225" locator="189:20-189:63" path="value" xsi:type="Property">
                                 <source localId="224" locator="189:20-189:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="222" locator="189:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="223" locator="189:44-189:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="226" locator="189:66-189:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="238" locator="190:11-190:64" xsi:type="Equal">
                  <operand localId="235" locator="190:11-190:49" xsi:type="Last">
                     <source localId="234" locator="190:16-190:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="232" locator="190:22-190:42" path="reference" xsi:type="Property">
                              <source localId="231" locator="190:22-190:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="233" locator="190:45-190:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="237" locator="190:53-190:64" path="id" xsi:type="Property">
                        <source localId="236" locator="190:53-190:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="244" locator="191:5-191:42">
               <expression localId="243" locator="191:12-191:42" strict="false" xsi:type="As">
                  <operand localId="241" locator="191:12-191:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="242" locator="191:23-191:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="281" locator="199:1-204:42" name="Specific health concern(s)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="281">
               <a:s>/*
  @dataElement: ANC.B5.DE5 Specific health concern(s)
  @activity: ANC.B5. Quick check
  @description: If the woman came to the facility with a specific health concern, select the health concern(s) from the list
*/
define &quot;Specific health concern(s)&quot;:
  </a:s>
               <a:s r="280">
                  <a:s>
                     <a:s r="248">
                        <a:s r="247">
                           <a:s r="247">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Specific health concern(s)&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="274">
                     <a:s>where </a:s>
                     <a:s r="274">
                        <a:s r="264">
                           <a:s r="255">
                              <a:s r="250">
                                 <a:s r="249">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="250">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="254">
                                 <a:s>{ </a:s>
                                 <a:s r="251">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="252">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="253">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="263">
                              <a:s r="262">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="260">
                                    <a:s r="259">
                                       <a:s r="256">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="259">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="257">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="258">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="260">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="261">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="273">
                           <a:s r="270">
                              <a:s>Last(</a:s>
                              <a:s r="269">
                                 <a:s>Split(</a:s>
                                 <a:s r="267">
                                    <a:s r="266">
                                       <a:s r="265">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="266">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="267">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="268">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="272">
                              <a:s r="271">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="272">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="279">
                     <a:s>return </a:s>
                     <a:s r="278">
                        <a:s r="276">
                           <a:s r="275">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="276">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="277">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="280" locator="200:3-204:42" xsi:type="Query">
            <source localId="248" locator="200:3-200:50" alias="O">
               <expression localId="247" locator="200:3-200:48" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="200:17-200:47" name="Specific health concern(s)" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="274" locator="201:5-203:64" xsi:type="And">
               <operand localId="264" locator="201:11-202:80" xsi:type="And">
                  <operand localId="255" locator="201:11-201:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="250" locator="201:11-201:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="254" locator="201:23-201:57" xsi:type="List">
                        <element localId="251" locator="201:25-201:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="252" locator="201:34-201:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="253" locator="201:45-201:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="263" locator="202:11-202:80" xsi:type="IsFalse">
                     <operand localId="262" locator="202:11-202:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="260" locator="202:20-202:63" path="value" xsi:type="Property">
                                 <source localId="259" locator="202:20-202:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="257" locator="202:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="258" locator="202:44-202:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="261" locator="202:66-202:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="273" locator="203:11-203:64" xsi:type="Equal">
                  <operand localId="270" locator="203:11-203:49" xsi:type="Last">
                     <source localId="269" locator="203:16-203:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="267" locator="203:22-203:42" path="reference" xsi:type="Property">
                              <source localId="266" locator="203:22-203:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="268" locator="203:45-203:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="272" locator="203:53-203:64" path="id" xsi:type="Property">
                        <source localId="271" locator="203:53-203:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="279" locator="204:5-204:42">
               <expression localId="278" locator="204:12-204:42" strict="false" xsi:type="As">
                  <operand localId="276" locator="204:12-204:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="277" locator="204:23-204:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="316" locator="212:1-218:33" name="Tetanus toxoid-containing vaccine (TTCV) immunization history" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="316">
               <a:s>/*
  @dataElement: ANC.B6.DE100 Tetanus toxoid-containing vaccine (TTCV) immunization history
  @activity: ANC.B6. Collect woman's profile and history
  @description: The woman's history of receiving tetanus toxoid-containing vaccine (TTCV)
*/
define &quot;Tetanus toxoid-containing vaccine (TTCV) immunization history&quot;:
  </a:s>
               <a:s r="315">
                  <a:s r="313">
                     <a:s r="312">
                        <a:s r="282">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="312">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="311">
                              <a:s>
                                 <a:s r="284">
                                    <a:s r="283">
                                       <a:s r="283">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Tetanus toxoid-containing vaccine (TTCV) immunization history&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="310">
                                 <a:s>where </a:s>
                                 <a:s r="310">
                                    <a:s r="300">
                                       <a:s r="291">
                                          <a:s r="286">
                                             <a:s r="285">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="286">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="290">
                                             <a:s>{ </a:s>
                                             <a:s r="287">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="288">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="289">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="299">
                                          <a:s r="298">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="296">
                                                <a:s r="295">
                                                   <a:s r="292">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="295">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="293">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="294">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="296">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="297">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="309">
                                       <a:s r="306">
                                          <a:s>Last(</a:s>
                                          <a:s r="305">
                                             <a:s>Split(</a:s>
                                             <a:s r="303">
                                                <a:s r="302">
                                                   <a:s r="301">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="302">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="303">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="304">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="308">
                                          <a:s r="307">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="308">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="313">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="314">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="315" locator="213:3-218:33" strict="false" xsi:type="As">
            <operand localId="313" locator="213:3-218:9" path="value" xsi:type="Property">
               <source localId="312" locator="213:3-218:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="311" locator="214:3-217:64" xsi:type="Query">
                     <source localId="284" locator="214:3-214:85" alias="O">
                        <expression localId="283" locator="214:3-214:83" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="214:17-214:82" name="Tetanus toxoid-containing vaccine (TTCV) immunization history" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="310" locator="215:5-217:64" xsi:type="And">
                        <operand localId="300" locator="215:11-216:80" xsi:type="And">
                           <operand localId="291" locator="215:11-215:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="286" locator="215:11-215:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="290" locator="215:23-215:57" xsi:type="List">
                                 <element localId="287" locator="215:25-215:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="288" locator="215:34-215:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="289" locator="215:45-215:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="299" locator="216:11-216:80" xsi:type="IsFalse">
                              <operand localId="298" locator="216:11-216:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="296" locator="216:20-216:63" path="value" xsi:type="Property">
                                          <source localId="295" locator="216:20-216:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="293" locator="216:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="294" locator="216:44-216:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="297" locator="216:66-216:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="309" locator="217:11-217:64" xsi:type="Equal">
                           <operand localId="306" locator="217:11-217:49" xsi:type="Last">
                              <source localId="305" locator="217:16-217:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="303" locator="217:22-217:42" path="reference" xsi:type="Property">
                                       <source localId="302" locator="217:22-217:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="304" locator="217:45-217:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="308" locator="217:53-217:64" path="id" xsi:type="Property">
                                 <source localId="307" locator="217:53-217:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="314" locator="218:14-218:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="351" locator="226:1-232:33" name="Flu immunization history" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="351">
               <a:s>/*
  @dataElement: ANC.B6.DE105 Flu immunization history
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not this year's seasonal flu vaccine has been provided
*/
define &quot;Flu immunization history&quot;:
  </a:s>
               <a:s r="350">
                  <a:s r="348">
                     <a:s r="347">
                        <a:s r="317">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="347">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="346">
                              <a:s>
                                 <a:s r="319">
                                    <a:s r="318">
                                       <a:s r="318">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Flu immunization history&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="345">
                                 <a:s>where </a:s>
                                 <a:s r="345">
                                    <a:s r="335">
                                       <a:s r="326">
                                          <a:s r="321">
                                             <a:s r="320">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="321">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="325">
                                             <a:s>{ </a:s>
                                             <a:s r="322">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="323">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="324">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="334">
                                          <a:s r="333">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="331">
                                                <a:s r="330">
                                                   <a:s r="327">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="330">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="328">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="329">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="331">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="332">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="344">
                                       <a:s r="341">
                                          <a:s>Last(</a:s>
                                          <a:s r="340">
                                             <a:s>Split(</a:s>
                                             <a:s r="338">
                                                <a:s r="337">
                                                   <a:s r="336">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="337">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="338">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="339">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="343">
                                          <a:s r="342">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="343">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="348">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="349">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="350" locator="227:3-232:33" strict="false" xsi:type="As">
            <operand localId="348" locator="227:3-232:9" path="value" xsi:type="Property">
               <source localId="347" locator="227:3-232:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="346" locator="228:3-231:64" xsi:type="Query">
                     <source localId="319" locator="228:3-228:48" alias="O">
                        <expression localId="318" locator="228:3-228:46" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="228:17-228:45" name="Flu immunization history" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="345" locator="229:5-231:64" xsi:type="And">
                        <operand localId="335" locator="229:11-230:80" xsi:type="And">
                           <operand localId="326" locator="229:11-229:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="321" locator="229:11-229:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="325" locator="229:23-229:57" xsi:type="List">
                                 <element localId="322" locator="229:25-229:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="323" locator="229:34-229:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="324" locator="229:45-229:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="334" locator="230:11-230:80" xsi:type="IsFalse">
                              <operand localId="333" locator="230:11-230:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="331" locator="230:20-230:63" path="value" xsi:type="Property">
                                          <source localId="330" locator="230:20-230:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="328" locator="230:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="329" locator="230:44-230:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="332" locator="230:66-230:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="344" locator="231:11-231:64" xsi:type="Equal">
                           <operand localId="341" locator="231:11-231:49" xsi:type="Last">
                              <source localId="340" locator="231:16-231:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="338" locator="231:22-231:42" path="reference" xsi:type="Property">
                                       <source localId="337" locator="231:22-231:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="339" locator="231:45-231:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="343" locator="231:53-231:64" path="id" xsi:type="Property">
                                 <source localId="342" locator="231:53-231:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="349" locator="232:14-232:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="386" locator="240:1-245:42" name="Current medications" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="386">
               <a:s>/*
  @dataElement: ANC.B6.DE109 Current medications
  @activity: ANC.B6. Collect woman's profile and history
  @description: Select all of the medications the woman is currently taking
*/
define &quot;Current medications&quot;:
  </a:s>
               <a:s r="385">
                  <a:s>
                     <a:s r="353">
                        <a:s r="352">
                           <a:s r="352">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Current medications&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="379">
                     <a:s>where </a:s>
                     <a:s r="379">
                        <a:s r="369">
                           <a:s r="360">
                              <a:s r="355">
                                 <a:s r="354">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="355">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="359">
                                 <a:s>{ </a:s>
                                 <a:s r="356">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="357">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="358">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="368">
                              <a:s r="367">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="365">
                                    <a:s r="364">
                                       <a:s r="361">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="364">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="362">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="363">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="365">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="366">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="378">
                           <a:s r="375">
                              <a:s>Last(</a:s>
                              <a:s r="374">
                                 <a:s>Split(</a:s>
                                 <a:s r="372">
                                    <a:s r="371">
                                       <a:s r="370">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="371">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="372">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="373">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="377">
                              <a:s r="376">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="377">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="384">
                     <a:s>return </a:s>
                     <a:s r="383">
                        <a:s r="381">
                           <a:s r="380">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="381">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="382">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="385" locator="241:3-245:42" xsi:type="Query">
            <source localId="353" locator="241:3-241:43" alias="O">
               <expression localId="352" locator="241:3-241:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="241:17-241:40" name="Current medications" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="379" locator="242:5-244:64" xsi:type="And">
               <operand localId="369" locator="242:11-243:80" xsi:type="And">
                  <operand localId="360" locator="242:11-242:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="355" locator="242:11-242:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="359" locator="242:23-242:57" xsi:type="List">
                        <element localId="356" locator="242:25-242:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="357" locator="242:34-242:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="358" locator="242:45-242:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="368" locator="243:11-243:80" xsi:type="IsFalse">
                     <operand localId="367" locator="243:11-243:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="365" locator="243:20-243:63" path="value" xsi:type="Property">
                                 <source localId="364" locator="243:20-243:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="362" locator="243:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="363" locator="243:44-243:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="366" locator="243:66-243:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="378" locator="244:11-244:64" xsi:type="Equal">
                  <operand localId="375" locator="244:11-244:49" xsi:type="Last">
                     <source localId="374" locator="244:16-244:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="372" locator="244:22-244:42" path="reference" xsi:type="Property">
                              <source localId="371" locator="244:22-244:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="373" locator="244:45-244:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="377" locator="244:53-244:64" path="id" xsi:type="Property">
                        <source localId="376" locator="244:53-244:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="384" locator="245:5-245:42">
               <expression localId="383" locator="245:12-245:42" strict="false" xsi:type="As">
                  <operand localId="381" locator="245:12-245:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="382" locator="245:23-245:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="421" locator="253:1-258:42" name="Daily caffeine intake" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="421">
               <a:s>/*
  @dataElement: ANC.B6.DE139 Daily caffeine intake
  @activity: ANC.B6. Collect woman's profile and history
  @description: Assesses whether the woman consumes more than 300 mg of caffeine per day
*/
define &quot;Daily caffeine intake&quot;:
  </a:s>
               <a:s r="420">
                  <a:s>
                     <a:s r="388">
                        <a:s r="387">
                           <a:s r="387">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Daily caffeine intake&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="414">
                     <a:s>where </a:s>
                     <a:s r="414">
                        <a:s r="404">
                           <a:s r="395">
                              <a:s r="390">
                                 <a:s r="389">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="390">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="394">
                                 <a:s>{ </a:s>
                                 <a:s r="391">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="392">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="393">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="403">
                              <a:s r="402">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="400">
                                    <a:s r="399">
                                       <a:s r="396">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="399">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="397">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="398">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="400">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="401">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="413">
                           <a:s r="410">
                              <a:s>Last(</a:s>
                              <a:s r="409">
                                 <a:s>Split(</a:s>
                                 <a:s r="407">
                                    <a:s r="406">
                                       <a:s r="405">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="406">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="407">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="408">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="412">
                              <a:s r="411">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="412">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="419">
                     <a:s>return </a:s>
                     <a:s r="418">
                        <a:s r="416">
                           <a:s r="415">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="416">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="417">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="420" locator="254:3-258:42" xsi:type="Query">
            <source localId="388" locator="254:3-254:45" alias="O">
               <expression localId="387" locator="254:3-254:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="254:17-254:42" name="Daily caffeine intake" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="414" locator="255:5-257:64" xsi:type="And">
               <operand localId="404" locator="255:11-256:80" xsi:type="And">
                  <operand localId="395" locator="255:11-255:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="390" locator="255:11-255:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="394" locator="255:23-255:57" xsi:type="List">
                        <element localId="391" locator="255:25-255:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="392" locator="255:34-255:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="393" locator="255:45-255:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="403" locator="256:11-256:80" xsi:type="IsFalse">
                     <operand localId="402" locator="256:11-256:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="400" locator="256:20-256:63" path="value" xsi:type="Property">
                                 <source localId="399" locator="256:20-256:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="397" locator="256:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="398" locator="256:44-256:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="401" locator="256:66-256:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="413" locator="257:11-257:64" xsi:type="Equal">
                  <operand localId="410" locator="257:11-257:49" xsi:type="Last">
                     <source localId="409" locator="257:16-257:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="407" locator="257:22-257:42" path="reference" xsi:type="Property">
                              <source localId="406" locator="257:22-257:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="408" locator="257:45-257:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="412" locator="257:53-257:64" path="id" xsi:type="Property">
                        <source localId="411" locator="257:53-257:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="419" locator="258:5-258:42">
               <expression localId="418" locator="258:12-258:42" strict="false" xsi:type="As">
                  <operand localId="416" locator="258:12-258:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="417" locator="258:23-258:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="456" locator="266:1-272:26" name="Last menstrual period (LMP) date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="456">
               <a:s>/*
  @dataElement: ANC.B6.DE14 Last menstrual period (LMP) date
  @activity: ANC.B6. Collect woman's profile and history
  @description: The woman's last menstrual period (LMP) date; this is defined as the first day of her most recent period
*/
define &quot;Last menstrual period (LMP) date&quot;:
  </a:s>
               <a:s r="455">
                  <a:s r="453">
                     <a:s r="452">
                        <a:s r="422">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="452">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="451">
                              <a:s>
                                 <a:s r="424">
                                    <a:s r="423">
                                       <a:s r="423">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Last menstrual period (LMP) date&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="450">
                                 <a:s>where </a:s>
                                 <a:s r="450">
                                    <a:s r="440">
                                       <a:s r="431">
                                          <a:s r="426">
                                             <a:s r="425">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="426">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="430">
                                             <a:s>{ </a:s>
                                             <a:s r="427">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="428">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="429">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="439">
                                          <a:s r="438">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="436">
                                                <a:s r="435">
                                                   <a:s r="432">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="435">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="433">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="434">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="436">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="437">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="449">
                                       <a:s r="446">
                                          <a:s>Last(</a:s>
                                          <a:s r="445">
                                             <a:s>Split(</a:s>
                                             <a:s r="443">
                                                <a:s r="442">
                                                   <a:s r="441">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="442">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="443">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="444">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="448">
                                          <a:s r="447">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="448">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="453">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="454">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="455" locator="267:3-272:26" strict="false" xsi:type="As">
            <operand localId="453" locator="267:3-272:9" path="value" xsi:type="Property">
               <source localId="452" locator="267:3-272:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="451" locator="268:3-271:64" xsi:type="Query">
                     <source localId="424" locator="268:3-268:56" alias="O">
                        <expression localId="423" locator="268:3-268:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="268:17-268:53" name="Last menstrual period (LMP) date" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="450" locator="269:5-271:64" xsi:type="And">
                        <operand localId="440" locator="269:11-270:80" xsi:type="And">
                           <operand localId="431" locator="269:11-269:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="426" locator="269:11-269:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="430" locator="269:23-269:57" xsi:type="List">
                                 <element localId="427" locator="269:25-269:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="428" locator="269:34-269:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="429" locator="269:45-269:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="439" locator="270:11-270:80" xsi:type="IsFalse">
                              <operand localId="438" locator="270:11-270:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="436" locator="270:20-270:63" path="value" xsi:type="Property">
                                          <source localId="435" locator="270:20-270:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="433" locator="270:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="434" locator="270:44-270:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="437" locator="270:66-270:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="449" locator="271:11-271:64" xsi:type="Equal">
                           <operand localId="446" locator="271:11-271:49" xsi:type="Last">
                              <source localId="445" locator="271:16-271:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="443" locator="271:22-271:42" path="reference" xsi:type="Property">
                                       <source localId="442" locator="271:22-271:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="444" locator="271:45-271:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="448" locator="271:53-271:64" path="id" xsi:type="Property">
                                 <source localId="447" locator="271:53-271:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="454" locator="272:14-272:26" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="491" locator="280:1-286:33" name="Clinical enquiry for alcohol and other substance use done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="491">
               <a:s>/*
  @dataElement: ANC.B6.DE145 Clinical enquiry for alcohol and other substance use done
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not the health worker has performed a clinical enquiry into alcohol and substance use
*/
define &quot;Clinical enquiry for alcohol and other substance use done&quot;:
  </a:s>
               <a:s r="490">
                  <a:s r="488">
                     <a:s r="487">
                        <a:s r="457">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="487">
                           <a:s>Only(
  </a:s>
                           <a:s r="486">
                              <a:s>
                                 <a:s r="459">
                                    <a:s r="458">
                                       <a:s r="458">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Clinical enquiry for alcohol and other substance use done&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="485">
                                 <a:s>where </a:s>
                                 <a:s r="485">
                                    <a:s r="475">
                                       <a:s r="466">
                                          <a:s r="461">
                                             <a:s r="460">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="461">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="465">
                                             <a:s>{ </a:s>
                                             <a:s r="462">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="463">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="464">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="474">
                                          <a:s r="473">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="471">
                                                <a:s r="470">
                                                   <a:s r="467">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="470">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="468">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="469">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="471">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="472">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="484">
                                       <a:s r="481">
                                          <a:s>Last(</a:s>
                                          <a:s r="480">
                                             <a:s>Split(</a:s>
                                             <a:s r="478">
                                                <a:s r="477">
                                                   <a:s r="476">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="477">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="478">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="479">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="483">
                                          <a:s r="482">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="483">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="488">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="489">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="490" locator="281:3-286:33" strict="false" xsi:type="As">
            <operand localId="488" locator="281:3-286:9" path="value" xsi:type="Property">
               <source localId="487" locator="281:3-286:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="486" locator="282:3-285:64" xsi:type="Query">
                     <source localId="459" locator="282:3-282:81" alias="O">
                        <expression localId="458" locator="282:3-282:79" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="282:17-282:78" name="Clinical enquiry for alcohol and other substance use done" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="485" locator="283:5-285:64" xsi:type="And">
                        <operand localId="475" locator="283:11-284:80" xsi:type="And">
                           <operand localId="466" locator="283:11-283:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="461" locator="283:11-283:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="465" locator="283:23-283:57" xsi:type="List">
                                 <element localId="462" locator="283:25-283:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="463" locator="283:34-283:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="464" locator="283:45-283:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="474" locator="284:11-284:80" xsi:type="IsFalse">
                              <operand localId="473" locator="284:11-284:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="471" locator="284:20-284:63" path="value" xsi:type="Property">
                                          <source localId="470" locator="284:20-284:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="468" locator="284:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="469" locator="284:44-284:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="472" locator="284:66-284:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="484" locator="285:11-285:64" xsi:type="Equal">
                           <operand localId="481" locator="285:11-285:49" xsi:type="Last">
                              <source localId="480" locator="285:16-285:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="478" locator="285:22-285:42" path="reference" xsi:type="Property">
                                       <source localId="477" locator="285:22-285:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="479" locator="285:45-285:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="483" locator="285:53-285:64" path="id" xsi:type="Property">
                                 <source localId="482" locator="285:53-285:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="489" locator="286:14-286:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="526" locator="294:1-299:42" name="Current alcohol and/or other substance use" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="526">
               <a:s>/*
  @dataElement: ANC.B6.DE146 Current alcohol and/or other substance use
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not the woman currently consumes any alcohol or substances
*/
define &quot;Current alcohol and/or other substance use&quot;:
  </a:s>
               <a:s r="525">
                  <a:s>
                     <a:s r="493">
                        <a:s r="492">
                           <a:s r="492">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Current alcohol and/or other substance use&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="519">
                     <a:s>where </a:s>
                     <a:s r="519">
                        <a:s r="509">
                           <a:s r="500">
                              <a:s r="495">
                                 <a:s r="494">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="495">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="499">
                                 <a:s>{ </a:s>
                                 <a:s r="496">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="497">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="498">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="508">
                              <a:s r="507">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="505">
                                    <a:s r="504">
                                       <a:s r="501">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="504">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="502">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="503">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="505">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="506">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="518">
                           <a:s r="515">
                              <a:s>Last(</a:s>
                              <a:s r="514">
                                 <a:s>Split(</a:s>
                                 <a:s r="512">
                                    <a:s r="511">
                                       <a:s r="510">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="511">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="512">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="513">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="517">
                              <a:s r="516">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="517">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="524">
                     <a:s>return </a:s>
                     <a:s r="523">
                        <a:s r="521">
                           <a:s r="520">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="521">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="522">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="525" locator="295:3-299:42" xsi:type="Query">
            <source localId="493" locator="295:3-295:66" alias="O">
               <expression localId="492" locator="295:3-295:64" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="295:17-295:63" name="Current alcohol and/or other substance use" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="519" locator="296:5-298:64" xsi:type="And">
               <operand localId="509" locator="296:11-297:80" xsi:type="And">
                  <operand localId="500" locator="296:11-296:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="495" locator="296:11-296:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="499" locator="296:23-296:57" xsi:type="List">
                        <element localId="496" locator="296:25-296:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="497" locator="296:34-296:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="498" locator="296:45-296:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="508" locator="297:11-297:80" xsi:type="IsFalse">
                     <operand localId="507" locator="297:11-297:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="505" locator="297:20-297:63" path="value" xsi:type="Property">
                                 <source localId="504" locator="297:20-297:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="502" locator="297:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="503" locator="297:44-297:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="506" locator="297:66-297:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="518" locator="298:11-298:64" xsi:type="Equal">
                  <operand localId="515" locator="298:11-298:49" xsi:type="Last">
                     <source localId="514" locator="298:16-298:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="512" locator="298:22-298:42" path="reference" xsi:type="Property">
                              <source localId="511" locator="298:22-298:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="513" locator="298:45-298:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="517" locator="298:53-298:64" path="id" xsi:type="Property">
                        <source localId="516" locator="298:53-298:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="524" locator="299:5-299:42">
               <expression localId="523" locator="299:12-299:42" strict="false" xsi:type="As">
                  <operand localId="521" locator="299:12-299:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="522" locator="299:23-299:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="561" locator="307:1-313:25" name="Ultrasound done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="561">
               <a:s>/*
  @dataElement: ANC.B6.DE15 Ultrasound done
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not the woman has had an ultrasound scan done at any point in this pregnancy
*/
define &quot;Ultrasound done&quot;:
  </a:s>
               <a:s r="560">
                  <a:s r="558">
                     <a:s r="557">
                        <a:s r="527">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="557">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="556">
                              <a:s>
                                 <a:s r="529">
                                    <a:s r="528">
                                       <a:s r="528">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Ultrasound done&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="555">
                                 <a:s>where </a:s>
                                 <a:s r="555">
                                    <a:s r="545">
                                       <a:s r="536">
                                          <a:s r="531">
                                             <a:s r="530">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="531">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="535">
                                             <a:s>{ </a:s>
                                             <a:s r="532">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="533">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="534">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="544">
                                          <a:s r="543">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="541">
                                                <a:s r="540">
                                                   <a:s r="537">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="540">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="538">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="539">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="541">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="542">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="554">
                                       <a:s r="551">
                                          <a:s>Last(</a:s>
                                          <a:s r="550">
                                             <a:s>Split(</a:s>
                                             <a:s r="548">
                                                <a:s r="547">
                                                   <a:s r="546">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="547">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="548">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="549">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="553">
                                          <a:s r="552">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="553">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="558">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="559">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="560" locator="308:3-313:25" strict="false" xsi:type="As">
            <operand localId="558" locator="308:3-313:9" path="value" xsi:type="Property">
               <source localId="557" locator="308:3-313:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="556" locator="309:3-312:64" xsi:type="Query">
                     <source localId="529" locator="309:3-309:39" alias="O">
                        <expression localId="528" locator="309:3-309:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="309:17-309:36" name="Ultrasound done" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="555" locator="310:5-312:64" xsi:type="And">
                        <operand localId="545" locator="310:11-311:80" xsi:type="And">
                           <operand localId="536" locator="310:11-310:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="531" locator="310:11-310:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="535" locator="310:23-310:57" xsi:type="List">
                                 <element localId="532" locator="310:25-310:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="533" locator="310:34-310:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="534" locator="310:45-310:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="544" locator="311:11-311:80" xsi:type="IsFalse">
                              <operand localId="543" locator="311:11-311:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="541" locator="311:20-311:63" path="value" xsi:type="Property">
                                          <source localId="540" locator="311:20-311:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="538" locator="311:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="539" locator="311:44-311:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="542" locator="311:66-311:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="554" locator="312:11-312:64" xsi:type="Equal">
                           <operand localId="551" locator="312:11-312:49" xsi:type="Last">
                              <source localId="550" locator="312:16-312:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="548" locator="312:22-312:42" path="reference" xsi:type="Property">
                                       <source localId="547" locator="312:22-312:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="549" locator="312:45-312:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="553" locator="312:53-312:64" path="id" xsi:type="Property">
                                 <source localId="552" locator="312:53-312:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="559" locator="313:14-313:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="596" locator="321:1-327:25" name="Tobacco use" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="596">
               <a:s>/*
  @dataElement: ANC.B6.DE153 Tobacco use
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether the woman uses tobacco products
*/
define &quot;Tobacco use&quot;:
  </a:s>
               <a:s r="595">
                  <a:s r="593">
                     <a:s r="592">
                        <a:s r="562">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="592">
                           <a:s>Only(
  </a:s>
                           <a:s r="591">
                              <a:s>
                                 <a:s r="564">
                                    <a:s r="563">
                                       <a:s r="563">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Tobacco use&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="590">
                                 <a:s>where </a:s>
                                 <a:s r="590">
                                    <a:s r="580">
                                       <a:s r="571">
                                          <a:s r="566">
                                             <a:s r="565">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="566">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="570">
                                             <a:s>{ </a:s>
                                             <a:s r="567">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="568">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="569">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="579">
                                          <a:s r="578">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="576">
                                                <a:s r="575">
                                                   <a:s r="572">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="575">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="573">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="574">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="576">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="577">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="589">
                                       <a:s r="586">
                                          <a:s>Last(</a:s>
                                          <a:s r="585">
                                             <a:s>Split(</a:s>
                                             <a:s r="583">
                                                <a:s r="582">
                                                   <a:s r="581">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="582">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="583">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="584">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="588">
                                          <a:s r="587">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="588">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="593">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="594">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="595" locator="322:3-327:25" strict="false" xsi:type="As">
            <operand localId="593" locator="322:3-327:9" path="value" xsi:type="Property">
               <source localId="592" locator="322:3-327:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="591" locator="323:3-326:64" xsi:type="Query">
                     <source localId="564" locator="323:3-323:35" alias="O">
                        <expression localId="563" locator="323:3-323:33" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="323:17-323:32" name="Tobacco use" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="590" locator="324:5-326:64" xsi:type="And">
                        <operand localId="580" locator="324:11-325:80" xsi:type="And">
                           <operand localId="571" locator="324:11-324:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="566" locator="324:11-324:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="570" locator="324:23-324:57" xsi:type="List">
                                 <element localId="567" locator="324:25-324:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="568" locator="324:34-324:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="569" locator="324:45-324:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="579" locator="325:11-325:80" xsi:type="IsFalse">
                              <operand localId="578" locator="325:11-325:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="576" locator="325:20-325:63" path="value" xsi:type="Property">
                                          <source localId="575" locator="325:20-325:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="573" locator="325:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="574" locator="325:44-325:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="577" locator="325:66-325:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="589" locator="326:11-326:64" xsi:type="Equal">
                           <operand localId="586" locator="326:11-326:49" xsi:type="Last">
                              <source localId="585" locator="326:16-326:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="583" locator="326:22-326:42" path="reference" xsi:type="Property">
                                       <source localId="582" locator="326:22-326:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="584" locator="326:45-326:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="588" locator="326:53-326:64" path="id" xsi:type="Property">
                                 <source localId="587" locator="326:53-326:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="594" locator="327:14-327:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="631" locator="335:1-341:25" name="Recently quit tobacco products" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="631">
               <a:s>/*
  @dataElement: ANC.B6.DE154 Recently quit tobacco products
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether the woman has recently quit using any tobacco products
*/
define &quot;Recently quit tobacco products&quot;:
  </a:s>
               <a:s r="630">
                  <a:s r="628">
                     <a:s r="627">
                        <a:s r="597">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="627">
                           <a:s>Only(
  </a:s>
                           <a:s r="626">
                              <a:s>
                                 <a:s r="599">
                                    <a:s r="598">
                                       <a:s r="598">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Recently quit tobacco products&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="625">
                                 <a:s>where </a:s>
                                 <a:s r="625">
                                    <a:s r="615">
                                       <a:s r="606">
                                          <a:s r="601">
                                             <a:s r="600">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="601">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="605">
                                             <a:s>{ </a:s>
                                             <a:s r="602">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="603">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="604">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="614">
                                          <a:s r="613">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="611">
                                                <a:s r="610">
                                                   <a:s r="607">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="610">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="608">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="609">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="611">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="612">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="624">
                                       <a:s r="621">
                                          <a:s>Last(</a:s>
                                          <a:s r="620">
                                             <a:s>Split(</a:s>
                                             <a:s r="618">
                                                <a:s r="617">
                                                   <a:s r="616">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="617">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="618">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="619">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="623">
                                          <a:s r="622">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="623">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="628">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="629">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="630" locator="336:3-341:25" strict="false" xsi:type="As">
            <operand localId="628" locator="336:3-341:9" path="value" xsi:type="Property">
               <source localId="627" locator="336:3-341:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="626" locator="337:3-340:64" xsi:type="Query">
                     <source localId="599" locator="337:3-337:54" alias="O">
                        <expression localId="598" locator="337:3-337:52" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="337:17-337:51" name="Recently quit tobacco products" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="625" locator="338:5-340:64" xsi:type="And">
                        <operand localId="615" locator="338:11-339:80" xsi:type="And">
                           <operand localId="606" locator="338:11-338:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="601" locator="338:11-338:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="605" locator="338:23-338:57" xsi:type="List">
                                 <element localId="602" locator="338:25-338:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="603" locator="338:34-338:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="604" locator="338:45-338:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="614" locator="339:11-339:80" xsi:type="IsFalse">
                              <operand localId="613" locator="339:11-339:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="611" locator="339:20-339:63" path="value" xsi:type="Property">
                                          <source localId="610" locator="339:20-339:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="608" locator="339:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="609" locator="339:44-339:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="612" locator="339:66-339:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="624" locator="340:11-340:64" xsi:type="Equal">
                           <operand localId="621" locator="340:11-340:49" xsi:type="Last">
                              <source localId="620" locator="340:16-340:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="618" locator="340:22-340:42" path="reference" xsi:type="Property">
                                       <source localId="617" locator="340:22-340:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="619" locator="340:45-340:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="623" locator="340:53-340:64" path="id" xsi:type="Property">
                                 <source localId="622" locator="340:53-340:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="629" locator="341:14-341:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="666" locator="349:1-355:25" name="Exposure to second-hand smoke" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="666">
               <a:s>/*
  @dataElement: ANC.B6.DE155 Exposure to second-hand smoke
  @activity: ANC.B6. Collect woman's profile and history
  @description: Anyone in the household smokes tobacco products â€“ whether the woman is exposed to second-hand smoke from anyone in her household
*/
define &quot;Exposure to second-hand smoke&quot;:
  </a:s>
               <a:s r="665">
                  <a:s r="663">
                     <a:s r="662">
                        <a:s r="632">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="662">
                           <a:s>Only(
  </a:s>
                           <a:s r="661">
                              <a:s>
                                 <a:s r="634">
                                    <a:s r="633">
                                       <a:s r="633">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Exposure to second-hand smoke&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="660">
                                 <a:s>where </a:s>
                                 <a:s r="660">
                                    <a:s r="650">
                                       <a:s r="641">
                                          <a:s r="636">
                                             <a:s r="635">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="636">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="640">
                                             <a:s>{ </a:s>
                                             <a:s r="637">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="638">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="639">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="649">
                                          <a:s r="648">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="646">
                                                <a:s r="645">
                                                   <a:s r="642">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="645">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="643">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="644">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="646">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="647">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="659">
                                       <a:s r="656">
                                          <a:s>Last(</a:s>
                                          <a:s r="655">
                                             <a:s>Split(</a:s>
                                             <a:s r="653">
                                                <a:s r="652">
                                                   <a:s r="651">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="652">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="653">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="654">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="658">
                                          <a:s r="657">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="658">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="663">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="664">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="665" locator="350:3-355:25" strict="false" xsi:type="As">
            <operand localId="663" locator="350:3-355:9" path="value" xsi:type="Property">
               <source localId="662" locator="350:3-355:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="661" locator="351:3-354:64" xsi:type="Query">
                     <source localId="634" locator="351:3-351:53" alias="O">
                        <expression localId="633" locator="351:3-351:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="351:17-351:50" name="Exposure to second-hand smoke" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="660" locator="352:5-354:64" xsi:type="And">
                        <operand localId="650" locator="352:11-353:80" xsi:type="And">
                           <operand localId="641" locator="352:11-352:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="636" locator="352:11-352:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="640" locator="352:23-352:57" xsi:type="List">
                                 <element localId="637" locator="352:25-352:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="638" locator="352:34-352:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="639" locator="352:45-352:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="649" locator="353:11-353:80" xsi:type="IsFalse">
                              <operand localId="648" locator="353:11-353:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="646" locator="353:20-353:63" path="value" xsi:type="Property">
                                          <source localId="645" locator="353:20-353:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="643" locator="353:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="644" locator="353:44-353:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="647" locator="353:66-353:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="659" locator="354:11-354:64" xsi:type="Equal">
                           <operand localId="656" locator="354:11-354:49" xsi:type="Last">
                              <source localId="655" locator="354:16-354:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="653" locator="354:22-354:42" path="reference" xsi:type="Property">
                                       <source localId="652" locator="354:22-354:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="654" locator="354:45-354:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="658" locator="354:53-354:64" path="id" xsi:type="Property">
                                 <source localId="657" locator="354:53-354:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="664" locator="355:14-355:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="701" locator="363:1-369:33" name="Partner HIV status (reported)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="701">
               <a:s>/*
  @dataElement: ANC.B6.DE156 Partner HIV status (reported)
  @activity: ANC.B6. Collect woman's profile and history
  @description: The HIV status of the woman's partner
*/
define &quot;Partner HIV status (reported)&quot;:
  </a:s>
               <a:s r="700">
                  <a:s r="698">
                     <a:s r="697">
                        <a:s r="667">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="697">
                           <a:s>Only(
  </a:s>
                           <a:s r="696">
                              <a:s>
                                 <a:s r="669">
                                    <a:s r="668">
                                       <a:s r="668">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Partner HIV status (reported)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="695">
                                 <a:s>where </a:s>
                                 <a:s r="695">
                                    <a:s r="685">
                                       <a:s r="676">
                                          <a:s r="671">
                                             <a:s r="670">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="671">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="675">
                                             <a:s>{ </a:s>
                                             <a:s r="672">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="673">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="674">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="684">
                                          <a:s r="683">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="681">
                                                <a:s r="680">
                                                   <a:s r="677">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="680">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="678">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="679">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="681">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="682">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="694">
                                       <a:s r="691">
                                          <a:s>Last(</a:s>
                                          <a:s r="690">
                                             <a:s>Split(</a:s>
                                             <a:s r="688">
                                                <a:s r="687">
                                                   <a:s r="686">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="687">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="688">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="689">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="693">
                                          <a:s r="692">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="693">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="698">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="699">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="700" locator="364:3-369:33" strict="false" xsi:type="As">
            <operand localId="698" locator="364:3-369:9" path="value" xsi:type="Property">
               <source localId="697" locator="364:3-369:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="696" locator="365:3-368:64" xsi:type="Query">
                     <source localId="669" locator="365:3-365:53" alias="O">
                        <expression localId="668" locator="365:3-365:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="365:17-365:50" name="Partner HIV status (reported)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="695" locator="366:5-368:64" xsi:type="And">
                        <operand localId="685" locator="366:11-367:80" xsi:type="And">
                           <operand localId="676" locator="366:11-366:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="671" locator="366:11-366:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="675" locator="366:23-366:57" xsi:type="List">
                                 <element localId="672" locator="366:25-366:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="673" locator="366:34-366:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="674" locator="366:45-366:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="684" locator="367:11-367:80" xsi:type="IsFalse">
                              <operand localId="683" locator="367:11-367:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="681" locator="367:20-367:63" path="value" xsi:type="Property">
                                          <source localId="680" locator="367:20-367:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="678" locator="367:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="679" locator="367:44-367:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="682" locator="367:66-367:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="694" locator="368:11-368:64" xsi:type="Equal">
                           <operand localId="691" locator="368:11-368:49" xsi:type="Last">
                              <source localId="690" locator="368:16-368:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="688" locator="368:22-368:42" path="reference" xsi:type="Property">
                                       <source localId="687" locator="368:22-368:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="689" locator="368:45-368:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="693" locator="368:53-368:64" path="id" xsi:type="Property">
                                 <source localId="692" locator="368:53-368:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="699" locator="369:14-369:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="736" locator="377:1-383:25" name="Contraceptive use of male condoms" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="736">
               <a:s>/*
  @dataElement: ANC.B6.DE160 Contraceptive use of male condoms
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not the woman (and her partner) use male condoms during sex
*/
define &quot;Contraceptive use of male condoms&quot;:
  </a:s>
               <a:s r="735">
                  <a:s r="733">
                     <a:s r="732">
                        <a:s r="702">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="732">
                           <a:s>Only(
  </a:s>
                           <a:s r="731">
                              <a:s>
                                 <a:s r="704">
                                    <a:s r="703">
                                       <a:s r="703">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Contraceptive use of male condoms&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="730">
                                 <a:s>where </a:s>
                                 <a:s r="730">
                                    <a:s r="720">
                                       <a:s r="711">
                                          <a:s r="706">
                                             <a:s r="705">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="706">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="710">
                                             <a:s>{ </a:s>
                                             <a:s r="707">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="708">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="709">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="719">
                                          <a:s r="718">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="716">
                                                <a:s r="715">
                                                   <a:s r="712">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="715">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="713">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="714">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="716">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="717">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="729">
                                       <a:s r="726">
                                          <a:s>Last(</a:s>
                                          <a:s r="725">
                                             <a:s>Split(</a:s>
                                             <a:s r="723">
                                                <a:s r="722">
                                                   <a:s r="721">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="722">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="723">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="724">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="728">
                                          <a:s r="727">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="728">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="733">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="734">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="735" locator="378:3-383:25" strict="false" xsi:type="As">
            <operand localId="733" locator="378:3-383:9" path="value" xsi:type="Property">
               <source localId="732" locator="378:3-383:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="731" locator="379:3-382:64" xsi:type="Query">
                     <source localId="704" locator="379:3-379:57" alias="O">
                        <expression localId="703" locator="379:3-379:55" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="379:17-379:54" name="Contraceptive use of male condoms" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="730" locator="380:5-382:64" xsi:type="And">
                        <operand localId="720" locator="380:11-381:80" xsi:type="And">
                           <operand localId="711" locator="380:11-380:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="706" locator="380:11-380:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="710" locator="380:23-380:57" xsi:type="List">
                                 <element localId="707" locator="380:25-380:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="708" locator="380:34-380:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="709" locator="380:45-380:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="719" locator="381:11-381:80" xsi:type="IsFalse">
                              <operand localId="718" locator="381:11-381:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="716" locator="381:20-381:63" path="value" xsi:type="Property">
                                          <source localId="715" locator="381:20-381:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="713" locator="381:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="714" locator="381:44-381:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="717" locator="381:66-381:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="729" locator="382:11-382:64" xsi:type="Equal">
                           <operand localId="726" locator="382:11-382:49" xsi:type="Last">
                              <source localId="725" locator="382:16-382:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="723" locator="382:22-382:42" path="reference" xsi:type="Property">
                                       <source localId="722" locator="382:22-382:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="724" locator="382:45-382:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="728" locator="382:53-382:64" path="id" xsi:type="Property">
                                 <source localId="727" locator="382:53-382:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="734" locator="383:14-383:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="771" locator="391:1-397:25" name="Contraceptive use of female condoms" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="771">
               <a:s>/*
  @dataElement: ANC.B6.DE161 Contraceptive use of female condoms
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether or not the woman (and her partner) use female condoms during sex
*/
define &quot;Contraceptive use of female condoms&quot;:
  </a:s>
               <a:s r="770">
                  <a:s r="768">
                     <a:s r="767">
                        <a:s r="737">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="767">
                           <a:s>Only(
  </a:s>
                           <a:s r="766">
                              <a:s>
                                 <a:s r="739">
                                    <a:s r="738">
                                       <a:s r="738">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Contraceptive use of female condoms&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="765">
                                 <a:s>where </a:s>
                                 <a:s r="765">
                                    <a:s r="755">
                                       <a:s r="746">
                                          <a:s r="741">
                                             <a:s r="740">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="741">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="745">
                                             <a:s>{ </a:s>
                                             <a:s r="742">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="743">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="744">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="754">
                                          <a:s r="753">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="751">
                                                <a:s r="750">
                                                   <a:s r="747">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="750">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="748">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="749">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="751">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="752">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="764">
                                       <a:s r="761">
                                          <a:s>Last(</a:s>
                                          <a:s r="760">
                                             <a:s>Split(</a:s>
                                             <a:s r="758">
                                                <a:s r="757">
                                                   <a:s r="756">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="757">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="758">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="759">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="763">
                                          <a:s r="762">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="763">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="768">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="769">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="770" locator="392:3-397:25" strict="false" xsi:type="As">
            <operand localId="768" locator="392:3-397:9" path="value" xsi:type="Property">
               <source localId="767" locator="392:3-397:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="766" locator="393:3-396:64" xsi:type="Query">
                     <source localId="739" locator="393:3-393:59" alias="O">
                        <expression localId="738" locator="393:3-393:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="393:17-393:56" name="Contraceptive use of female condoms" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="765" locator="394:5-396:64" xsi:type="And">
                        <operand localId="755" locator="394:11-395:80" xsi:type="And">
                           <operand localId="746" locator="394:11-394:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="741" locator="394:11-394:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="745" locator="394:23-394:57" xsi:type="List">
                                 <element localId="742" locator="394:25-394:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="743" locator="394:34-394:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="744" locator="394:45-394:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="754" locator="395:11-395:80" xsi:type="IsFalse">
                              <operand localId="753" locator="395:11-395:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="751" locator="395:20-395:63" path="value" xsi:type="Property">
                                          <source localId="750" locator="395:20-395:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="748" locator="395:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="749" locator="395:44-395:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="752" locator="395:66-395:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="764" locator="396:11-396:64" xsi:type="Equal">
                           <operand localId="761" locator="396:11-396:49" xsi:type="Last">
                              <source localId="760" locator="396:16-396:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="758" locator="396:22-396:42" path="reference" xsi:type="Property">
                                       <source localId="757" locator="396:22-396:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="759" locator="396:45-396:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="763" locator="396:53-396:64" path="id" xsi:type="Property">
                                 <source localId="762" locator="396:53-396:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="769" locator="397:14-397:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="806" locator="405:1-411:26" name="Gestational age" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="806">
               <a:s>/*
  @dataElement: ANC.B6.DE17 Gestational age
  @activity: ANC.B6. Collect woman's profile and history
  @description: Gestational age in weeks and/or days depending on the source of gestational age
*/
define &quot;Gestational age&quot;:
  </a:s>
               <a:s r="805">
                  <a:s r="803">
                     <a:s r="802">
                        <a:s r="772">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="802">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="801">
                              <a:s>
                                 <a:s r="774">
                                    <a:s r="773">
                                       <a:s r="773">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Gestational age&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="800">
                                 <a:s>where </a:s>
                                 <a:s r="800">
                                    <a:s r="790">
                                       <a:s r="781">
                                          <a:s r="776">
                                             <a:s r="775">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="776">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="780">
                                             <a:s>{ </a:s>
                                             <a:s r="777">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="778">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="779">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="789">
                                          <a:s r="788">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="786">
                                                <a:s r="785">
                                                   <a:s r="782">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="785">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="783">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="784">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="786">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="787">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="799">
                                       <a:s r="796">
                                          <a:s>Last(</a:s>
                                          <a:s r="795">
                                             <a:s>Split(</a:s>
                                             <a:s r="793">
                                                <a:s r="792">
                                                   <a:s r="791">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="792">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="793">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="794">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="798">
                                          <a:s r="797">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="798">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="803">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="804">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="805" locator="406:3-411:26" strict="false" xsi:type="As">
            <operand localId="803" locator="406:3-411:9" path="value" xsi:type="Property">
               <source localId="802" locator="406:3-411:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="801" locator="407:3-410:64" xsi:type="Query">
                     <source localId="774" locator="407:3-407:39" alias="O">
                        <expression localId="773" locator="407:3-407:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="407:17-407:36" name="Gestational age" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="800" locator="408:5-410:64" xsi:type="And">
                        <operand localId="790" locator="408:11-409:80" xsi:type="And">
                           <operand localId="781" locator="408:11-408:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="776" locator="408:11-408:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="780" locator="408:23-408:57" xsi:type="List">
                                 <element localId="777" locator="408:25-408:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="778" locator="408:34-408:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="779" locator="408:45-408:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="789" locator="409:11-409:80" xsi:type="IsFalse">
                              <operand localId="788" locator="409:11-409:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="786" locator="409:20-409:63" path="value" xsi:type="Property">
                                          <source localId="785" locator="409:20-409:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="783" locator="409:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="784" locator="409:44-409:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="787" locator="409:66-409:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="799" locator="410:11-410:64" xsi:type="Equal">
                           <operand localId="796" locator="410:11-410:49" xsi:type="Last">
                              <source localId="795" locator="410:16-410:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="793" locator="410:22-410:42" path="reference" xsi:type="Property">
                                       <source localId="792" locator="410:22-410:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="794" locator="410:45-410:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="798" locator="410:53-410:64" path="id" xsi:type="Property">
                                 <source localId="797" locator="410:53-410:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="804" locator="411:14-411:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="841" locator="419:1-425:33" name="Source of gestational age" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="841">
               <a:s>/*
  @dataElement: ANC.B6.DE18 Source of gestational age
  @activity: ANC.B6. Collect woman's profile and history
  @description: Gestational age can be calculated multiple ways â€“ this data element describes where the gestational age above has been calculated from
*/
define &quot;Source of gestational age&quot;:
  </a:s>
               <a:s r="840">
                  <a:s r="838">
                     <a:s r="837">
                        <a:s r="807">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="837">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="836">
                              <a:s>
                                 <a:s r="809">
                                    <a:s r="808">
                                       <a:s r="808">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Source of gestational age&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="835">
                                 <a:s>where </a:s>
                                 <a:s r="835">
                                    <a:s r="825">
                                       <a:s r="816">
                                          <a:s r="811">
                                             <a:s r="810">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="811">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="815">
                                             <a:s>{ </a:s>
                                             <a:s r="812">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="813">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="814">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="824">
                                          <a:s r="823">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="821">
                                                <a:s r="820">
                                                   <a:s r="817">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="820">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="818">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="819">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="821">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="822">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="834">
                                       <a:s r="831">
                                          <a:s>Last(</a:s>
                                          <a:s r="830">
                                             <a:s>Split(</a:s>
                                             <a:s r="828">
                                                <a:s r="827">
                                                   <a:s r="826">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="827">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="828">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="829">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="833">
                                          <a:s r="832">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="833">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="838">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="839">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="840" locator="420:3-425:33" strict="false" xsi:type="As">
            <operand localId="838" locator="420:3-425:9" path="value" xsi:type="Property">
               <source localId="837" locator="420:3-425:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="836" locator="421:3-424:64" xsi:type="Query">
                     <source localId="809" locator="421:3-421:49" alias="O">
                        <expression localId="808" locator="421:3-421:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="421:17-421:46" name="Source of gestational age" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="835" locator="422:5-424:64" xsi:type="And">
                        <operand localId="825" locator="422:11-423:80" xsi:type="And">
                           <operand localId="816" locator="422:11-422:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="811" locator="422:11-422:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="815" locator="422:23-422:57" xsi:type="List">
                                 <element localId="812" locator="422:25-422:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="813" locator="422:34-422:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="814" locator="422:45-422:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="824" locator="423:11-423:80" xsi:type="IsFalse">
                              <operand localId="823" locator="423:11-423:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="821" locator="423:20-423:63" path="value" xsi:type="Property">
                                          <source localId="820" locator="423:20-423:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="818" locator="423:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="819" locator="423:44-423:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="822" locator="423:66-423:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="834" locator="424:11-424:64" xsi:type="Equal">
                           <operand localId="831" locator="424:11-424:49" xsi:type="Last">
                              <source localId="830" locator="424:16-424:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="828" locator="424:22-424:42" path="reference" xsi:type="Property">
                                       <source localId="827" locator="424:22-424:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="829" locator="424:45-424:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="833" locator="424:53-424:64" path="id" xsi:type="Property">
                                 <source localId="832" locator="424:53-424:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="839" locator="425:14-425:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="876" locator="433:1-439:26" name="Expected date of delivery (EDD)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="876">
               <a:s>/*
  @dataElement: ANC.B6.DE22 Expected date of delivery (EDD)
  @activity: ANC.B6. Collect woman's profile and history
  @description: Expected date of delivery based on gestational age
*/
define &quot;Expected date of delivery (EDD)&quot;:
  </a:s>
               <a:s r="875">
                  <a:s r="873">
                     <a:s r="872">
                        <a:s r="842">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="872">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="871">
                              <a:s>
                                 <a:s r="844">
                                    <a:s r="843">
                                       <a:s r="843">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Expected date of delivery (EDD)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="870">
                                 <a:s>where </a:s>
                                 <a:s r="870">
                                    <a:s r="860">
                                       <a:s r="851">
                                          <a:s r="846">
                                             <a:s r="845">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="846">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="850">
                                             <a:s>{ </a:s>
                                             <a:s r="847">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="848">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="849">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="859">
                                          <a:s r="858">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="856">
                                                <a:s r="855">
                                                   <a:s r="852">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="855">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="853">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="854">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="856">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="857">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="869">
                                       <a:s r="866">
                                          <a:s>Last(</a:s>
                                          <a:s r="865">
                                             <a:s>Split(</a:s>
                                             <a:s r="863">
                                                <a:s r="862">
                                                   <a:s r="861">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="862">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="863">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="864">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="868">
                                          <a:s r="867">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="868">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="873">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="874">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="875" locator="434:3-439:26" strict="false" xsi:type="As">
            <operand localId="873" locator="434:3-439:9" path="value" xsi:type="Property">
               <source localId="872" locator="434:3-439:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="871" locator="435:3-438:64" xsi:type="Query">
                     <source localId="844" locator="435:3-435:55" alias="O">
                        <expression localId="843" locator="435:3-435:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="435:17-435:52" name="Expected date of delivery (EDD)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="870" locator="436:5-438:64" xsi:type="And">
                        <operand localId="860" locator="436:11-437:80" xsi:type="And">
                           <operand localId="851" locator="436:11-436:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="846" locator="436:11-436:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="850" locator="436:23-436:57" xsi:type="List">
                                 <element localId="847" locator="436:25-436:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="848" locator="436:34-436:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="849" locator="436:45-436:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="859" locator="437:11-437:80" xsi:type="IsFalse">
                              <operand localId="858" locator="437:11-437:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="856" locator="437:20-437:63" path="value" xsi:type="Property">
                                          <source localId="855" locator="437:20-437:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="853" locator="437:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="854" locator="437:44-437:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="857" locator="437:66-437:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="869" locator="438:11-438:64" xsi:type="Equal">
                           <operand localId="866" locator="438:11-438:49" xsi:type="Last">
                              <source localId="865" locator="438:16-438:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="863" locator="438:22-438:42" path="reference" xsi:type="Property">
                                       <source localId="862" locator="438:22-438:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="864" locator="438:45-438:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="868" locator="438:53-438:64" path="id" xsi:type="Property">
                                 <source localId="867" locator="438:53-438:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="874" locator="439:14-439:26" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="911" locator="447:1-453:25" name="Number of pregnancies (gravida)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="911">
               <a:s>/*
  @dataElement: ANC.B6.DE24 Number of pregnancies (gravida)
  @activity: ANC.B6. Collect woman's profile and history
  @description: Total number of times the woman has been pregnant (including this pregnancy); also referred to as gravida
*/
define &quot;Number of pregnancies (gravida)&quot;:
  </a:s>
               <a:s r="910">
                  <a:s r="908">
                     <a:s r="907">
                        <a:s r="877">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="907">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="906">
                              <a:s>
                                 <a:s r="879">
                                    <a:s r="878">
                                       <a:s r="878">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of pregnancies (gravida)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="905">
                                 <a:s>where </a:s>
                                 <a:s r="905">
                                    <a:s r="895">
                                       <a:s r="886">
                                          <a:s r="881">
                                             <a:s r="880">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="881">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="885">
                                             <a:s>{ </a:s>
                                             <a:s r="882">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="883">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="884">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="894">
                                          <a:s r="893">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="891">
                                                <a:s r="890">
                                                   <a:s r="887">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="890">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="888">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="889">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="891">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="892">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="904">
                                       <a:s r="901">
                                          <a:s>Last(</a:s>
                                          <a:s r="900">
                                             <a:s>Split(</a:s>
                                             <a:s r="898">
                                                <a:s r="897">
                                                   <a:s r="896">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="897">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="898">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="899">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="903">
                                          <a:s r="902">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="903">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="908">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="909">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="910" locator="448:3-453:25" strict="false" xsi:type="As">
            <operand localId="908" locator="448:3-453:9" path="value" xsi:type="Property">
               <source localId="907" locator="448:3-453:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="906" locator="449:3-452:64" xsi:type="Query">
                     <source localId="879" locator="449:3-449:55" alias="O">
                        <expression localId="878" locator="449:3-449:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="449:17-449:52" name="Number of pregnancies (gravida)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="905" locator="450:5-452:64" xsi:type="And">
                        <operand localId="895" locator="450:11-451:80" xsi:type="And">
                           <operand localId="886" locator="450:11-450:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="881" locator="450:11-450:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="885" locator="450:23-450:57" xsi:type="List">
                                 <element localId="882" locator="450:25-450:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="883" locator="450:34-450:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="884" locator="450:45-450:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="894" locator="451:11-451:80" xsi:type="IsFalse">
                              <operand localId="893" locator="451:11-451:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="891" locator="451:20-451:63" path="value" xsi:type="Property">
                                          <source localId="890" locator="451:20-451:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="888" locator="451:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="889" locator="451:44-451:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="892" locator="451:66-451:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="904" locator="452:11-452:64" xsi:type="Equal">
                           <operand localId="901" locator="452:11-452:49" xsi:type="Last">
                              <source localId="900" locator="452:16-452:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="898" locator="452:22-452:42" path="reference" xsi:type="Property">
                                       <source localId="897" locator="452:22-452:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="899" locator="452:45-452:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="903" locator="452:53-452:64" path="id" xsi:type="Property">
                                 <source localId="902" locator="452:53-452:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="909" locator="453:14-453:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="946" locator="461:1-467:25" name="Number of miscarriages and/or abortions" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="946">
               <a:s>/*
  @dataElement: ANC.B6.DE25 Number of miscarriages and/or abortions
  @activity: ANC.B6. Collect woman's profile and history
  @description: Total number of pregnancies lost/ended due to miscarriages and/or abortions before 22 weeks / 5 months
*/
define &quot;Number of miscarriages and/or abortions&quot;:
  </a:s>
               <a:s r="945">
                  <a:s r="943">
                     <a:s r="942">
                        <a:s r="912">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="942">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="941">
                              <a:s>
                                 <a:s r="914">
                                    <a:s r="913">
                                       <a:s r="913">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of miscarriages and/or abortions&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="940">
                                 <a:s>where </a:s>
                                 <a:s r="940">
                                    <a:s r="930">
                                       <a:s r="921">
                                          <a:s r="916">
                                             <a:s r="915">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="916">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="920">
                                             <a:s>{ </a:s>
                                             <a:s r="917">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="918">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="919">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="929">
                                          <a:s r="928">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="926">
                                                <a:s r="925">
                                                   <a:s r="922">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="925">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="923">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="924">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="926">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="927">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="939">
                                       <a:s r="936">
                                          <a:s>Last(</a:s>
                                          <a:s r="935">
                                             <a:s>Split(</a:s>
                                             <a:s r="933">
                                                <a:s r="932">
                                                   <a:s r="931">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="932">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="933">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="934">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="938">
                                          <a:s r="937">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="938">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="943">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="944">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="945" locator="462:3-467:25" strict="false" xsi:type="As">
            <operand localId="943" locator="462:3-467:9" path="value" xsi:type="Property">
               <source localId="942" locator="462:3-467:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="941" locator="463:3-466:64" xsi:type="Query">
                     <source localId="914" locator="463:3-463:63" alias="O">
                        <expression localId="913" locator="463:3-463:61" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="463:17-463:60" name="Number of miscarriages and/or abortions" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="940" locator="464:5-466:64" xsi:type="And">
                        <operand localId="930" locator="464:11-465:80" xsi:type="And">
                           <operand localId="921" locator="464:11-464:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="916" locator="464:11-464:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="920" locator="464:23-464:57" xsi:type="List">
                                 <element localId="917" locator="464:25-464:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="918" locator="464:34-464:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="919" locator="464:45-464:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="929" locator="465:11-465:80" xsi:type="IsFalse">
                              <operand localId="928" locator="465:11-465:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="926" locator="465:20-465:63" path="value" xsi:type="Property">
                                          <source localId="925" locator="465:20-465:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="923" locator="465:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="924" locator="465:44-465:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="927" locator="465:66-465:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="939" locator="466:11-466:64" xsi:type="Equal">
                           <operand localId="936" locator="466:11-466:49" xsi:type="Last">
                              <source localId="935" locator="466:16-466:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="933" locator="466:22-466:42" path="reference" xsi:type="Property">
                                       <source localId="932" locator="466:22-466:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="934" locator="466:45-466:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="938" locator="466:53-466:64" path="id" xsi:type="Property">
                                 <source localId="937" locator="466:53-466:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="944" locator="467:14-467:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="981" locator="475:1-481:25" name="Number of live births" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="981">
               <a:s>/*
  @dataElement: ANC.B6.DE26 Number of live births
  @activity: ANC.B6. Collect woman's profile and history
  @description: Total number of live births after 22 weeks
*/
define &quot;Number of live births&quot;:
  </a:s>
               <a:s r="980">
                  <a:s r="978">
                     <a:s r="977">
                        <a:s r="947">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="977">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="976">
                              <a:s>
                                 <a:s r="949">
                                    <a:s r="948">
                                       <a:s r="948">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of live births&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="975">
                                 <a:s>where </a:s>
                                 <a:s r="975">
                                    <a:s r="965">
                                       <a:s r="956">
                                          <a:s r="951">
                                             <a:s r="950">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="951">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="955">
                                             <a:s>{ </a:s>
                                             <a:s r="952">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="953">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="954">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="964">
                                          <a:s r="963">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="961">
                                                <a:s r="960">
                                                   <a:s r="957">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="960">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="958">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="959">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="961">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="962">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="974">
                                       <a:s r="971">
                                          <a:s>Last(</a:s>
                                          <a:s r="970">
                                             <a:s>Split(</a:s>
                                             <a:s r="968">
                                                <a:s r="967">
                                                   <a:s r="966">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="967">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="968">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="969">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="973">
                                          <a:s r="972">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="973">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="978">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="979">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="980" locator="476:3-481:25" strict="false" xsi:type="As">
            <operand localId="978" locator="476:3-481:9" path="value" xsi:type="Property">
               <source localId="977" locator="476:3-481:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="976" locator="477:3-480:64" xsi:type="Query">
                     <source localId="949" locator="477:3-477:45" alias="O">
                        <expression localId="948" locator="477:3-477:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="477:17-477:42" name="Number of live births" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="975" locator="478:5-480:64" xsi:type="And">
                        <operand localId="965" locator="478:11-479:80" xsi:type="And">
                           <operand localId="956" locator="478:11-478:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="951" locator="478:11-478:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="955" locator="478:23-478:57" xsi:type="List">
                                 <element localId="952" locator="478:25-478:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="953" locator="478:34-478:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="954" locator="478:45-478:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="964" locator="479:11-479:80" xsi:type="IsFalse">
                              <operand localId="963" locator="479:11-479:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="961" locator="479:20-479:63" path="value" xsi:type="Property">
                                          <source localId="960" locator="479:20-479:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="958" locator="479:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="959" locator="479:44-479:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="962" locator="479:66-479:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="974" locator="480:11-480:64" xsi:type="Equal">
                           <operand localId="971" locator="480:11-480:49" xsi:type="Last">
                              <source localId="970" locator="480:16-480:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="968" locator="480:22-480:42" path="reference" xsi:type="Property">
                                       <source localId="967" locator="480:22-480:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="969" locator="480:45-480:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="973" locator="480:53-480:64" path="id" xsi:type="Property">
                                 <source localId="972" locator="480:53-480:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="979" locator="481:14-481:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1016" locator="489:1-495:33" name="Whether last live birth was preterm" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1016">
               <a:s>/*
  @dataElement: ANC.B6.DE27 Whether last live birth was preterm
  @activity: ANC.B6. Collect woman's profile and history
  @description: Was the last live birth preterm? Whether the last live birth was preterm (i.e. less than 37 weeks gestation at the time of delivery)
*/
define &quot;Whether last live birth was preterm&quot;:
  </a:s>
               <a:s r="1015">
                  <a:s r="1013">
                     <a:s r="1012">
                        <a:s r="982">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1012">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1011">
                              <a:s>
                                 <a:s r="984">
                                    <a:s r="983">
                                       <a:s r="983">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Whether last live birth was preterm&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1010">
                                 <a:s>where </a:s>
                                 <a:s r="1010">
                                    <a:s r="1000">
                                       <a:s r="991">
                                          <a:s r="986">
                                             <a:s r="985">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="986">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="990">
                                             <a:s>{ </a:s>
                                             <a:s r="987">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="988">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="989">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="999">
                                          <a:s r="998">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="996">
                                                <a:s r="995">
                                                   <a:s r="992">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="995">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="993">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="994">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="996">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="997">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1009">
                                       <a:s r="1006">
                                          <a:s>Last(</a:s>
                                          <a:s r="1005">
                                             <a:s>Split(</a:s>
                                             <a:s r="1003">
                                                <a:s r="1002">
                                                   <a:s r="1001">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1002">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1003">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1004">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1008">
                                          <a:s r="1007">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1008">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1013">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1014">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1015" locator="490:3-495:33" strict="false" xsi:type="As">
            <operand localId="1013" locator="490:3-495:9" path="value" xsi:type="Property">
               <source localId="1012" locator="490:3-495:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1011" locator="491:3-494:64" xsi:type="Query">
                     <source localId="984" locator="491:3-491:59" alias="O">
                        <expression localId="983" locator="491:3-491:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="491:17-491:56" name="Whether last live birth was preterm" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1010" locator="492:5-494:64" xsi:type="And">
                        <operand localId="1000" locator="492:11-493:80" xsi:type="And">
                           <operand localId="991" locator="492:11-492:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="986" locator="492:11-492:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="990" locator="492:23-492:57" xsi:type="List">
                                 <element localId="987" locator="492:25-492:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="988" locator="492:34-492:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="989" locator="492:45-492:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="999" locator="493:11-493:80" xsi:type="IsFalse">
                              <operand localId="998" locator="493:11-493:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="996" locator="493:20-493:63" path="value" xsi:type="Property">
                                          <source localId="995" locator="493:20-493:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="993" locator="493:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="994" locator="493:44-493:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="997" locator="493:66-493:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1009" locator="494:11-494:64" xsi:type="Equal">
                           <operand localId="1006" locator="494:11-494:49" xsi:type="Last">
                              <source localId="1005" locator="494:16-494:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1003" locator="494:22-494:42" path="reference" xsi:type="Property">
                                       <source localId="1002" locator="494:22-494:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1004" locator="494:45-494:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1008" locator="494:53-494:64" path="id" xsi:type="Property">
                                 <source localId="1007" locator="494:53-494:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1014" locator="495:14-495:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1051" locator="503:1-509:25" name="Number of stillbirths" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1051">
               <a:s>/*
  @dataElement: ANC.B6.DE31 Number of stillbirths
  @activity: ANC.B6. Collect woman's profile and history
  @description: Total number of stillbirths after 22 weeks
*/
define &quot;Number of stillbirths&quot;:
  </a:s>
               <a:s r="1050">
                  <a:s r="1048">
                     <a:s r="1047">
                        <a:s r="1017">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1047">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1046">
                              <a:s>
                                 <a:s r="1019">
                                    <a:s r="1018">
                                       <a:s r="1018">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of stillbirths&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1045">
                                 <a:s>where </a:s>
                                 <a:s r="1045">
                                    <a:s r="1035">
                                       <a:s r="1026">
                                          <a:s r="1021">
                                             <a:s r="1020">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1021">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1025">
                                             <a:s>{ </a:s>
                                             <a:s r="1022">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1023">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1024">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1034">
                                          <a:s r="1033">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1031">
                                                <a:s r="1030">
                                                   <a:s r="1027">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1030">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1028">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1029">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1031">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1032">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1044">
                                       <a:s r="1041">
                                          <a:s>Last(</a:s>
                                          <a:s r="1040">
                                             <a:s>Split(</a:s>
                                             <a:s r="1038">
                                                <a:s r="1037">
                                                   <a:s r="1036">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1037">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1038">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1039">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1043">
                                          <a:s r="1042">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1043">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1048">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1049">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1050" locator="504:3-509:25" strict="false" xsi:type="As">
            <operand localId="1048" locator="504:3-509:9" path="value" xsi:type="Property">
               <source localId="1047" locator="504:3-509:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1046" locator="505:3-508:64" xsi:type="Query">
                     <source localId="1019" locator="505:3-505:45" alias="O">
                        <expression localId="1018" locator="505:3-505:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="505:17-505:42" name="Number of stillbirths" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1045" locator="506:5-508:64" xsi:type="And">
                        <operand localId="1035" locator="506:11-507:80" xsi:type="And">
                           <operand localId="1026" locator="506:11-506:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1021" locator="506:11-506:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1025" locator="506:23-506:57" xsi:type="List">
                                 <element localId="1022" locator="506:25-506:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1023" locator="506:34-506:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1024" locator="506:45-506:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1034" locator="507:11-507:80" xsi:type="IsFalse">
                              <operand localId="1033" locator="507:11-507:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1031" locator="507:20-507:63" path="value" xsi:type="Property">
                                          <source localId="1030" locator="507:20-507:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1028" locator="507:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1029" locator="507:44-507:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1032" locator="507:66-507:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1044" locator="508:11-508:64" xsi:type="Equal">
                           <operand localId="1041" locator="508:11-508:49" xsi:type="Last">
                              <source localId="1040" locator="508:16-508:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1038" locator="508:22-508:42" path="reference" xsi:type="Property">
                                       <source localId="1037" locator="508:22-508:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1039" locator="508:45-508:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1043" locator="508:53-508:64" path="id" xsi:type="Property">
                                 <source localId="1042" locator="508:53-508:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1049" locator="509:14-509:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1086" locator="517:1-523:25" name="Parity" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1086">
               <a:s>/*
  @dataElement: ANC.B6.DE32 Parity
  @activity: ANC.B6. Collect woman's profile and history
  @description: Calculated parity is the total number of live and stillbirths
*/
define &quot;Parity&quot;:
  </a:s>
               <a:s r="1085">
                  <a:s r="1083">
                     <a:s r="1082">
                        <a:s r="1052">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1082">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1081">
                              <a:s>
                                 <a:s r="1054">
                                    <a:s r="1053">
                                       <a:s r="1053">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Parity&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1080">
                                 <a:s>where </a:s>
                                 <a:s r="1080">
                                    <a:s r="1070">
                                       <a:s r="1061">
                                          <a:s r="1056">
                                             <a:s r="1055">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1056">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1060">
                                             <a:s>{ </a:s>
                                             <a:s r="1057">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1058">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1059">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1069">
                                          <a:s r="1068">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1066">
                                                <a:s r="1065">
                                                   <a:s r="1062">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1065">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1063">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1064">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1066">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1067">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1079">
                                       <a:s r="1076">
                                          <a:s>Last(</a:s>
                                          <a:s r="1075">
                                             <a:s>Split(</a:s>
                                             <a:s r="1073">
                                                <a:s r="1072">
                                                   <a:s r="1071">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1072">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1073">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1074">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1078">
                                          <a:s r="1077">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1078">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1083">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1084">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1085" locator="518:3-523:25" strict="false" xsi:type="As">
            <operand localId="1083" locator="518:3-523:9" path="value" xsi:type="Property">
               <source localId="1082" locator="518:3-523:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1081" locator="519:3-522:64" xsi:type="Query">
                     <source localId="1054" locator="519:3-519:30" alias="O">
                        <expression localId="1053" locator="519:3-519:28" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="519:17-519:27" name="Parity" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1080" locator="520:5-522:64" xsi:type="And">
                        <operand localId="1070" locator="520:11-521:80" xsi:type="And">
                           <operand localId="1061" locator="520:11-520:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1056" locator="520:11-520:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1060" locator="520:23-520:57" xsi:type="List">
                                 <element localId="1057" locator="520:25-520:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1058" locator="520:34-520:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1059" locator="520:45-520:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1069" locator="521:11-521:80" xsi:type="IsFalse">
                              <operand localId="1068" locator="521:11-521:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1066" locator="521:20-521:63" path="value" xsi:type="Property">
                                          <source localId="1065" locator="521:20-521:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1063" locator="521:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1064" locator="521:44-521:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1067" locator="521:66-521:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1079" locator="522:11-522:64" xsi:type="Equal">
                           <operand localId="1076" locator="522:11-522:49" xsi:type="Last">
                              <source localId="1075" locator="522:16-522:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1073" locator="522:22-522:42" path="reference" xsi:type="Property">
                                       <source localId="1072" locator="522:22-522:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1074" locator="522:45-522:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1078" locator="522:53-522:64" path="id" xsi:type="Property">
                                 <source localId="1077" locator="522:53-522:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1084" locator="523:14-523:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1121" locator="531:1-537:25" name="Number of caesarian sections" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1121">
               <a:s>/*
  @dataElement: ANC.B6.DE33 Number of caesarian sections
  @activity: ANC.B6. Collect woman's profile and history
  @description: Total number of caesarean sections
*/
define &quot;Number of caesarian sections&quot;:
  </a:s>
               <a:s r="1120">
                  <a:s r="1118">
                     <a:s r="1117">
                        <a:s r="1087">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1117">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1116">
                              <a:s>
                                 <a:s r="1089">
                                    <a:s r="1088">
                                       <a:s r="1088">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of caesarian sections&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1115">
                                 <a:s>where </a:s>
                                 <a:s r="1115">
                                    <a:s r="1105">
                                       <a:s r="1096">
                                          <a:s r="1091">
                                             <a:s r="1090">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1091">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1095">
                                             <a:s>{ </a:s>
                                             <a:s r="1092">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1093">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1094">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1104">
                                          <a:s r="1103">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1101">
                                                <a:s r="1100">
                                                   <a:s r="1097">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1100">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1098">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1099">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1101">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1102">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1114">
                                       <a:s r="1111">
                                          <a:s>Last(</a:s>
                                          <a:s r="1110">
                                             <a:s>Split(</a:s>
                                             <a:s r="1108">
                                                <a:s r="1107">
                                                   <a:s r="1106">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1107">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1108">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1109">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1113">
                                          <a:s r="1112">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1113">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1118">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1119">
                     <a:s>FHIR.integer</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1120" locator="532:3-537:25" strict="false" xsi:type="As">
            <operand localId="1118" locator="532:3-537:9" path="value" xsi:type="Property">
               <source localId="1117" locator="532:3-537:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1116" locator="533:3-536:64" xsi:type="Query">
                     <source localId="1089" locator="533:3-533:52" alias="O">
                        <expression localId="1088" locator="533:3-533:50" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="533:17-533:49" name="Number of caesarian sections" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1115" locator="534:5-536:64" xsi:type="And">
                        <operand localId="1105" locator="534:11-535:80" xsi:type="And">
                           <operand localId="1096" locator="534:11-534:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1091" locator="534:11-534:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1095" locator="534:23-534:57" xsi:type="List">
                                 <element localId="1092" locator="534:25-534:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1093" locator="534:34-534:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1094" locator="534:45-534:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1104" locator="535:11-535:80" xsi:type="IsFalse">
                              <operand localId="1103" locator="535:11-535:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1101" locator="535:20-535:63" path="value" xsi:type="Property">
                                          <source localId="1100" locator="535:20-535:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1098" locator="535:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1099" locator="535:44-535:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1102" locator="535:66-535:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1114" locator="536:11-536:64" xsi:type="Equal">
                           <operand localId="1111" locator="536:11-536:49" xsi:type="Last">
                              <source localId="1110" locator="536:16-536:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1108" locator="536:22-536:42" path="reference" xsi:type="Property">
                                       <source localId="1107" locator="536:22-536:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1109" locator="536:45-536:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1113" locator="536:53-536:64" path="id" xsi:type="Property">
                                 <source localId="1112" locator="536:53-536:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1119" locator="537:14-537:25" name="fhir:integer" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1156" locator="545:1-550:42" name="Past pregnancy complications" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1156">
               <a:s>/*
  @dataElement: ANC.B6.DE34 Past pregnancy complications
  @activity: ANC.B6. Collect woman's profile and history
  @description: Mark whether the woman has had any complications or problems in any previous pregnancy
*/
define &quot;Past pregnancy complications&quot;:
  </a:s>
               <a:s r="1155">
                  <a:s>
                     <a:s r="1123">
                        <a:s r="1122">
                           <a:s r="1122">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Past pregnancy complications&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1149">
                     <a:s>where </a:s>
                     <a:s r="1149">
                        <a:s r="1139">
                           <a:s r="1130">
                              <a:s r="1125">
                                 <a:s r="1124">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1125">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1129">
                                 <a:s>{ </a:s>
                                 <a:s r="1126">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1127">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1128">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1138">
                              <a:s r="1137">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1135">
                                    <a:s r="1134">
                                       <a:s r="1131">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1134">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1132">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1133">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1135">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1136">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1148">
                           <a:s r="1145">
                              <a:s>Last(</a:s>
                              <a:s r="1144">
                                 <a:s>Split(</a:s>
                                 <a:s r="1142">
                                    <a:s r="1141">
                                       <a:s r="1140">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1141">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1142">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1143">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1147">
                              <a:s r="1146">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1147">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1154">
                     <a:s>return </a:s>
                     <a:s r="1153">
                        <a:s r="1151">
                           <a:s r="1150">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1151">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1152">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1155" locator="546:3-550:42" xsi:type="Query">
            <source localId="1123" locator="546:3-546:52" alias="O">
               <expression localId="1122" locator="546:3-546:50" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="546:17-546:49" name="Past pregnancy complications" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1149" locator="547:5-549:64" xsi:type="And">
               <operand localId="1139" locator="547:11-548:80" xsi:type="And">
                  <operand localId="1130" locator="547:11-547:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1125" locator="547:11-547:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1129" locator="547:23-547:57" xsi:type="List">
                        <element localId="1126" locator="547:25-547:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1127" locator="547:34-547:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1128" locator="547:45-547:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1138" locator="548:11-548:80" xsi:type="IsFalse">
                     <operand localId="1137" locator="548:11-548:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1135" locator="548:20-548:63" path="value" xsi:type="Property">
                                 <source localId="1134" locator="548:20-548:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1132" locator="548:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1133" locator="548:44-548:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1136" locator="548:66-548:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1148" locator="549:11-549:64" xsi:type="Equal">
                  <operand localId="1145" locator="549:11-549:49" xsi:type="Last">
                     <source localId="1144" locator="549:16-549:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1142" locator="549:22-549:42" path="reference" xsi:type="Property">
                              <source localId="1141" locator="549:22-549:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1143" locator="549:45-549:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1147" locator="549:53-549:64" path="id" xsi:type="Property">
                        <source localId="1146" locator="549:53-549:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1154" locator="550:5-550:42">
               <expression localId="1153" locator="550:12-550:42" strict="false" xsi:type="As">
                  <operand localId="1151" locator="550:12-550:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1152" locator="550:23-550:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1191" locator="558:1-563:42" name="Substance use during past pregnancy specification" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1191">
               <a:s>/*
  @dataElement: ANC.B6.DE51 Substance use during past pregnancy specification
  @activity: ANC.B6. Collect woman's profile and history
  @description: If selected substance use, specify and indicate what type of substances used during past pregnancies
*/
define &quot;Substance use during past pregnancy specification&quot;:
  </a:s>
               <a:s r="1190">
                  <a:s>
                     <a:s r="1158">
                        <a:s r="1157">
                           <a:s r="1157">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Substance use during past pregnancy specification&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1184">
                     <a:s>where </a:s>
                     <a:s r="1184">
                        <a:s r="1174">
                           <a:s r="1165">
                              <a:s r="1160">
                                 <a:s r="1159">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1160">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1164">
                                 <a:s>{ </a:s>
                                 <a:s r="1161">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1162">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1163">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1173">
                              <a:s r="1172">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1170">
                                    <a:s r="1169">
                                       <a:s r="1166">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1169">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1167">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1168">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1170">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1171">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1183">
                           <a:s r="1180">
                              <a:s>Last(</a:s>
                              <a:s r="1179">
                                 <a:s>Split(</a:s>
                                 <a:s r="1177">
                                    <a:s r="1176">
                                       <a:s r="1175">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1176">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1177">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1178">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1182">
                              <a:s r="1181">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1182">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1189">
                     <a:s>return </a:s>
                     <a:s r="1188">
                        <a:s r="1186">
                           <a:s r="1185">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1186">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1187">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1190" locator="559:3-563:42" xsi:type="Query">
            <source localId="1158" locator="559:3-559:73" alias="O">
               <expression localId="1157" locator="559:3-559:71" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="559:17-559:70" name="Substance use during past pregnancy specification" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1184" locator="560:5-562:64" xsi:type="And">
               <operand localId="1174" locator="560:11-561:80" xsi:type="And">
                  <operand localId="1165" locator="560:11-560:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1160" locator="560:11-560:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1164" locator="560:23-560:57" xsi:type="List">
                        <element localId="1161" locator="560:25-560:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1162" locator="560:34-560:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1163" locator="560:45-560:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1173" locator="561:11-561:80" xsi:type="IsFalse">
                     <operand localId="1172" locator="561:11-561:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1170" locator="561:20-561:63" path="value" xsi:type="Property">
                                 <source localId="1169" locator="561:20-561:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1167" locator="561:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1168" locator="561:44-561:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1171" locator="561:66-561:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1183" locator="562:11-562:64" xsi:type="Equal">
                  <operand localId="1180" locator="562:11-562:49" xsi:type="Last">
                     <source localId="1179" locator="562:16-562:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1177" locator="562:22-562:42" path="reference" xsi:type="Property">
                              <source localId="1176" locator="562:22-562:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1178" locator="562:45-562:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1182" locator="562:53-562:64" path="id" xsi:type="Property">
                        <source localId="1181" locator="562:53-562:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1189" locator="563:5-563:42">
               <expression localId="1188" locator="563:12-563:42" strict="false" xsi:type="As">
                  <operand localId="1186" locator="563:12-563:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1187" locator="563:23-563:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1226" locator="571:1-576:42" name="Allergies" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1226">
               <a:s>/*
  @dataElement: ANC.B6.DE57 Allergies
  @activity: ANC.B6. Collect woman's profile and history
  @description: Does the woman have any allergies?
*/
define &quot;Allergies&quot;:
  </a:s>
               <a:s r="1225">
                  <a:s>
                     <a:s r="1193">
                        <a:s r="1192">
                           <a:s r="1192">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Allergies&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1219">
                     <a:s>where </a:s>
                     <a:s r="1219">
                        <a:s r="1209">
                           <a:s r="1200">
                              <a:s r="1195">
                                 <a:s r="1194">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1195">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1199">
                                 <a:s>{ </a:s>
                                 <a:s r="1196">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1197">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1198">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1208">
                              <a:s r="1207">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1205">
                                    <a:s r="1204">
                                       <a:s r="1201">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1204">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1202">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1203">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1205">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1206">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1218">
                           <a:s r="1215">
                              <a:s>Last(</a:s>
                              <a:s r="1214">
                                 <a:s>Split(</a:s>
                                 <a:s r="1212">
                                    <a:s r="1211">
                                       <a:s r="1210">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1211">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1212">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1213">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1217">
                              <a:s r="1216">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1217">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1224">
                     <a:s>return </a:s>
                     <a:s r="1223">
                        <a:s r="1221">
                           <a:s r="1220">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1221">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1222">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1225" locator="572:3-576:42" xsi:type="Query">
            <source localId="1193" locator="572:3-572:33" alias="O">
               <expression localId="1192" locator="572:3-572:31" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="572:17-572:30" name="Allergies" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1219" locator="573:5-575:64" xsi:type="And">
               <operand localId="1209" locator="573:11-574:80" xsi:type="And">
                  <operand localId="1200" locator="573:11-573:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1195" locator="573:11-573:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1199" locator="573:23-573:57" xsi:type="List">
                        <element localId="1196" locator="573:25-573:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1197" locator="573:34-573:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1198" locator="573:45-573:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1208" locator="574:11-574:80" xsi:type="IsFalse">
                     <operand localId="1207" locator="574:11-574:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1205" locator="574:20-574:63" path="value" xsi:type="Property">
                                 <source localId="1204" locator="574:20-574:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1202" locator="574:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1203" locator="574:44-574:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1206" locator="574:66-574:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1218" locator="575:11-575:64" xsi:type="Equal">
                  <operand localId="1215" locator="575:11-575:49" xsi:type="Last">
                     <source localId="1214" locator="575:16-575:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1212" locator="575:22-575:42" path="reference" xsi:type="Property">
                              <source localId="1211" locator="575:22-575:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1213" locator="575:45-575:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1217" locator="575:53-575:64" path="id" xsi:type="Property">
                        <source localId="1216" locator="575:53-575:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1224" locator="576:5-576:42">
               <expression localId="1223" locator="576:12-576:42" strict="false" xsi:type="As">
                  <operand localId="1221" locator="576:12-576:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1222" locator="576:23-576:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1261" locator="584:1-589:42" name="Past surgeries" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1261">
               <a:s>/*
  @dataElement: ANC.B6.DE72 Past surgeries
  @activity: ANC.B6. Collect woman's profile and history
  @description: Has the woman had any prior surgeries?
*/
define &quot;Past surgeries&quot;:
  </a:s>
               <a:s r="1260">
                  <a:s>
                     <a:s r="1228">
                        <a:s r="1227">
                           <a:s r="1227">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Past surgeries&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1254">
                     <a:s>where </a:s>
                     <a:s r="1254">
                        <a:s r="1244">
                           <a:s r="1235">
                              <a:s r="1230">
                                 <a:s r="1229">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1230">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1234">
                                 <a:s>{ </a:s>
                                 <a:s r="1231">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1232">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1233">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1243">
                              <a:s r="1242">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1240">
                                    <a:s r="1239">
                                       <a:s r="1236">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1239">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1237">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1238">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1240">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1241">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1253">
                           <a:s r="1250">
                              <a:s>Last(</a:s>
                              <a:s r="1249">
                                 <a:s>Split(</a:s>
                                 <a:s r="1247">
                                    <a:s r="1246">
                                       <a:s r="1245">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1246">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1247">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1248">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1252">
                              <a:s r="1251">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1252">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1259">
                     <a:s>return </a:s>
                     <a:s r="1258">
                        <a:s r="1256">
                           <a:s r="1255">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1256">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1257">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1260" locator="585:3-589:42" xsi:type="Query">
            <source localId="1228" locator="585:3-585:38" alias="O">
               <expression localId="1227" locator="585:3-585:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="585:17-585:35" name="Past surgeries" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1254" locator="586:5-588:64" xsi:type="And">
               <operand localId="1244" locator="586:11-587:80" xsi:type="And">
                  <operand localId="1235" locator="586:11-586:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1230" locator="586:11-586:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1234" locator="586:23-586:57" xsi:type="List">
                        <element localId="1231" locator="586:25-586:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1232" locator="586:34-586:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1233" locator="586:45-586:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1243" locator="587:11-587:80" xsi:type="IsFalse">
                     <operand localId="1242" locator="587:11-587:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1240" locator="587:20-587:63" path="value" xsi:type="Property">
                                 <source localId="1239" locator="587:20-587:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1237" locator="587:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1238" locator="587:44-587:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1241" locator="587:66-587:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1253" locator="588:11-588:64" xsi:type="Equal">
                  <operand localId="1250" locator="588:11-588:49" xsi:type="Last">
                     <source localId="1249" locator="588:16-588:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1247" locator="588:22-588:42" path="reference" xsi:type="Property">
                              <source localId="1246" locator="588:22-588:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1248" locator="588:45-588:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1252" locator="588:53-588:64" path="id" xsi:type="Property">
                        <source localId="1251" locator="588:53-588:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1259" locator="589:5-589:42">
               <expression localId="1258" locator="589:12-589:42" strict="false" xsi:type="As">
                  <operand localId="1256" locator="589:12-589:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1257" locator="589:23-589:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1296" locator="597:1-602:42" name="Existing chronic health conditions" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1296">
               <a:s>/*
  @dataElement: ANC.B6.DE83 Existing chronic health conditions
  @activity: ANC.B6. Collect woman's profile and history
  @description: Does the woman have any current chronic health conditions or problems?
*/
define &quot;Existing chronic health conditions&quot;:
  </a:s>
               <a:s r="1295">
                  <a:s>
                     <a:s r="1263">
                        <a:s r="1262">
                           <a:s r="1262">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Existing chronic health conditions&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1289">
                     <a:s>where </a:s>
                     <a:s r="1289">
                        <a:s r="1279">
                           <a:s r="1270">
                              <a:s r="1265">
                                 <a:s r="1264">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1265">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1269">
                                 <a:s>{ </a:s>
                                 <a:s r="1266">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1267">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1268">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1278">
                              <a:s r="1277">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1275">
                                    <a:s r="1274">
                                       <a:s r="1271">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1274">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1272">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1273">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1275">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1276">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1288">
                           <a:s r="1285">
                              <a:s>Last(</a:s>
                              <a:s r="1284">
                                 <a:s>Split(</a:s>
                                 <a:s r="1282">
                                    <a:s r="1281">
                                       <a:s r="1280">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1281">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1282">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1283">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1287">
                              <a:s r="1286">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1287">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1294">
                     <a:s>return </a:s>
                     <a:s r="1293">
                        <a:s r="1291">
                           <a:s r="1290">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1291">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1292">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1295" locator="598:3-602:42" xsi:type="Query">
            <source localId="1263" locator="598:3-598:58" alias="O">
               <expression localId="1262" locator="598:3-598:56" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="598:17-598:55" name="Existing chronic health conditions" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1289" locator="599:5-601:64" xsi:type="And">
               <operand localId="1279" locator="599:11-600:80" xsi:type="And">
                  <operand localId="1270" locator="599:11-599:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1265" locator="599:11-599:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1269" locator="599:23-599:57" xsi:type="List">
                        <element localId="1266" locator="599:25-599:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1267" locator="599:34-599:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1268" locator="599:45-599:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1278" locator="600:11-600:80" xsi:type="IsFalse">
                     <operand localId="1277" locator="600:11-600:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1275" locator="600:20-600:63" path="value" xsi:type="Property">
                                 <source localId="1274" locator="600:20-600:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1272" locator="600:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1273" locator="600:44-600:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1276" locator="600:66-600:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1288" locator="601:11-601:64" xsi:type="Equal">
                  <operand localId="1285" locator="601:11-601:49" xsi:type="Last">
                     <source localId="1284" locator="601:16-601:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1282" locator="601:22-601:42" path="reference" xsi:type="Property">
                              <source localId="1281" locator="601:22-601:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1283" locator="601:45-601:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1287" locator="601:53-601:64" path="id" xsi:type="Property">
                        <source localId="1286" locator="601:53-601:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1294" locator="602:5-602:42">
               <expression localId="1293" locator="602:12-602:42" strict="false" xsi:type="As">
                  <operand localId="1291" locator="602:12-602:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1292" locator="602:23-602:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1326" locator="610:1-614:64" name="HIV diagnosis date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1326">
               <a:s>/*
  @dataElement: ANC.B6.DE99 HIV diagnosis date
  @activity: ANC.B6. Collect woman's profile and history
  @description: If woman knows she's HIV+, record the date of her diagnosis
*/
define &quot;HIV diagnosis date&quot;:
  </a:s>
               <a:s r="1325">
                  <a:s>
                     <a:s r="1298">
                        <a:s r="1297">
                           <a:s r="1297">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;HIV diagnosis date&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1324">
                     <a:s>where </a:s>
                     <a:s r="1324">
                        <a:s r="1314">
                           <a:s r="1305">
                              <a:s r="1300">
                                 <a:s r="1299">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1300">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1304">
                                 <a:s>{ </a:s>
                                 <a:s r="1301">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1302">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1303">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1313">
                              <a:s r="1312">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1310">
                                    <a:s r="1309">
                                       <a:s r="1306">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1309">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1307">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1308">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1310">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1311">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1323">
                           <a:s r="1320">
                              <a:s>Last(</a:s>
                              <a:s r="1319">
                                 <a:s>Split(</a:s>
                                 <a:s r="1317">
                                    <a:s r="1316">
                                       <a:s r="1315">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1316">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1317">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1318">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1322">
                              <a:s r="1321">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1322">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1325" locator="611:3-614:64" xsi:type="Query">
            <source localId="1298" locator="611:3-611:42" alias="O">
               <expression localId="1297" locator="611:3-611:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="611:17-611:39" name="HIV diagnosis date" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1324" locator="612:5-614:64" xsi:type="And">
               <operand localId="1314" locator="612:11-613:80" xsi:type="And">
                  <operand localId="1305" locator="612:11-612:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1300" locator="612:11-612:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1304" locator="612:23-612:57" xsi:type="List">
                        <element localId="1301" locator="612:25-612:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1302" locator="612:34-612:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1303" locator="612:45-612:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1313" locator="613:11-613:80" xsi:type="IsFalse">
                     <operand localId="1312" locator="613:11-613:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1310" locator="613:20-613:63" path="value" xsi:type="Property">
                                 <source localId="1309" locator="613:20-613:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1307" locator="613:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1308" locator="613:44-613:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1311" locator="613:66-613:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1323" locator="614:11-614:64" xsi:type="Equal">
                  <operand localId="1320" locator="614:11-614:49" xsi:type="Last">
                     <source localId="1319" locator="614:16-614:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1317" locator="614:22-614:42" path="reference" xsi:type="Property">
                              <source localId="1316" locator="614:22-614:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1318" locator="614:45-614:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1322" locator="614:53-614:64" path="id" xsi:type="Property">
                        <source localId="1321" locator="614:53-614:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="1353" locator="622:1-627:30" name="Ultrasound date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1353">
               <a:s>/*
  @dataElement: ANC.B6.DE16 Ultrasound date
  @activity: ANC.B6. Collect woman's profile and history
  @description: Date that the ultrasound was done
*/
define &quot;Ultrasound date&quot;:
  </a:s>
               <a:s r="1352">
                  <a:s r="1350">
                     <a:s r="1349">
                        <a:s r="1327">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1349">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1348">
                              <a:s>
                                 <a:s r="1329">
                                    <a:s r="1328">
                                       <a:s r="1328">
                                          <a:s>[Procedure: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Ultrasound scan conducted&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1347">
                                 <a:s>where </a:s>
                                 <a:s r="1347">
                                    <a:s r="1337">
                                       <a:s r="1331">
                                          <a:s r="1330">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1331">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="1336">
                                          <a:s>{ </a:s>
                                          <a:s r="1332">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1333">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1334">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1335">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1346">
                                       <a:s r="1343">
                                          <a:s>Last(</a:s>
                                          <a:s r="1342">
                                             <a:s>Split(</a:s>
                                             <a:s r="1340">
                                                <a:s r="1339">
                                                   <a:s r="1338">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1339">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1340">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1341">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1345">
                                          <a:s r="1344">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1345">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1350">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1351">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1352" locator="623:3-627:30" strict="false" xsi:type="As">
            <operand localId="1350" locator="623:3-627:13" path="performed" xsi:type="Property">
               <source localId="1349" locator="623:3-627:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1348" locator="624:3-626:64" xsi:type="Query">
                     <source localId="1329" locator="624:3-624:47" alias="P">
                        <expression localId="1328" locator="624:3-624:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="624:15-624:44" name="Ultrasound scan conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1347" locator="625:5-626:64" xsi:type="And">
                        <operand localId="1337" locator="625:11-625:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1331" locator="625:11-625:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="1336" locator="625:23-625:78" xsi:type="List">
                              <element localId="1332" locator="625:25-625:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="1333" locator="625:40-625:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="1334" locator="625:55-625:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="1335" locator="625:66-625:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="1346" locator="626:11-626:64" xsi:type="Equal">
                           <operand localId="1343" locator="626:11-626:49" xsi:type="Last">
                              <source localId="1342" locator="626:16-626:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1340" locator="626:22-626:42" path="reference" xsi:type="Property">
                                       <source localId="1339" locator="626:22-626:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1341" locator="626:45-626:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1345" locator="626:53-626:64" path="id" xsi:type="Property">
                                 <source localId="1344" locator="626:53-626:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1351" locator="627:18-627:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1378" locator="635:1-640:8" name="Ultrasound scan conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1378">
               <a:s>/*
  @dataElement: ANC.B9.DE3 Ultrasound scan conducted
  @activity: ANC.B6. Collect woman's profile and history
  @description: Whether an ultrasound scan was conducted during a specific contact
*/
define &quot;Ultrasound scan conducted&quot;:
  </a:s>
               <a:s r="1377">
                  <a:s r="1376">
                     <a:s r="1354">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1376">
                        <a:s>Only(
  </a:s>
                        <a:s r="1375">
                           <a:s>
                              <a:s r="1356">
                                 <a:s r="1355">
                                    <a:s r="1355">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Ultrasound scan conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="1374">
                              <a:s>where </a:s>
                              <a:s r="1374">
                                 <a:s r="1364">
                                    <a:s r="1358">
                                       <a:s r="1357">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1358">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="1363">
                                       <a:s>{ </a:s>
                                       <a:s r="1359">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1360">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1361">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="1362">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="1373">
                                    <a:s r="1370">
                                       <a:s>Last(</a:s>
                                       <a:s r="1369">
                                          <a:s>Split(</a:s>
                                          <a:s r="1367">
                                             <a:s r="1366">
                                                <a:s r="1365">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1366">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1367">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1368">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="1372">
                                       <a:s r="1371">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1372">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="1377">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1377" locator="636:3-640:8" path="code" xsi:type="Property">
            <source localId="1376" locator="636:3-640:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="1375" locator="637:3-639:64" xsi:type="Query">
                  <source localId="1356" locator="637:3-637:47" alias="P">
                     <expression localId="1355" locator="637:3-637:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="637:15-637:44" name="Ultrasound scan conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="1374" locator="638:5-639:64" xsi:type="And">
                     <operand localId="1364" locator="638:11-638:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1358" locator="638:11-638:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="1363" locator="638:23-638:78" xsi:type="List">
                           <element localId="1359" locator="638:25-638:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="1360" locator="638:40-638:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="1361" locator="638:55-638:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="1362" locator="638:66-638:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="1373" locator="639:11-639:64" xsi:type="Equal">
                        <operand localId="1370" locator="639:11-639:49" xsi:type="Last">
                           <source localId="1369" locator="639:16-639:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1367" locator="639:22-639:42" path="reference" xsi:type="Property">
                                    <source localId="1366" locator="639:22-639:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="1368" locator="639:45-639:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1372" locator="639:53-639:64" path="id" xsi:type="Property">
                              <source localId="1371" locator="639:53-639:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="1413" locator="648:1-653:42" name="Medication follow-up" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1413">
               <a:s>/*
  @dataElement: ANC.B7.DE1 Medication follow-up
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Which of the medications(including supplements and vitamins) is the woman taking and any side effects?
*/
define &quot;Medication follow-up&quot;:
  </a:s>
               <a:s r="1412">
                  <a:s>
                     <a:s r="1380">
                        <a:s r="1379">
                           <a:s r="1379">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Medication follow-up&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1406">
                     <a:s>where </a:s>
                     <a:s r="1406">
                        <a:s r="1396">
                           <a:s r="1387">
                              <a:s r="1382">
                                 <a:s r="1381">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1382">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1386">
                                 <a:s>{ </a:s>
                                 <a:s r="1383">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1384">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1385">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1395">
                              <a:s r="1394">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1392">
                                    <a:s r="1391">
                                       <a:s r="1388">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1391">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1389">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1390">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1392">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1393">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1405">
                           <a:s r="1402">
                              <a:s>Last(</a:s>
                              <a:s r="1401">
                                 <a:s>Split(</a:s>
                                 <a:s r="1399">
                                    <a:s r="1398">
                                       <a:s r="1397">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1398">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1399">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1400">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1404">
                              <a:s r="1403">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1404">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1411">
                     <a:s>return </a:s>
                     <a:s r="1410">
                        <a:s r="1408">
                           <a:s r="1407">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1408">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1409">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1412" locator="649:3-653:42" xsi:type="Query">
            <source localId="1380" locator="649:3-649:44" alias="O">
               <expression localId="1379" locator="649:3-649:42" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="649:17-649:41" name="Medication follow-up" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1406" locator="650:5-652:64" xsi:type="And">
               <operand localId="1396" locator="650:11-651:80" xsi:type="And">
                  <operand localId="1387" locator="650:11-650:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1382" locator="650:11-650:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1386" locator="650:23-650:57" xsi:type="List">
                        <element localId="1383" locator="650:25-650:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1384" locator="650:34-650:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1385" locator="650:45-650:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1395" locator="651:11-651:80" xsi:type="IsFalse">
                     <operand localId="1394" locator="651:11-651:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1392" locator="651:20-651:63" path="value" xsi:type="Property">
                                 <source localId="1391" locator="651:20-651:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1389" locator="651:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1390" locator="651:44-651:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1393" locator="651:66-651:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1405" locator="652:11-652:64" xsi:type="Equal">
                  <operand localId="1402" locator="652:11-652:49" xsi:type="Last">
                     <source localId="1401" locator="652:16-652:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1399" locator="652:22-652:42" path="reference" xsi:type="Property">
                              <source localId="1398" locator="652:22-652:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1400" locator="652:45-652:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1404" locator="652:53-652:64" path="id" xsi:type="Property">
                        <source localId="1403" locator="652:53-652:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1411" locator="653:5-653:42">
               <expression localId="1410" locator="653:12-653:42" strict="false" xsi:type="As">
                  <operand localId="1408" locator="653:12-653:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1409" locator="653:23-653:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1448" locator="661:1-666:42" name="Persistent physiological symptoms" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1448">
               <a:s>/*
  @dataElement: ANC.B7.DE18 Persistent physiological symptoms
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Which of the following physiological symptoms persist? Select which of the following physiological symptoms persist after being reported during last contact
*/
define &quot;Persistent physiological symptoms&quot;:
  </a:s>
               <a:s r="1447">
                  <a:s>
                     <a:s r="1415">
                        <a:s r="1414">
                           <a:s r="1414">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Persistent physiological symptoms&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1441">
                     <a:s>where </a:s>
                     <a:s r="1441">
                        <a:s r="1431">
                           <a:s r="1422">
                              <a:s r="1417">
                                 <a:s r="1416">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1417">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1421">
                                 <a:s>{ </a:s>
                                 <a:s r="1418">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1419">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1420">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1430">
                              <a:s r="1429">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1427">
                                    <a:s r="1426">
                                       <a:s r="1423">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1426">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1424">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1425">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1427">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1428">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1440">
                           <a:s r="1437">
                              <a:s>Last(</a:s>
                              <a:s r="1436">
                                 <a:s>Split(</a:s>
                                 <a:s r="1434">
                                    <a:s r="1433">
                                       <a:s r="1432">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1433">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1434">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1435">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1439">
                              <a:s r="1438">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1439">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1446">
                     <a:s>return </a:s>
                     <a:s r="1445">
                        <a:s r="1443">
                           <a:s r="1442">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1443">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1444">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1447" locator="662:3-666:42" xsi:type="Query">
            <source localId="1415" locator="662:3-662:57" alias="O">
               <expression localId="1414" locator="662:3-662:55" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="662:17-662:54" name="Persistent physiological symptoms" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1441" locator="663:5-665:64" xsi:type="And">
               <operand localId="1431" locator="663:11-664:80" xsi:type="And">
                  <operand localId="1422" locator="663:11-663:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1417" locator="663:11-663:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1421" locator="663:23-663:57" xsi:type="List">
                        <element localId="1418" locator="663:25-663:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1419" locator="663:34-663:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1420" locator="663:45-663:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1430" locator="664:11-664:80" xsi:type="IsFalse">
                     <operand localId="1429" locator="664:11-664:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1427" locator="664:20-664:63" path="value" xsi:type="Property">
                                 <source localId="1426" locator="664:20-664:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1424" locator="664:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1425" locator="664:44-664:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1428" locator="664:66-664:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1440" locator="665:11-665:64" xsi:type="Equal">
                  <operand localId="1437" locator="665:11-665:49" xsi:type="Last">
                     <source localId="1436" locator="665:16-665:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1434" locator="665:22-665:42" path="reference" xsi:type="Property">
                              <source localId="1433" locator="665:22-665:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1435" locator="665:45-665:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1439" locator="665:53-665:64" path="id" xsi:type="Property">
                        <source localId="1438" locator="665:53-665:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1446" locator="666:5-666:42">
               <expression localId="1445" locator="666:12-666:42" strict="false" xsi:type="As">
                  <operand localId="1443" locator="666:12-666:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1444" locator="666:23-666:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1483" locator="674:1-679:42" name="Current physiological symptoms" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1483">
               <a:s>/*
  @dataElement: ANC.B7.DE43 Current physiological symptoms
  @activity: ANC.B7. Check symptoms and follow-up
  @description: The physiological symptoms that the woman is experiencing right now: select &quot;None&quot; if she is experiencing none of these symptoms
*/
define &quot;Current physiological symptoms&quot;:
  </a:s>
               <a:s r="1482">
                  <a:s>
                     <a:s r="1450">
                        <a:s r="1449">
                           <a:s r="1449">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Current physiological symptoms&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1476">
                     <a:s>where </a:s>
                     <a:s r="1476">
                        <a:s r="1466">
                           <a:s r="1457">
                              <a:s r="1452">
                                 <a:s r="1451">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1452">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1456">
                                 <a:s>{ </a:s>
                                 <a:s r="1453">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1454">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1455">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1465">
                              <a:s r="1464">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1462">
                                    <a:s r="1461">
                                       <a:s r="1458">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1461">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1459">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1460">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1462">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1463">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1475">
                           <a:s r="1472">
                              <a:s>Last(</a:s>
                              <a:s r="1471">
                                 <a:s>Split(</a:s>
                                 <a:s r="1469">
                                    <a:s r="1468">
                                       <a:s r="1467">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1468">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1469">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1470">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1474">
                              <a:s r="1473">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1474">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1481">
                     <a:s>return </a:s>
                     <a:s r="1480">
                        <a:s r="1478">
                           <a:s r="1477">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1478">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1479">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1482" locator="675:3-679:42" xsi:type="Query">
            <source localId="1450" locator="675:3-675:54" alias="O">
               <expression localId="1449" locator="675:3-675:52" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="675:17-675:51" name="Current physiological symptoms" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1476" locator="676:5-678:64" xsi:type="And">
               <operand localId="1466" locator="676:11-677:80" xsi:type="And">
                  <operand localId="1457" locator="676:11-676:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1452" locator="676:11-676:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1456" locator="676:23-676:57" xsi:type="List">
                        <element localId="1453" locator="676:25-676:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1454" locator="676:34-676:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1455" locator="676:45-676:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1465" locator="677:11-677:80" xsi:type="IsFalse">
                     <operand localId="1464" locator="677:11-677:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1462" locator="677:20-677:63" path="value" xsi:type="Property">
                                 <source localId="1461" locator="677:20-677:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1459" locator="677:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1460" locator="677:44-677:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1463" locator="677:66-677:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1475" locator="678:11-678:64" xsi:type="Equal">
                  <operand localId="1472" locator="678:11-678:49" xsi:type="Last">
                     <source localId="1471" locator="678:16-678:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1469" locator="678:22-678:42" path="reference" xsi:type="Property">
                              <source localId="1468" locator="678:22-678:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1470" locator="678:45-678:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1474" locator="678:53-678:64" path="id" xsi:type="Property">
                        <source localId="1473" locator="678:53-678:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1481" locator="679:5-679:42">
               <expression localId="1480" locator="679:12-679:42" strict="false" xsi:type="As">
                  <operand localId="1478" locator="679:12-679:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1479" locator="679:23-679:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1518" locator="687:1-692:42" name="Presenting signs and symptoms that trigger suspicion of IPV and clinical inquiry" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1518">
               <a:s>/*
  @dataElement: ANC.B7.DE71 Presenting signs and symptoms that trigger suspicion of IPV and clinical inquiry
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Presenting signs and symptoms that trigger clinical enquiry of IPV. The Input Options listed below are based on Health care for women subjected to intimate partner violence or sexual violence â€“ a clinical handbook (3)
*/
define &quot;Presenting signs and symptoms that trigger suspicion of IPV and clinical inquiry&quot;:
  </a:s>
               <a:s r="1517">
                  <a:s>
                     <a:s r="1485">
                        <a:s r="1484">
                           <a:s r="1484">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Presenting signs and symptoms that trigger suspicion of IPV and clinical inquiry&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1511">
                     <a:s>where </a:s>
                     <a:s r="1511">
                        <a:s r="1501">
                           <a:s r="1492">
                              <a:s r="1487">
                                 <a:s r="1486">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1487">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1491">
                                 <a:s>{ </a:s>
                                 <a:s r="1488">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1489">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1490">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1500">
                              <a:s r="1499">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1497">
                                    <a:s r="1496">
                                       <a:s r="1493">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1496">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1494">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1495">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1497">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1498">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1510">
                           <a:s r="1507">
                              <a:s>Last(</a:s>
                              <a:s r="1506">
                                 <a:s>Split(</a:s>
                                 <a:s r="1504">
                                    <a:s r="1503">
                                       <a:s r="1502">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1503">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1504">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1505">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1509">
                              <a:s r="1508">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1509">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1516">
                     <a:s>return </a:s>
                     <a:s r="1515">
                        <a:s r="1513">
                           <a:s r="1512">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1513">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1514">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1517" locator="688:3-692:42" xsi:type="Query">
            <source localId="1485" locator="688:3-688:104" alias="O">
               <expression localId="1484" locator="688:3-688:102" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="688:17-688:101" name="Presenting signs and symptoms that trigger suspicion of IPV and clinical inquiry" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1511" locator="689:5-691:64" xsi:type="And">
               <operand localId="1501" locator="689:11-690:80" xsi:type="And">
                  <operand localId="1492" locator="689:11-689:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1487" locator="689:11-689:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1491" locator="689:23-689:57" xsi:type="List">
                        <element localId="1488" locator="689:25-689:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1489" locator="689:34-689:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1490" locator="689:45-689:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1500" locator="690:11-690:80" xsi:type="IsFalse">
                     <operand localId="1499" locator="690:11-690:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1497" locator="690:20-690:63" path="value" xsi:type="Property">
                                 <source localId="1496" locator="690:20-690:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1494" locator="690:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1495" locator="690:44-690:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1498" locator="690:66-690:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1510" locator="691:11-691:64" xsi:type="Equal">
                  <operand localId="1507" locator="691:11-691:49" xsi:type="Last">
                     <source localId="1506" locator="691:16-691:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1504" locator="691:22-691:42" path="reference" xsi:type="Property">
                              <source localId="1503" locator="691:22-691:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1505" locator="691:45-691:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1509" locator="691:53-691:64" path="id" xsi:type="Property">
                        <source localId="1508" locator="691:53-691:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1516" locator="692:5-692:42">
               <expression localId="1515" locator="692:12-692:42" strict="false" xsi:type="As">
                  <operand localId="1513" locator="692:12-692:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1514" locator="692:23-692:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1553" locator="700:1-706:25" name="Woman discloses or is suspected to be subjected to intimate partner violence" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1553">
               <a:s>/*
  @dataElement: ANC.B7.DE97 Woman discloses or is suspected to be subjected to intimate partner violence
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Woman discloses or is suspected   to be subjected to intimate partner violence
*/
define &quot;Woman discloses or is suspected to be subjected to intimate partner violence&quot;:
  </a:s>
               <a:s r="1552">
                  <a:s r="1550">
                     <a:s r="1549">
                        <a:s r="1519">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1549">
                           <a:s>Only(
    </a:s>
                           <a:s r="1548">
                              <a:s>
                                 <a:s r="1521">
                                    <a:s r="1520">
                                       <a:s r="1520">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Woman discloses or is suspected to be subjected to intimate partner violence&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="1547">
                                 <a:s>where </a:s>
                                 <a:s r="1547">
                                    <a:s r="1537">
                                       <a:s r="1528">
                                          <a:s r="1523">
                                             <a:s r="1522">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1523">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1527">
                                             <a:s>{ </a:s>
                                             <a:s r="1524">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1525">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1526">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
        and </a:s>
                                       <a:s r="1536">
                                          <a:s r="1535">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1533">
                                                <a:s r="1532">
                                                   <a:s r="1529">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1532">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1530">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1531">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1533">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1534">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
        and </a:s>
                                    <a:s r="1546">
                                       <a:s r="1543">
                                          <a:s>Last(</a:s>
                                          <a:s r="1542">
                                             <a:s>Split(</a:s>
                                             <a:s r="1540">
                                                <a:s r="1539">
                                                   <a:s r="1538">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1539">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1540">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1541">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1545">
                                          <a:s r="1544">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1545">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1550">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1551">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1552" locator="701:3-706:25" strict="false" xsi:type="As">
            <operand localId="1550" locator="701:3-706:9" path="value" xsi:type="Property">
               <source localId="1549" locator="701:3-706:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1548" locator="702:5-705:66" xsi:type="Query">
                     <source localId="1521" locator="702:5-702:102" alias="O">
                        <expression localId="1520" locator="702:5-702:100" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="702:19-702:99" name="Woman discloses or is suspected to be subjected to intimate partner violence" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1547" locator="703:7-705:66" xsi:type="And">
                        <operand localId="1537" locator="703:13-704:82" xsi:type="And">
                           <operand localId="1528" locator="703:13-703:59" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1523" locator="703:13-703:20" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1527" locator="703:25-703:59" xsi:type="List">
                                 <element localId="1524" locator="703:27-703:33" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1525" locator="703:36-703:44" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1526" locator="703:47-703:57" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1536" locator="704:13-704:82" xsi:type="IsFalse">
                              <operand localId="1535" locator="704:13-704:73" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1533" locator="704:22-704:65" path="value" xsi:type="Property">
                                          <source localId="1532" locator="704:22-704:59" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1530" locator="704:43" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1531" locator="704:46-704:58" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1534" locator="704:68-704:72" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1546" locator="705:13-705:66" xsi:type="Equal">
                           <operand localId="1543" locator="705:13-705:51" xsi:type="Last">
                              <source localId="1542" locator="705:18-705:50" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1540" locator="705:24-705:44" path="reference" xsi:type="Property">
                                       <source localId="1539" locator="705:24-705:34" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1541" locator="705:47-705:49" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1545" locator="705:55-705:66" path="id" xsi:type="Property">
                                 <source localId="1544" locator="705:55-705:63" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1551" locator="706:14-706:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1588" locator="714:1-720:33" name="Fetal movement" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1588">
               <a:s>/*
  @dataElement: ANC.B7.DE98 Fetal movement
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Whether the woman has felt the baby move or not or if the baby's movements have decreased
*/
define &quot;Fetal movement&quot;:
  </a:s>
               <a:s r="1587">
                  <a:s r="1585">
                     <a:s r="1584">
                        <a:s r="1554">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1584">
                           <a:s>Only(
  </a:s>
                           <a:s r="1583">
                              <a:s>
                                 <a:s r="1556">
                                    <a:s r="1555">
                                       <a:s r="1555">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Fetal movement&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1582">
                                 <a:s>where </a:s>
                                 <a:s r="1582">
                                    <a:s r="1572">
                                       <a:s r="1563">
                                          <a:s r="1558">
                                             <a:s r="1557">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1558">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1562">
                                             <a:s>{ </a:s>
                                             <a:s r="1559">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1560">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1561">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1571">
                                          <a:s r="1570">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1568">
                                                <a:s r="1567">
                                                   <a:s r="1564">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1567">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1565">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1566">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1568">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1569">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1581">
                                       <a:s r="1578">
                                          <a:s>Last(</a:s>
                                          <a:s r="1577">
                                             <a:s>Split(</a:s>
                                             <a:s r="1575">
                                                <a:s r="1574">
                                                   <a:s r="1573">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1574">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1575">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1576">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1580">
                                          <a:s r="1579">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1580">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1585">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1586">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1587" locator="715:3-720:33" strict="false" xsi:type="As">
            <operand localId="1585" locator="715:3-720:9" path="value" xsi:type="Property">
               <source localId="1584" locator="715:3-720:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1583" locator="716:3-719:64" xsi:type="Query">
                     <source localId="1556" locator="716:3-716:38" alias="O">
                        <expression localId="1555" locator="716:3-716:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="716:17-716:35" name="Fetal movement" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1582" locator="717:5-719:64" xsi:type="And">
                        <operand localId="1572" locator="717:11-718:80" xsi:type="And">
                           <operand localId="1563" locator="717:11-717:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1558" locator="717:11-717:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1562" locator="717:23-717:57" xsi:type="List">
                                 <element localId="1559" locator="717:25-717:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1560" locator="717:34-717:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1561" locator="717:45-717:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1571" locator="718:11-718:80" xsi:type="IsFalse">
                              <operand localId="1570" locator="718:11-718:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1568" locator="718:20-718:63" path="value" xsi:type="Property">
                                          <source localId="1567" locator="718:20-718:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1565" locator="718:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1566" locator="718:44-718:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1569" locator="718:66-718:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1581" locator="719:11-719:64" xsi:type="Equal">
                           <operand localId="1578" locator="719:11-719:49" xsi:type="Last">
                              <source localId="1577" locator="719:16-719:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1575" locator="719:22-719:42" path="reference" xsi:type="Property">
                                       <source localId="1574" locator="719:22-719:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1576" locator="719:45-719:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1580" locator="719:53-719:64" path="id" xsi:type="Property">
                                 <source localId="1579" locator="719:53-719:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1586" locator="720:14-720:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1623" locator="728:1-733:42" name="Persistent behaviours" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1623">
               <a:s>/*
  @dataElement: ANC.B7.DED9 Persistent behaviours
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Which of the following behaviours persist? Select which of the following behaviours persist after being reported during last contact
*/
define &quot;Persistent behaviours&quot;:
  </a:s>
               <a:s r="1622">
                  <a:s>
                     <a:s r="1590">
                        <a:s r="1589">
                           <a:s r="1589">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Persistent behaviours&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1616">
                     <a:s>where </a:s>
                     <a:s r="1616">
                        <a:s r="1606">
                           <a:s r="1597">
                              <a:s r="1592">
                                 <a:s r="1591">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="1592">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="1596">
                                 <a:s>{ </a:s>
                                 <a:s r="1593">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1594">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1595">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="1605">
                              <a:s r="1604">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="1602">
                                    <a:s r="1601">
                                       <a:s r="1598">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1601">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="1599">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="1600">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1602">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="1603">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="1615">
                           <a:s r="1612">
                              <a:s>Last(</a:s>
                              <a:s r="1611">
                                 <a:s>Split(</a:s>
                                 <a:s r="1609">
                                    <a:s r="1608">
                                       <a:s r="1607">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="1608">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="1609">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="1610">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="1614">
                              <a:s r="1613">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="1614">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="1621">
                     <a:s>return </a:s>
                     <a:s r="1620">
                        <a:s r="1618">
                           <a:s r="1617">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="1618">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="1619">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1622" locator="729:3-733:42" xsi:type="Query">
            <source localId="1590" locator="729:3-729:45" alias="O">
               <expression localId="1589" locator="729:3-729:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="729:17-729:42" name="Persistent behaviours" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="1616" locator="730:5-732:64" xsi:type="And">
               <operand localId="1606" locator="730:11-731:80" xsi:type="And">
                  <operand localId="1597" locator="730:11-730:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="1592" locator="730:11-730:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="1596" locator="730:23-730:57" xsi:type="List">
                        <element localId="1593" locator="730:25-730:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="1594" locator="730:34-730:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="1595" locator="730:45-730:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="1605" locator="731:11-731:80" xsi:type="IsFalse">
                     <operand localId="1604" locator="731:11-731:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="1602" locator="731:20-731:63" path="value" xsi:type="Property">
                                 <source localId="1601" locator="731:20-731:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="1599" locator="731:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="1600" locator="731:44-731:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1603" locator="731:66-731:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="1615" locator="732:11-732:64" xsi:type="Equal">
                  <operand localId="1612" locator="732:11-732:49" xsi:type="Last">
                     <source localId="1611" locator="732:16-732:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="1609" locator="732:22-732:42" path="reference" xsi:type="Property">
                              <source localId="1608" locator="732:22-732:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="1610" locator="732:45-732:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="1614" locator="732:53-732:64" path="id" xsi:type="Property">
                        <source localId="1613" locator="732:53-732:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="1621" locator="733:5-733:42">
               <expression localId="1620" locator="733:12-733:42" strict="false" xsi:type="As">
                  <operand localId="1618" locator="733:12-733:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="1619" locator="733:23-733:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="1658" locator="741:1-747:25" name="Has the woman  been subjected to intimate partner violence" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1658">
               <a:s>/*
  @dataElement: ANC.B8.DE128 Has the woman  been subjected to intimate partner violence
  @activity: ANC.B7. Check symptoms and follow-up
  @description: Whether the woman has been subjected to intimate partner violence
*/
define &quot;Has the woman  been subjected to intimate partner violence&quot;:
  </a:s>
               <a:s r="1657">
                  <a:s r="1655">
                     <a:s r="1654">
                        <a:s r="1624">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1654">
                           <a:s>Only(
  </a:s>
                           <a:s r="1653">
                              <a:s>
                                 <a:s r="1626">
                                    <a:s r="1625">
                                       <a:s r="1625">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Has the woman  been subjected to intimate partner violence&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1652">
                                 <a:s>where </a:s>
                                 <a:s r="1652">
                                    <a:s r="1642">
                                       <a:s r="1633">
                                          <a:s r="1628">
                                             <a:s r="1627">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1628">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1632">
                                             <a:s>{ </a:s>
                                             <a:s r="1629">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1630">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1631">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1641">
                                          <a:s r="1640">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1638">
                                                <a:s r="1637">
                                                   <a:s r="1634">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1637">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1635">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1636">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1638">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1639">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1651">
                                       <a:s r="1648">
                                          <a:s>Last(</a:s>
                                          <a:s r="1647">
                                             <a:s>Split(</a:s>
                                             <a:s r="1645">
                                                <a:s r="1644">
                                                   <a:s r="1643">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1644">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1645">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1646">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1650">
                                          <a:s r="1649">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1650">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1655">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1656">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1657" locator="742:3-747:25" strict="false" xsi:type="As">
            <operand localId="1655" locator="742:3-747:9" path="value" xsi:type="Property">
               <source localId="1654" locator="742:3-747:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1653" locator="743:3-746:64" xsi:type="Query">
                     <source localId="1626" locator="743:3-743:82" alias="O">
                        <expression localId="1625" locator="743:3-743:80" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="743:17-743:79" name="Has the woman  been subjected to intimate partner violence" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1652" locator="744:5-746:64" xsi:type="And">
                        <operand localId="1642" locator="744:11-745:80" xsi:type="And">
                           <operand localId="1633" locator="744:11-744:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1628" locator="744:11-744:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1632" locator="744:23-744:57" xsi:type="List">
                                 <element localId="1629" locator="744:25-744:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1630" locator="744:34-744:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1631" locator="744:45-744:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1641" locator="745:11-745:80" xsi:type="IsFalse">
                              <operand localId="1640" locator="745:11-745:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1638" locator="745:20-745:63" path="value" xsi:type="Property">
                                          <source localId="1637" locator="745:20-745:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1635" locator="745:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1636" locator="745:44-745:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1639" locator="745:66-745:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1651" locator="746:11-746:64" xsi:type="Equal">
                           <operand localId="1648" locator="746:11-746:49" xsi:type="Last">
                              <source localId="1647" locator="746:16-746:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1645" locator="746:22-746:42" path="reference" xsi:type="Property">
                                       <source localId="1644" locator="746:22-746:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1646" locator="746:45-746:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1650" locator="746:53-746:64" path="id" xsi:type="Property">
                                 <source localId="1649" locator="746:53-746:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1656" locator="747:14-747:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1693" locator="755:1-761:26" name="Height" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1693">
               <a:s>/*
  @dataElement: ANC.B8.DE1 Height
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's current height in centimetres
*/
define &quot;Height&quot;:
  </a:s>
               <a:s r="1692">
                  <a:s r="1690">
                     <a:s r="1689">
                        <a:s r="1659">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1689">
                           <a:s>Only(
  </a:s>
                           <a:s r="1688">
                              <a:s>
                                 <a:s r="1661">
                                    <a:s r="1660">
                                       <a:s r="1660">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Height&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1687">
                                 <a:s>where </a:s>
                                 <a:s r="1687">
                                    <a:s r="1677">
                                       <a:s r="1668">
                                          <a:s r="1663">
                                             <a:s r="1662">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1663">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1667">
                                             <a:s>{ </a:s>
                                             <a:s r="1664">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1665">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1666">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1676">
                                          <a:s r="1675">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1673">
                                                <a:s r="1672">
                                                   <a:s r="1669">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1672">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1670">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1671">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1673">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1674">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1686">
                                       <a:s r="1683">
                                          <a:s>Last(</a:s>
                                          <a:s r="1682">
                                             <a:s>Split(</a:s>
                                             <a:s r="1680">
                                                <a:s r="1679">
                                                   <a:s r="1678">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1679">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1680">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1681">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1685">
                                          <a:s r="1684">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1685">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1690">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1691">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1692" locator="756:3-761:26" strict="false" xsi:type="As">
            <operand localId="1690" locator="756:3-761:9" path="value" xsi:type="Property">
               <source localId="1689" locator="756:3-761:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1688" locator="757:3-760:64" xsi:type="Query">
                     <source localId="1661" locator="757:3-757:30" alias="O">
                        <expression localId="1660" locator="757:3-757:28" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="757:17-757:27" name="Height" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1687" locator="758:5-760:64" xsi:type="And">
                        <operand localId="1677" locator="758:11-759:80" xsi:type="And">
                           <operand localId="1668" locator="758:11-758:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1663" locator="758:11-758:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1667" locator="758:23-758:57" xsi:type="List">
                                 <element localId="1664" locator="758:25-758:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1665" locator="758:34-758:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1666" locator="758:45-758:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1676" locator="759:11-759:80" xsi:type="IsFalse">
                              <operand localId="1675" locator="759:11-759:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1673" locator="759:20-759:63" path="value" xsi:type="Property">
                                          <source localId="1672" locator="759:20-759:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1670" locator="759:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1671" locator="759:44-759:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1674" locator="759:66-759:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1686" locator="760:11-760:64" xsi:type="Equal">
                           <operand localId="1683" locator="760:11-760:49" xsi:type="Last">
                              <source localId="1682" locator="760:16-760:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1680" locator="760:22-760:42" path="reference" xsi:type="Property">
                                       <source localId="1679" locator="760:22-760:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1681" locator="760:45-760:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1685" locator="760:53-760:64" path="id" xsi:type="Property">
                                 <source localId="1684" locator="760:53-760:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1691" locator="761:14-761:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1728" locator="769:1-775:33" name="Expected weight gain" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1728">
               <a:s>/*
  @dataElement: ANC.B8.DE10 Expected weight gain
  @activity: ANC.B8. Conduct physical exam
  @description: Expected weight gain during pregnancy is based on the woman's weight category
*/
define &quot;Expected weight gain&quot;:
  </a:s>
               <a:s r="1727">
                  <a:s r="1725">
                     <a:s r="1724">
                        <a:s r="1694">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1724">
                           <a:s>Only(
  </a:s>
                           <a:s r="1723">
                              <a:s>
                                 <a:s r="1696">
                                    <a:s r="1695">
                                       <a:s r="1695">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Expected weight gain&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1722">
                                 <a:s>where </a:s>
                                 <a:s r="1722">
                                    <a:s r="1712">
                                       <a:s r="1703">
                                          <a:s r="1698">
                                             <a:s r="1697">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1698">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1702">
                                             <a:s>{ </a:s>
                                             <a:s r="1699">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1700">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1701">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1711">
                                          <a:s r="1710">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1708">
                                                <a:s r="1707">
                                                   <a:s r="1704">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1707">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1705">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1706">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1708">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1709">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1721">
                                       <a:s r="1718">
                                          <a:s>Last(</a:s>
                                          <a:s r="1717">
                                             <a:s>Split(</a:s>
                                             <a:s r="1715">
                                                <a:s r="1714">
                                                   <a:s r="1713">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1714">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1715">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1716">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1720">
                                          <a:s r="1719">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1720">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1725">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1726">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1727" locator="770:3-775:33" strict="false" xsi:type="As">
            <operand localId="1725" locator="770:3-775:9" path="value" xsi:type="Property">
               <source localId="1724" locator="770:3-775:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1723" locator="771:3-774:64" xsi:type="Query">
                     <source localId="1696" locator="771:3-771:44" alias="O">
                        <expression localId="1695" locator="771:3-771:42" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="771:17-771:41" name="Expected weight gain" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1722" locator="772:5-774:64" xsi:type="And">
                        <operand localId="1712" locator="772:11-773:80" xsi:type="And">
                           <operand localId="1703" locator="772:11-772:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1698" locator="772:11-772:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1702" locator="772:23-772:57" xsi:type="List">
                                 <element localId="1699" locator="772:25-772:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1700" locator="772:34-772:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1701" locator="772:45-772:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1711" locator="773:11-773:80" xsi:type="IsFalse">
                              <operand localId="1710" locator="773:11-773:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1708" locator="773:20-773:63" path="value" xsi:type="Property">
                                          <source localId="1707" locator="773:20-773:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1705" locator="773:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1706" locator="773:44-773:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1709" locator="773:66-773:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1721" locator="774:11-774:64" xsi:type="Equal">
                           <operand localId="1718" locator="774:11-774:49" xsi:type="Last">
                              <source localId="1717" locator="774:16-774:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1715" locator="774:22-774:42" path="reference" xsi:type="Property">
                                       <source localId="1714" locator="774:22-774:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1716" locator="774:45-774:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1720" locator="774:53-774:64" path="id" xsi:type="Property">
                                 <source localId="1719" locator="774:53-774:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1726" locator="775:14-775:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1763" locator="783:1-789:33" name="Oedema severity" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1763">
               <a:s>/*
  @dataElement: ANC.B8.DE100 Oedema severity
  @activity: ANC.B8. Conduct physical exam
  @description: Severity of the oedema
*/
define &quot;Oedema severity&quot;:
  </a:s>
               <a:s r="1762">
                  <a:s r="1760">
                     <a:s r="1759">
                        <a:s r="1729">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1759">
                           <a:s>Only(
  </a:s>
                           <a:s r="1758">
                              <a:s>
                                 <a:s r="1731">
                                    <a:s r="1730">
                                       <a:s r="1730">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Oedema severity&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1757">
                                 <a:s>where </a:s>
                                 <a:s r="1757">
                                    <a:s r="1747">
                                       <a:s r="1738">
                                          <a:s r="1733">
                                             <a:s r="1732">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1733">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1737">
                                             <a:s>{ </a:s>
                                             <a:s r="1734">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1735">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1736">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1746">
                                          <a:s r="1745">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1743">
                                                <a:s r="1742">
                                                   <a:s r="1739">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1742">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1740">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1741">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1743">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1744">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1756">
                                       <a:s r="1753">
                                          <a:s>Last(</a:s>
                                          <a:s r="1752">
                                             <a:s>Split(</a:s>
                                             <a:s r="1750">
                                                <a:s r="1749">
                                                   <a:s r="1748">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1749">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1750">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1751">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1755">
                                          <a:s r="1754">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1755">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1760">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1761">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1762" locator="784:3-789:33" strict="false" xsi:type="As">
            <operand localId="1760" locator="784:3-789:9" path="value" xsi:type="Property">
               <source localId="1759" locator="784:3-789:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1758" locator="785:3-788:64" xsi:type="Query">
                     <source localId="1731" locator="785:3-785:39" alias="O">
                        <expression localId="1730" locator="785:3-785:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="785:17-785:36" name="Oedema severity" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1757" locator="786:5-788:64" xsi:type="And">
                        <operand localId="1747" locator="786:11-787:80" xsi:type="And">
                           <operand localId="1738" locator="786:11-786:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1733" locator="786:11-786:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1737" locator="786:23-786:57" xsi:type="List">
                                 <element localId="1734" locator="786:25-786:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1735" locator="786:34-786:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1736" locator="786:45-786:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1746" locator="787:11-787:80" xsi:type="IsFalse">
                              <operand localId="1745" locator="787:11-787:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1743" locator="787:20-787:63" path="value" xsi:type="Property">
                                          <source localId="1742" locator="787:20-787:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1740" locator="787:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1741" locator="787:44-787:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1744" locator="787:66-787:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1756" locator="788:11-788:64" xsi:type="Equal">
                           <operand localId="1753" locator="788:11-788:49" xsi:type="Last">
                              <source localId="1752" locator="788:16-788:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1750" locator="788:22-788:42" path="reference" xsi:type="Property">
                                       <source localId="1749" locator="788:22-788:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1751" locator="788:45-788:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1755" locator="788:53-788:64" path="id" xsi:type="Property">
                                 <source localId="1754" locator="788:53-788:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1761" locator="789:14-789:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1798" locator="797:1-803:26" name="Symphysis-fundal height (SFH)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1798">
               <a:s>/*
  @dataElement: ANC.B8.DE105 Symphysis-fundal height (SFH)
  @activity: ANC.B8. Conduct physical exam
  @description: The symphysis-fundal height (SFH) in centimetres
*/
define &quot;Symphysis-fundal height (SFH)&quot;:
  </a:s>
               <a:s r="1797">
                  <a:s r="1795">
                     <a:s r="1794">
                        <a:s r="1764">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1794">
                           <a:s>Only(
  </a:s>
                           <a:s r="1793">
                              <a:s>
                                 <a:s r="1766">
                                    <a:s r="1765">
                                       <a:s r="1765">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Symphysis-fundal height (SFH)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1792">
                                 <a:s>where </a:s>
                                 <a:s r="1792">
                                    <a:s r="1782">
                                       <a:s r="1773">
                                          <a:s r="1768">
                                             <a:s r="1767">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1768">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1772">
                                             <a:s>{ </a:s>
                                             <a:s r="1769">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1770">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1771">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1781">
                                          <a:s r="1780">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1778">
                                                <a:s r="1777">
                                                   <a:s r="1774">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1777">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1775">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1776">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1778">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1779">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1791">
                                       <a:s r="1788">
                                          <a:s>Last(</a:s>
                                          <a:s r="1787">
                                             <a:s>Split(</a:s>
                                             <a:s r="1785">
                                                <a:s r="1784">
                                                   <a:s r="1783">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1784">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1785">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1786">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1790">
                                          <a:s r="1789">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1790">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1795">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1796">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1797" locator="798:3-803:26" strict="false" xsi:type="As">
            <operand localId="1795" locator="798:3-803:9" path="value" xsi:type="Property">
               <source localId="1794" locator="798:3-803:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1793" locator="799:3-802:64" xsi:type="Query">
                     <source localId="1766" locator="799:3-799:53" alias="O">
                        <expression localId="1765" locator="799:3-799:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="799:17-799:50" name="Symphysis-fundal height (SFH)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1792" locator="800:5-802:64" xsi:type="And">
                        <operand localId="1782" locator="800:11-801:80" xsi:type="And">
                           <operand localId="1773" locator="800:11-800:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1768" locator="800:11-800:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1772" locator="800:23-800:57" xsi:type="List">
                                 <element localId="1769" locator="800:25-800:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1770" locator="800:34-800:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1771" locator="800:45-800:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1781" locator="801:11-801:80" xsi:type="IsFalse">
                              <operand localId="1780" locator="801:11-801:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1778" locator="801:20-801:63" path="value" xsi:type="Property">
                                          <source localId="1777" locator="801:20-801:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1775" locator="801:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1776" locator="801:44-801:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1779" locator="801:66-801:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1791" locator="802:11-802:64" xsi:type="Equal">
                           <operand localId="1788" locator="802:11-802:49" xsi:type="Last">
                              <source localId="1787" locator="802:16-802:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1785" locator="802:22-802:42" path="reference" xsi:type="Property">
                                       <source localId="1784" locator="802:22-802:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1786" locator="802:45-802:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1790" locator="802:53-802:64" path="id" xsi:type="Property">
                                 <source localId="1789" locator="802:53-802:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1796" locator="803:14-803:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1833" locator="811:1-817:25" name="Fetal heartbeat present" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1833">
               <a:s>/*
  @dataElement: ANC.B8.DE106 Fetal heartbeat present
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the health worker observes a fetal heartbeat
*/
define &quot;Fetal heartbeat present&quot;:
  </a:s>
               <a:s r="1832">
                  <a:s r="1830">
                     <a:s r="1829">
                        <a:s r="1799">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1829">
                           <a:s>Only(
  </a:s>
                           <a:s r="1828">
                              <a:s>
                                 <a:s r="1801">
                                    <a:s r="1800">
                                       <a:s r="1800">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Fetal heartbeat present&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1827">
                                 <a:s>where </a:s>
                                 <a:s r="1827">
                                    <a:s r="1817">
                                       <a:s r="1808">
                                          <a:s r="1803">
                                             <a:s r="1802">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1803">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1807">
                                             <a:s>{ </a:s>
                                             <a:s r="1804">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1805">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1806">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1816">
                                          <a:s r="1815">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1813">
                                                <a:s r="1812">
                                                   <a:s r="1809">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1812">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1810">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1811">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1813">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1814">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1826">
                                       <a:s r="1823">
                                          <a:s>Last(</a:s>
                                          <a:s r="1822">
                                             <a:s>Split(</a:s>
                                             <a:s r="1820">
                                                <a:s r="1819">
                                                   <a:s r="1818">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1819">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1820">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1821">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1825">
                                          <a:s r="1824">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1825">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1830">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1831">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1832" locator="812:3-817:25" strict="false" xsi:type="As">
            <operand localId="1830" locator="812:3-817:9" path="value" xsi:type="Property">
               <source localId="1829" locator="812:3-817:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1828" locator="813:3-816:64" xsi:type="Query">
                     <source localId="1801" locator="813:3-813:47" alias="O">
                        <expression localId="1800" locator="813:3-813:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="813:17-813:44" name="Fetal heartbeat present" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1827" locator="814:5-816:64" xsi:type="And">
                        <operand localId="1817" locator="814:11-815:80" xsi:type="And">
                           <operand localId="1808" locator="814:11-814:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1803" locator="814:11-814:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1807" locator="814:23-814:57" xsi:type="List">
                                 <element localId="1804" locator="814:25-814:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1805" locator="814:34-814:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1806" locator="814:45-814:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1816" locator="815:11-815:80" xsi:type="IsFalse">
                              <operand localId="1815" locator="815:11-815:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1813" locator="815:20-815:63" path="value" xsi:type="Property">
                                          <source localId="1812" locator="815:20-815:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1810" locator="815:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1811" locator="815:44-815:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1814" locator="815:66-815:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1826" locator="816:11-816:64" xsi:type="Equal">
                           <operand localId="1823" locator="816:11-816:49" xsi:type="Last">
                              <source localId="1822" locator="816:16-816:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1820" locator="816:22-816:42" path="reference" xsi:type="Property">
                                       <source localId="1819" locator="816:22-816:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1821" locator="816:45-816:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1825" locator="816:53-816:64" path="id" xsi:type="Property">
                                 <source localId="1824" locator="816:53-816:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1831" locator="817:14-817:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1868" locator="825:1-831:26" name="Fetal heart rate" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1868">
               <a:s>/*
  @dataElement: ANC.B8.DE107 Fetal heart rate
  @activity: ANC.B8. Conduct physical exam
  @description: The fetal heart rate in beats per minute (bpm)
*/
define &quot;Fetal heart rate&quot;:
  </a:s>
               <a:s r="1867">
                  <a:s r="1865">
                     <a:s r="1864">
                        <a:s r="1834">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1864">
                           <a:s>Earliest(
  </a:s>
                           <a:s r="1863">
                              <a:s>
                                 <a:s r="1836">
                                    <a:s r="1835">
                                       <a:s r="1835">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Fetal heart rate&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1862">
                                 <a:s>where </a:s>
                                 <a:s r="1862">
                                    <a:s r="1852">
                                       <a:s r="1843">
                                          <a:s r="1838">
                                             <a:s r="1837">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1838">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1842">
                                             <a:s>{ </a:s>
                                             <a:s r="1839">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1840">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1841">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1851">
                                          <a:s r="1850">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1848">
                                                <a:s r="1847">
                                                   <a:s r="1844">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1847">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1845">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1846">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1848">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1849">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1861">
                                       <a:s r="1858">
                                          <a:s>Last(</a:s>
                                          <a:s r="1857">
                                             <a:s>Split(</a:s>
                                             <a:s r="1855">
                                                <a:s r="1854">
                                                   <a:s r="1853">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1854">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1855">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1856">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1860">
                                          <a:s r="1859">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1860">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1865">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1866">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1867" locator="826:3-831:26" strict="false" xsi:type="As">
            <operand localId="1865" locator="826:3-831:9" path="value" xsi:type="Property">
               <source localId="1864" locator="826:3-831:3" name="Earliest" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1863" locator="827:3-830:64" xsi:type="Query">
                     <source localId="1836" locator="827:3-827:40" alias="O">
                        <expression localId="1835" locator="827:3-827:38" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="827:17-827:37" name="Fetal heart rate" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1862" locator="828:5-830:64" xsi:type="And">
                        <operand localId="1852" locator="828:11-829:80" xsi:type="And">
                           <operand localId="1843" locator="828:11-828:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1838" locator="828:11-828:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1842" locator="828:23-828:57" xsi:type="List">
                                 <element localId="1839" locator="828:25-828:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1840" locator="828:34-828:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1841" locator="828:45-828:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1851" locator="829:11-829:80" xsi:type="IsFalse">
                              <operand localId="1850" locator="829:11-829:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1848" locator="829:20-829:63" path="value" xsi:type="Property">
                                          <source localId="1847" locator="829:20-829:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1845" locator="829:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1846" locator="829:44-829:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1849" locator="829:66-829:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1861" locator="830:11-830:64" xsi:type="Equal">
                           <operand localId="1858" locator="830:11-830:49" xsi:type="Last">
                              <source localId="1857" locator="830:16-830:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1855" locator="830:22-830:42" path="reference" xsi:type="Property">
                                       <source localId="1854" locator="830:22-830:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1856" locator="830:45-830:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1860" locator="830:53-830:64" path="id" xsi:type="Property">
                                 <source localId="1859" locator="830:53-830:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1866" locator="831:14-831:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1903" locator="839:1-845:26" name="Second fetal heart rate" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1903">
               <a:s>/*
  @dataElement: ANC.B8.DE108 Second fetal heart rate
  @activity: ANC.B8. Conduct physical exam
  @description: The second fetal heart rate reading in beats per minute (bpm)
*/
define &quot;Second fetal heart rate&quot;:
  </a:s>
               <a:s r="1902">
                  <a:s r="1900">
                     <a:s r="1899">
                        <a:s r="1869">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1899">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="1898">
                              <a:s>
                                 <a:s r="1871">
                                    <a:s r="1870">
                                       <a:s r="1870">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Second fetal heart rate&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1897">
                                 <a:s>where </a:s>
                                 <a:s r="1897">
                                    <a:s r="1887">
                                       <a:s r="1878">
                                          <a:s r="1873">
                                             <a:s r="1872">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1873">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1877">
                                             <a:s>{ </a:s>
                                             <a:s r="1874">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1875">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1876">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1886">
                                          <a:s r="1885">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1883">
                                                <a:s r="1882">
                                                   <a:s r="1879">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1882">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1880">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1881">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1883">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1884">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1896">
                                       <a:s r="1893">
                                          <a:s>Last(</a:s>
                                          <a:s r="1892">
                                             <a:s>Split(</a:s>
                                             <a:s r="1890">
                                                <a:s r="1889">
                                                   <a:s r="1888">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1889">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1890">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1891">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1895">
                                          <a:s r="1894">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1895">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1900">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1901">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1902" locator="840:3-845:26" strict="false" xsi:type="As">
            <operand localId="1900" locator="840:3-845:9" path="value" xsi:type="Property">
               <source localId="1899" locator="840:3-845:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1898" locator="841:3-844:64" xsi:type="Query">
                     <source localId="1871" locator="841:3-841:47" alias="O">
                        <expression localId="1870" locator="841:3-841:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="841:17-841:44" name="Second fetal heart rate" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1897" locator="842:5-844:64" xsi:type="And">
                        <operand localId="1887" locator="842:11-843:80" xsi:type="And">
                           <operand localId="1878" locator="842:11-842:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1873" locator="842:11-842:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1877" locator="842:23-842:57" xsi:type="List">
                                 <element localId="1874" locator="842:25-842:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1875" locator="842:34-842:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1876" locator="842:45-842:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1886" locator="843:11-843:80" xsi:type="IsFalse">
                              <operand localId="1885" locator="843:11-843:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1883" locator="843:20-843:63" path="value" xsi:type="Property">
                                          <source localId="1882" locator="843:20-843:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1880" locator="843:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1881" locator="843:44-843:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1884" locator="843:66-843:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1896" locator="844:11-844:64" xsi:type="Equal">
                           <operand localId="1893" locator="844:11-844:49" xsi:type="Last">
                              <source localId="1892" locator="844:16-844:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1890" locator="844:22-844:42" path="reference" xsi:type="Property">
                                       <source localId="1889" locator="844:22-844:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1891" locator="844:45-844:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1895" locator="844:53-844:64" path="id" xsi:type="Property">
                                 <source localId="1894" locator="844:53-844:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1901" locator="845:14-845:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1938" locator="853:1-859:26" name="Number of fetuses" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1938">
               <a:s>/*
  @dataElement: ANC.B8.DE109 Number of fetuses
  @activity: ANC.B8. Conduct physical exam
  @description: Indicate the number of fetuses the woman is carrying
*/
define &quot;Number of fetuses&quot;:
  </a:s>
               <a:s r="1937">
                  <a:s r="1935">
                     <a:s r="1934">
                        <a:s r="1904">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1934">
                           <a:s>Only(
  </a:s>
                           <a:s r="1933">
                              <a:s>
                                 <a:s r="1906">
                                    <a:s r="1905">
                                       <a:s r="1905">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of fetuses&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1932">
                                 <a:s>where </a:s>
                                 <a:s r="1932">
                                    <a:s r="1922">
                                       <a:s r="1913">
                                          <a:s r="1908">
                                             <a:s r="1907">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1908">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1912">
                                             <a:s>{ </a:s>
                                             <a:s r="1909">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1910">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1911">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1921">
                                          <a:s r="1920">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1918">
                                                <a:s r="1917">
                                                   <a:s r="1914">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1917">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1915">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1916">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1918">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1919">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1931">
                                       <a:s r="1928">
                                          <a:s>Last(</a:s>
                                          <a:s r="1927">
                                             <a:s>Split(</a:s>
                                             <a:s r="1925">
                                                <a:s r="1924">
                                                   <a:s r="1923">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1924">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1925">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1926">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1930">
                                          <a:s r="1929">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1930">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1935">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1936">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1937" locator="854:3-859:26" strict="false" xsi:type="As">
            <operand localId="1935" locator="854:3-859:9" path="value" xsi:type="Property">
               <source localId="1934" locator="854:3-859:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1933" locator="855:3-858:64" xsi:type="Query">
                     <source localId="1906" locator="855:3-855:41" alias="O">
                        <expression localId="1905" locator="855:3-855:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="855:17-855:38" name="Number of fetuses" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1932" locator="856:5-858:64" xsi:type="And">
                        <operand localId="1922" locator="856:11-857:80" xsi:type="And">
                           <operand localId="1913" locator="856:11-856:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1908" locator="856:11-856:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1912" locator="856:23-856:57" xsi:type="List">
                                 <element localId="1909" locator="856:25-856:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1910" locator="856:34-856:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1911" locator="856:45-856:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1921" locator="857:11-857:80" xsi:type="IsFalse">
                              <operand localId="1920" locator="857:11-857:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1918" locator="857:20-857:63" path="value" xsi:type="Property">
                                          <source localId="1917" locator="857:20-857:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1915" locator="857:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1916" locator="857:44-857:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1919" locator="857:66-857:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1931" locator="858:11-858:64" xsi:type="Equal">
                           <operand localId="1928" locator="858:11-858:49" xsi:type="Last">
                              <source localId="1927" locator="858:16-858:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1925" locator="858:22-858:42" path="reference" xsi:type="Property">
                                       <source localId="1924" locator="858:22-858:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1926" locator="858:45-858:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1930" locator="858:53-858:64" path="id" xsi:type="Property">
                                 <source localId="1929" locator="858:53-858:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1936" locator="859:14-859:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="1973" locator="867:1-873:26" name="Number of fetuses unknown" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="1973">
               <a:s>/*
  @dataElement: ANC.B8.DE110 Number of fetuses unknown
  @activity: ANC.B8. Conduct physical exam
  @description: Number of fetuses cannot be determined at this time, thus the number of fetuses is unknown
*/
define &quot;Number of fetuses unknown&quot;:
  </a:s>
               <a:s r="1972">
                  <a:s r="1970">
                     <a:s r="1969">
                        <a:s r="1939">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="1969">
                           <a:s>Only(
  </a:s>
                           <a:s r="1968">
                              <a:s>
                                 <a:s r="1941">
                                    <a:s r="1940">
                                       <a:s r="1940">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Number of fetuses unknown&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="1967">
                                 <a:s>where </a:s>
                                 <a:s r="1967">
                                    <a:s r="1957">
                                       <a:s r="1948">
                                          <a:s r="1943">
                                             <a:s r="1942">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1943">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1947">
                                             <a:s>{ </a:s>
                                             <a:s r="1944">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1945">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1946">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1956">
                                          <a:s r="1955">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1953">
                                                <a:s r="1952">
                                                   <a:s r="1949">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1952">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1950">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1951">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1953">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1954">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="1966">
                                       <a:s r="1963">
                                          <a:s>Last(</a:s>
                                          <a:s r="1962">
                                             <a:s>Split(</a:s>
                                             <a:s r="1960">
                                                <a:s r="1959">
                                                   <a:s r="1958">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1959">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1960">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1961">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="1965">
                                          <a:s r="1964">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="1965">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="1970">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="1971">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="1972" locator="868:3-873:26" strict="false" xsi:type="As">
            <operand localId="1970" locator="868:3-873:9" path="value" xsi:type="Property">
               <source localId="1969" locator="868:3-873:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="1968" locator="869:3-872:64" xsi:type="Query">
                     <source localId="1941" locator="869:3-869:49" alias="O">
                        <expression localId="1940" locator="869:3-869:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="869:17-869:46" name="Number of fetuses unknown" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="1967" locator="870:5-872:64" xsi:type="And">
                        <operand localId="1957" locator="870:11-871:80" xsi:type="And">
                           <operand localId="1948" locator="870:11-870:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1943" locator="870:11-870:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1947" locator="870:23-870:57" xsi:type="List">
                                 <element localId="1944" locator="870:25-870:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1945" locator="870:34-870:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1946" locator="870:45-870:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1956" locator="871:11-871:80" xsi:type="IsFalse">
                              <operand localId="1955" locator="871:11-871:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1953" locator="871:20-871:63" path="value" xsi:type="Property">
                                          <source localId="1952" locator="871:20-871:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1950" locator="871:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1951" locator="871:44-871:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1954" locator="871:66-871:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="1966" locator="872:11-872:64" xsi:type="Equal">
                           <operand localId="1963" locator="872:11-872:49" xsi:type="Last">
                              <source localId="1962" locator="872:16-872:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1960" locator="872:22-872:42" path="reference" xsi:type="Property">
                                       <source localId="1959" locator="872:22-872:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1961" locator="872:45-872:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="1965" locator="872:53-872:64" path="id" xsi:type="Property">
                                 <source localId="1964" locator="872:53-872:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="1971" locator="873:14-873:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2008" locator="881:1-887:33" name="Fetal presentation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2008">
               <a:s>/*
  @dataElement: ANC.B8.DE111 Fetal presentation
  @activity: ANC.B8. Conduct physical exam
  @description: If a single fetus only, indicate the presentation of the fetus in the uterus
*/
define &quot;Fetal presentation&quot;:
  </a:s>
               <a:s r="2007">
                  <a:s r="2005">
                     <a:s r="2004">
                        <a:s r="1974">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2004">
                           <a:s>Only(
  </a:s>
                           <a:s r="2003">
                              <a:s>
                                 <a:s r="1976">
                                    <a:s r="1975">
                                       <a:s r="1975">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Fetal presentation&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2002">
                                 <a:s>where </a:s>
                                 <a:s r="2002">
                                    <a:s r="1992">
                                       <a:s r="1983">
                                          <a:s r="1978">
                                             <a:s r="1977">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="1978">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="1982">
                                             <a:s>{ </a:s>
                                             <a:s r="1979">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1980">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1981">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="1991">
                                          <a:s r="1990">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="1988">
                                                <a:s r="1987">
                                                   <a:s r="1984">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1987">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="1985">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="1986">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1988">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="1989">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2001">
                                       <a:s r="1998">
                                          <a:s>Last(</a:s>
                                          <a:s r="1997">
                                             <a:s>Split(</a:s>
                                             <a:s r="1995">
                                                <a:s r="1994">
                                                   <a:s r="1993">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="1994">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="1995">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="1996">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2000">
                                          <a:s r="1999">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2000">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2005">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2006">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2007" locator="882:3-887:33" strict="false" xsi:type="As">
            <operand localId="2005" locator="882:3-887:9" path="value" xsi:type="Property">
               <source localId="2004" locator="882:3-887:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2003" locator="883:3-886:64" xsi:type="Query">
                     <source localId="1976" locator="883:3-883:42" alias="O">
                        <expression localId="1975" locator="883:3-883:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="883:17-883:39" name="Fetal presentation" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2002" locator="884:5-886:64" xsi:type="And">
                        <operand localId="1992" locator="884:11-885:80" xsi:type="And">
                           <operand localId="1983" locator="884:11-884:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="1978" locator="884:11-884:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="1982" locator="884:23-884:57" xsi:type="List">
                                 <element localId="1979" locator="884:25-884:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="1980" locator="884:34-884:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="1981" locator="884:45-884:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="1991" locator="885:11-885:80" xsi:type="IsFalse">
                              <operand localId="1990" locator="885:11-885:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="1988" locator="885:20-885:63" path="value" xsi:type="Property">
                                          <source localId="1987" locator="885:20-885:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="1985" locator="885:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="1986" locator="885:44-885:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="1989" locator="885:66-885:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2001" locator="886:11-886:64" xsi:type="Equal">
                           <operand localId="1998" locator="886:11-886:49" xsi:type="Last">
                              <source localId="1997" locator="886:16-886:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="1995" locator="886:22-886:42" path="reference" xsi:type="Property">
                                       <source localId="1994" locator="886:22-886:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="1996" locator="886:45-886:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2000" locator="886:53-886:64" path="id" xsi:type="Property">
                                 <source localId="1999" locator="886:53-886:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2006" locator="887:14-887:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2043" locator="895:1-900:42" name="Presenting signs/conditions for IPV" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2043">
               <a:s>/*
  @dataElement: ANC.B8.DE117 Presenting signs/conditions for IPV
  @activity: ANC.B8. Conduct physical exam
  @description: Signs or conditions that are due to or trigger suspicion of  intimate partner violence?
*/
define &quot;Presenting signs/conditions for IPV&quot;:
  </a:s>
               <a:s r="2042">
                  <a:s>
                     <a:s r="2010">
                        <a:s r="2009">
                           <a:s r="2009">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Presenting signs/conditions for IPV&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2036">
                     <a:s>where </a:s>
                     <a:s r="2036">
                        <a:s r="2026">
                           <a:s r="2017">
                              <a:s r="2012">
                                 <a:s r="2011">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2012">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2016">
                                 <a:s>{ </a:s>
                                 <a:s r="2013">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2014">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2015">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="2025">
                              <a:s r="2024">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="2022">
                                    <a:s r="2021">
                                       <a:s r="2018">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2021">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="2019">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="2020">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2022">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="2023">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="2035">
                           <a:s r="2032">
                              <a:s>Last(</a:s>
                              <a:s r="2031">
                                 <a:s>Split(</a:s>
                                 <a:s r="2029">
                                    <a:s r="2028">
                                       <a:s r="2027">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2028">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2029">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2030">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="2034">
                              <a:s r="2033">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2034">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2041">
                     <a:s>return </a:s>
                     <a:s r="2040">
                        <a:s r="2038">
                           <a:s r="2037">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="2038">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="2039">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2042" locator="896:3-900:42" xsi:type="Query">
            <source localId="2010" locator="896:3-896:59" alias="O">
               <expression localId="2009" locator="896:3-896:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="896:17-896:56" name="Presenting signs/conditions for IPV" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2036" locator="897:5-899:64" xsi:type="And">
               <operand localId="2026" locator="897:11-898:80" xsi:type="And">
                  <operand localId="2017" locator="897:11-897:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="2012" locator="897:11-897:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="2016" locator="897:23-897:57" xsi:type="List">
                        <element localId="2013" locator="897:25-897:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="2014" locator="897:34-897:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="2015" locator="897:45-897:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="2025" locator="898:11-898:80" xsi:type="IsFalse">
                     <operand localId="2024" locator="898:11-898:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="2022" locator="898:20-898:63" path="value" xsi:type="Property">
                                 <source localId="2021" locator="898:20-898:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="2019" locator="898:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="2020" locator="898:44-898:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2023" locator="898:66-898:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2035" locator="899:11-899:64" xsi:type="Equal">
                  <operand localId="2032" locator="899:11-899:49" xsi:type="Last">
                     <source localId="2031" locator="899:16-899:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2029" locator="899:22-899:42" path="reference" xsi:type="Property">
                              <source localId="2028" locator="899:22-899:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="2030" locator="899:45-899:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="2034" locator="899:53-899:64" path="id" xsi:type="Property">
                        <source localId="2033" locator="899:53-899:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="2041" locator="900:5-900:42">
               <expression localId="2040" locator="900:12-900:42" strict="false" xsi:type="As">
                  <operand localId="2038" locator="900:12-900:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="2039" locator="900:23-900:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="2078" locator="908:1-914:25" name="Clinical enquiry for IPV" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2078">
               <a:s>/*
  @dataElement: ANC.B8.DE121 Clinical enquiry for IPV
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not clinical enquiry for IPV was conducted based on presenting signs and symptoms and conditions
*/
define &quot;Clinical enquiry for IPV&quot;:
  </a:s>
               <a:s r="2077">
                  <a:s r="2075">
                     <a:s r="2074">
                        <a:s r="2044">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2074">
                           <a:s>Only(
  </a:s>
                           <a:s r="2073">
                              <a:s>
                                 <a:s r="2046">
                                    <a:s r="2045">
                                       <a:s r="2045">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Clinical enquiry for IPV&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2072">
                                 <a:s>where </a:s>
                                 <a:s r="2072">
                                    <a:s r="2062">
                                       <a:s r="2053">
                                          <a:s r="2048">
                                             <a:s r="2047">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2048">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2052">
                                             <a:s>{ </a:s>
                                             <a:s r="2049">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2050">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2051">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2061">
                                          <a:s r="2060">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2058">
                                                <a:s r="2057">
                                                   <a:s r="2054">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2057">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2055">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2056">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2058">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2059">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2071">
                                       <a:s r="2068">
                                          <a:s>Last(</a:s>
                                          <a:s r="2067">
                                             <a:s>Split(</a:s>
                                             <a:s r="2065">
                                                <a:s r="2064">
                                                   <a:s r="2063">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2064">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2065">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2066">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2070">
                                          <a:s r="2069">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2070">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2075">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2076">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2077" locator="909:3-914:25" strict="false" xsi:type="As">
            <operand localId="2075" locator="909:3-914:9" path="value" xsi:type="Property">
               <source localId="2074" locator="909:3-914:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2073" locator="910:3-913:64" xsi:type="Query">
                     <source localId="2046" locator="910:3-910:48" alias="O">
                        <expression localId="2045" locator="910:3-910:46" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="910:17-910:45" name="Clinical enquiry for IPV" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2072" locator="911:5-913:64" xsi:type="And">
                        <operand localId="2062" locator="911:11-912:80" xsi:type="And">
                           <operand localId="2053" locator="911:11-911:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2048" locator="911:11-911:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2052" locator="911:23-911:57" xsi:type="List">
                                 <element localId="2049" locator="911:25-911:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2050" locator="911:34-911:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2051" locator="911:45-911:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2061" locator="912:11-912:80" xsi:type="IsFalse">
                              <operand localId="2060" locator="912:11-912:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2058" locator="912:20-912:63" path="value" xsi:type="Property">
                                          <source localId="2057" locator="912:20-912:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2055" locator="912:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2056" locator="912:44-912:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2059" locator="912:66-912:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2071" locator="913:11-913:64" xsi:type="Equal">
                           <operand localId="2068" locator="913:11-913:49" xsi:type="Last">
                              <source localId="2067" locator="913:16-913:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2065" locator="913:22-913:42" path="reference" xsi:type="Property">
                                       <source localId="2064" locator="913:22-913:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2066" locator="913:45-913:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2070" locator="913:53-913:64" path="id" xsi:type="Property">
                                 <source localId="2069" locator="913:53-913:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2076" locator="914:14-914:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2113" locator="922:1-928:33" name="Reason clinical enquiry not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2113">
               <a:s>/*
  @dataElement: ANC.B8.DE122 Reason clinical enquiry not done
  @activity: ANC.B8. Conduct physical exam
  @description: Reason clinical enquiry not done
*/
define &quot;Reason clinical enquiry not done&quot;:
  </a:s>
               <a:s r="2112">
                  <a:s r="2110">
                     <a:s r="2109">
                        <a:s r="2079">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2109">
                           <a:s>Only(
  </a:s>
                           <a:s r="2108">
                              <a:s>
                                 <a:s r="2081">
                                    <a:s r="2080">
                                       <a:s r="2080">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Reason clinical enquiry not done&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2107">
                                 <a:s>where </a:s>
                                 <a:s r="2107">
                                    <a:s r="2097">
                                       <a:s r="2088">
                                          <a:s r="2083">
                                             <a:s r="2082">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2083">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2087">
                                             <a:s>{ </a:s>
                                             <a:s r="2084">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2085">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2086">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2096">
                                          <a:s r="2095">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2093">
                                                <a:s r="2092">
                                                   <a:s r="2089">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2092">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2090">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2091">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2093">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2094">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2106">
                                       <a:s r="2103">
                                          <a:s>Last(</a:s>
                                          <a:s r="2102">
                                             <a:s>Split(</a:s>
                                             <a:s r="2100">
                                                <a:s r="2099">
                                                   <a:s r="2098">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2099">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2100">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2101">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2105">
                                          <a:s r="2104">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2105">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2110">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2111">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2112" locator="923:3-928:33" strict="false" xsi:type="As">
            <operand localId="2110" locator="923:3-928:9" path="value" xsi:type="Property">
               <source localId="2109" locator="923:3-928:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2108" locator="924:3-927:64" xsi:type="Query">
                     <source localId="2081" locator="924:3-924:56" alias="O">
                        <expression localId="2080" locator="924:3-924:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="924:17-924:53" name="Reason clinical enquiry not done" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2107" locator="925:5-927:64" xsi:type="And">
                        <operand localId="2097" locator="925:11-926:80" xsi:type="And">
                           <operand localId="2088" locator="925:11-925:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2083" locator="925:11-925:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2087" locator="925:23-925:57" xsi:type="List">
                                 <element localId="2084" locator="925:25-925:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2085" locator="925:34-925:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2086" locator="925:45-925:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2096" locator="926:11-926:80" xsi:type="IsFalse">
                              <operand localId="2095" locator="926:11-926:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2093" locator="926:20-926:63" path="value" xsi:type="Property">
                                          <source localId="2092" locator="926:20-926:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2090" locator="926:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2091" locator="926:44-926:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2094" locator="926:66-926:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2106" locator="927:11-927:64" xsi:type="Equal">
                           <operand localId="2103" locator="927:11-927:49" xsi:type="Last">
                              <source localId="2102" locator="927:16-927:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2100" locator="927:22-927:42" path="reference" xsi:type="Property">
                                       <source localId="2099" locator="927:22-927:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2101" locator="927:45-927:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2105" locator="927:53-927:64" path="id" xsi:type="Property">
                                 <source localId="2104" locator="927:53-927:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2111" locator="928:14-928:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2148" locator="936:1-941:42" name="Types of IPV" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2148">
               <a:s>/*
  @dataElement: ANC.B8.DE129 Types of IPV
  @activity: ANC.B8. Conduct physical exam
  @description: What type(s) of violence has the woman been subjected to?
*/
define &quot;Types of IPV&quot;:
  </a:s>
               <a:s r="2147">
                  <a:s>
                     <a:s r="2115">
                        <a:s r="2114">
                           <a:s r="2114">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Types of IPV&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2141">
                     <a:s>where </a:s>
                     <a:s r="2141">
                        <a:s r="2131">
                           <a:s r="2122">
                              <a:s r="2117">
                                 <a:s r="2116">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2117">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2121">
                                 <a:s>{ </a:s>
                                 <a:s r="2118">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2119">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2120">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="2130">
                              <a:s r="2129">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="2127">
                                    <a:s r="2126">
                                       <a:s r="2123">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2126">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="2124">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="2125">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2127">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="2128">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="2140">
                           <a:s r="2137">
                              <a:s>Last(</a:s>
                              <a:s r="2136">
                                 <a:s>Split(</a:s>
                                 <a:s r="2134">
                                    <a:s r="2133">
                                       <a:s r="2132">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2133">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2134">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2135">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="2139">
                              <a:s r="2138">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2139">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2146">
                     <a:s>return </a:s>
                     <a:s r="2145">
                        <a:s r="2143">
                           <a:s r="2142">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="2143">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="2144">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2147" locator="937:3-941:42" xsi:type="Query">
            <source localId="2115" locator="937:3-937:36" alias="O">
               <expression localId="2114" locator="937:3-937:34" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="937:17-937:33" name="Types of IPV" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2141" locator="938:5-940:64" xsi:type="And">
               <operand localId="2131" locator="938:11-939:80" xsi:type="And">
                  <operand localId="2122" locator="938:11-938:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="2117" locator="938:11-938:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="2121" locator="938:23-938:57" xsi:type="List">
                        <element localId="2118" locator="938:25-938:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="2119" locator="938:34-938:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="2120" locator="938:45-938:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="2130" locator="939:11-939:80" xsi:type="IsFalse">
                     <operand localId="2129" locator="939:11-939:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="2127" locator="939:20-939:63" path="value" xsi:type="Property">
                                 <source localId="2126" locator="939:20-939:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="2124" locator="939:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="2125" locator="939:44-939:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2128" locator="939:66-939:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2140" locator="940:11-940:64" xsi:type="Equal">
                  <operand localId="2137" locator="940:11-940:49" xsi:type="Last">
                     <source localId="2136" locator="940:16-940:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2134" locator="940:22-940:42" path="reference" xsi:type="Property">
                              <source localId="2133" locator="940:22-940:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="2135" locator="940:45-940:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="2139" locator="940:53-940:64" path="id" xsi:type="Property">
                        <source localId="2138" locator="940:53-940:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="2146" locator="941:5-941:42">
               <expression localId="2145" locator="941:12-941:42" strict="false" xsi:type="As">
                  <operand localId="2143" locator="941:12-941:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="2144" locator="941:23-941:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="2178" locator="949:1-953:64" name="Average weight gain per week" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2178">
               <a:s>/*
  @dataElement: ANC.B8.DE15 Average weight gain per week
  @activity: ANC.B8. Conduct physical exam
  @description: Average weight gain per week since last contact (kg); this would only display starting at the 2nd contact
*/
define &quot;Average weight gain per week&quot;:
  </a:s>
               <a:s r="2177">
                  <a:s>
                     <a:s r="2150">
                        <a:s r="2149">
                           <a:s r="2149">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Average weight gain per week&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2176">
                     <a:s>where </a:s>
                     <a:s r="2176">
                        <a:s r="2166">
                           <a:s r="2157">
                              <a:s r="2152">
                                 <a:s r="2151">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2152">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2156">
                                 <a:s>{ </a:s>
                                 <a:s r="2153">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2154">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2155">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="2165">
                              <a:s r="2164">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="2162">
                                    <a:s r="2161">
                                       <a:s r="2158">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2161">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="2159">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="2160">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2162">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="2163">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="2175">
                           <a:s r="2172">
                              <a:s>Last(</a:s>
                              <a:s r="2171">
                                 <a:s>Split(</a:s>
                                 <a:s r="2169">
                                    <a:s r="2168">
                                       <a:s r="2167">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2168">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2169">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2170">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="2174">
                              <a:s r="2173">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2174">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2177" locator="950:3-953:64" xsi:type="Query">
            <source localId="2150" locator="950:3-950:52" alias="O">
               <expression localId="2149" locator="950:3-950:50" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="950:17-950:49" name="Average weight gain per week" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2176" locator="951:5-953:64" xsi:type="And">
               <operand localId="2166" locator="951:11-952:80" xsi:type="And">
                  <operand localId="2157" locator="951:11-951:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="2152" locator="951:11-951:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="2156" locator="951:23-951:57" xsi:type="List">
                        <element localId="2153" locator="951:25-951:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="2154" locator="951:34-951:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="2155" locator="951:45-951:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="2165" locator="952:11-952:80" xsi:type="IsFalse">
                     <operand localId="2164" locator="952:11-952:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="2162" locator="952:20-952:63" path="value" xsi:type="Property">
                                 <source localId="2161" locator="952:20-952:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="2159" locator="952:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="2160" locator="952:44-952:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2163" locator="952:66-952:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2175" locator="953:11-953:64" xsi:type="Equal">
                  <operand localId="2172" locator="953:11-953:49" xsi:type="Last">
                     <source localId="2171" locator="953:16-953:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2169" locator="953:22-953:42" path="reference" xsi:type="Property">
                              <source localId="2168" locator="953:22-953:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="2170" locator="953:45-953:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="2174" locator="953:53-953:64" path="id" xsi:type="Property">
                        <source localId="2173" locator="953:53-953:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="2208" locator="961:1-965:64" name="Total weight gain (kg)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2208">
               <a:s>/*
  @dataElement: ANC.B8.DE16 Total weight gain (kg)
  @activity: ANC.B8. Conduct physical exam
  @description: Total weight gain in pregnancy so far (kg)
*/
define &quot;Total weight gain (kg)&quot;:
  </a:s>
               <a:s r="2207">
                  <a:s>
                     <a:s r="2180">
                        <a:s r="2179">
                           <a:s r="2179">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Total weight gain (kg)&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2206">
                     <a:s>where </a:s>
                     <a:s r="2206">
                        <a:s r="2196">
                           <a:s r="2187">
                              <a:s r="2182">
                                 <a:s r="2181">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2182">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2186">
                                 <a:s>{ </a:s>
                                 <a:s r="2183">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2184">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2185">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="2195">
                              <a:s r="2194">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="2192">
                                    <a:s r="2191">
                                       <a:s r="2188">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2191">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="2189">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="2190">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2192">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="2193">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="2205">
                           <a:s r="2202">
                              <a:s>Last(</a:s>
                              <a:s r="2201">
                                 <a:s>Split(</a:s>
                                 <a:s r="2199">
                                    <a:s r="2198">
                                       <a:s r="2197">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2198">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2199">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2200">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="2204">
                              <a:s r="2203">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2204">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2207" locator="962:3-965:64" xsi:type="Query">
            <source localId="2180" locator="962:3-962:46" alias="O">
               <expression localId="2179" locator="962:3-962:44" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="962:17-962:43" name="Total weight gain (kg)" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2206" locator="963:5-965:64" xsi:type="And">
               <operand localId="2196" locator="963:11-964:80" xsi:type="And">
                  <operand localId="2187" locator="963:11-963:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="2182" locator="963:11-963:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="2186" locator="963:23-963:57" xsi:type="List">
                        <element localId="2183" locator="963:25-963:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="2184" locator="963:34-963:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="2185" locator="963:45-963:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="2195" locator="964:11-964:80" xsi:type="IsFalse">
                     <operand localId="2194" locator="964:11-964:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="2192" locator="964:20-964:63" path="value" xsi:type="Property">
                                 <source localId="2191" locator="964:20-964:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="2189" locator="964:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="2190" locator="964:44-964:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2193" locator="964:66-964:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2205" locator="965:11-965:64" xsi:type="Equal">
                  <operand localId="2202" locator="965:11-965:49" xsi:type="Last">
                     <source localId="2201" locator="965:16-965:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2199" locator="965:22-965:42" path="reference" xsi:type="Property">
                              <source localId="2198" locator="965:22-965:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="2200" locator="965:45-965:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="2204" locator="965:53-965:64" path="id" xsi:type="Property">
                        <source localId="2203" locator="965:53-965:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="2243" locator="973:1-979:26" name="Systolic blood pressure" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2243">
               <a:s>/*
  @dataElement: ANC.B8.DE17 Systolic blood pressure
  @activity: ANC.B8. Conduct physical exam
  @description: Systolic blood pressure (SBP) in mmHg
*/
define &quot;Systolic blood pressure&quot;:
  </a:s>
               <a:s r="2242">
                  <a:s r="2240">
                     <a:s r="2239">
                        <a:s r="2209">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2239">
                           <a:s>Earliest(
  </a:s>
                           <a:s r="2238">
                              <a:s>
                                 <a:s r="2211">
                                    <a:s r="2210">
                                       <a:s r="2210">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Systolic blood pressure&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2237">
                                 <a:s>where </a:s>
                                 <a:s r="2237">
                                    <a:s r="2227">
                                       <a:s r="2218">
                                          <a:s r="2213">
                                             <a:s r="2212">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2213">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2217">
                                             <a:s>{ </a:s>
                                             <a:s r="2214">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2215">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2216">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2226">
                                          <a:s r="2225">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2223">
                                                <a:s r="2222">
                                                   <a:s r="2219">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2222">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2220">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2221">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2223">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2224">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2236">
                                       <a:s r="2233">
                                          <a:s>Last(</a:s>
                                          <a:s r="2232">
                                             <a:s>Split(</a:s>
                                             <a:s r="2230">
                                                <a:s r="2229">
                                                   <a:s r="2228">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2229">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2230">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2231">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2235">
                                          <a:s r="2234">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2235">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2240">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2241">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2242" locator="974:3-979:26" strict="false" xsi:type="As">
            <operand localId="2240" locator="974:3-979:9" path="value" xsi:type="Property">
               <source localId="2239" locator="974:3-979:3" name="Earliest" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2238" locator="975:3-978:64" xsi:type="Query">
                     <source localId="2211" locator="975:3-975:47" alias="O">
                        <expression localId="2210" locator="975:3-975:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="975:17-975:44" name="Systolic blood pressure" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2237" locator="976:5-978:64" xsi:type="And">
                        <operand localId="2227" locator="976:11-977:80" xsi:type="And">
                           <operand localId="2218" locator="976:11-976:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2213" locator="976:11-976:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2217" locator="976:23-976:57" xsi:type="List">
                                 <element localId="2214" locator="976:25-976:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2215" locator="976:34-976:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2216" locator="976:45-976:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2226" locator="977:11-977:80" xsi:type="IsFalse">
                              <operand localId="2225" locator="977:11-977:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2223" locator="977:20-977:63" path="value" xsi:type="Property">
                                          <source localId="2222" locator="977:20-977:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2220" locator="977:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2221" locator="977:44-977:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2224" locator="977:66-977:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2236" locator="978:11-978:64" xsi:type="Equal">
                           <operand localId="2233" locator="978:11-978:49" xsi:type="Last">
                              <source localId="2232" locator="978:16-978:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2230" locator="978:22-978:42" path="reference" xsi:type="Property">
                                       <source localId="2229" locator="978:22-978:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2231" locator="978:45-978:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2235" locator="978:53-978:64" path="id" xsi:type="Property">
                                 <source localId="2234" locator="978:53-978:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2241" locator="979:14-979:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2278" locator="987:1-993:26" name="Diastolic blood pressure" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2278">
               <a:s>/*
  @dataElement: ANC.B8.DE19 Diastolic blood pressure
  @activity: ANC.B8. Conduct physical exam
  @description: Diastolic blood pressure (DBP) in mmHg
*/
define &quot;Diastolic blood pressure&quot;:
  </a:s>
               <a:s r="2277">
                  <a:s r="2275">
                     <a:s r="2274">
                        <a:s r="2244">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2274">
                           <a:s>Earliest(
  </a:s>
                           <a:s r="2273">
                              <a:s>
                                 <a:s r="2246">
                                    <a:s r="2245">
                                       <a:s r="2245">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Diastolic blood pressure&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2272">
                                 <a:s>where </a:s>
                                 <a:s r="2272">
                                    <a:s r="2262">
                                       <a:s r="2253">
                                          <a:s r="2248">
                                             <a:s r="2247">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2248">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2252">
                                             <a:s>{ </a:s>
                                             <a:s r="2249">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2250">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2251">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2261">
                                          <a:s r="2260">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2258">
                                                <a:s r="2257">
                                                   <a:s r="2254">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2257">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2255">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2256">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2258">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2259">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2271">
                                       <a:s r="2268">
                                          <a:s>Last(</a:s>
                                          <a:s r="2267">
                                             <a:s>Split(</a:s>
                                             <a:s r="2265">
                                                <a:s r="2264">
                                                   <a:s r="2263">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2264">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2265">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2266">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2270">
                                          <a:s r="2269">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2270">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2275">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2276">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2277" locator="988:3-993:26" strict="false" xsi:type="As">
            <operand localId="2275" locator="988:3-993:9" path="value" xsi:type="Property">
               <source localId="2274" locator="988:3-993:3" name="Earliest" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2273" locator="989:3-992:64" xsi:type="Query">
                     <source localId="2246" locator="989:3-989:48" alias="O">
                        <expression localId="2245" locator="989:3-989:46" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="989:17-989:45" name="Diastolic blood pressure" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2272" locator="990:5-992:64" xsi:type="And">
                        <operand localId="2262" locator="990:11-991:80" xsi:type="And">
                           <operand localId="2253" locator="990:11-990:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2248" locator="990:11-990:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2252" locator="990:23-990:57" xsi:type="List">
                                 <element localId="2249" locator="990:25-990:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2250" locator="990:34-990:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2251" locator="990:45-990:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2261" locator="991:11-991:80" xsi:type="IsFalse">
                              <operand localId="2260" locator="991:11-991:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2258" locator="991:20-991:63" path="value" xsi:type="Property">
                                          <source localId="2257" locator="991:20-991:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2255" locator="991:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2256" locator="991:44-991:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2259" locator="991:66-991:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2271" locator="992:11-992:64" xsi:type="Equal">
                           <operand localId="2268" locator="992:11-992:49" xsi:type="Last">
                              <source localId="2267" locator="992:16-992:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2265" locator="992:22-992:42" path="reference" xsi:type="Property">
                                       <source localId="2264" locator="992:22-992:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2266" locator="992:45-992:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2270" locator="992:53-992:64" path="id" xsi:type="Property">
                                 <source localId="2269" locator="992:53-992:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2276" locator="993:14-993:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2313" locator="1001:1-1007:26" name="Pre-gestational weight" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2313">
               <a:s>/*
  @dataElement: ANC.B8.DE2 Pre-gestational weight
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's pre-gestational weight in kilograms
*/
define &quot;Pre-gestational weight&quot;:
  </a:s>
               <a:s r="2312">
                  <a:s r="2310">
                     <a:s r="2309">
                        <a:s r="2279">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2309">
                           <a:s>Only(
  </a:s>
                           <a:s r="2308">
                              <a:s>
                                 <a:s r="2281">
                                    <a:s r="2280">
                                       <a:s r="2280">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Pre-gestational weight&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2307">
                                 <a:s>where </a:s>
                                 <a:s r="2307">
                                    <a:s r="2297">
                                       <a:s r="2288">
                                          <a:s r="2283">
                                             <a:s r="2282">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2283">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2287">
                                             <a:s>{ </a:s>
                                             <a:s r="2284">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2285">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2286">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2296">
                                          <a:s r="2295">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2293">
                                                <a:s r="2292">
                                                   <a:s r="2289">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2292">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2290">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2291">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2293">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2294">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2306">
                                       <a:s r="2303">
                                          <a:s>Last(</a:s>
                                          <a:s r="2302">
                                             <a:s>Split(</a:s>
                                             <a:s r="2300">
                                                <a:s r="2299">
                                                   <a:s r="2298">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2299">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2300">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2301">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2305">
                                          <a:s r="2304">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2305">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2310">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2311">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2312" locator="1002:3-1007:26" strict="false" xsi:type="As">
            <operand localId="2310" locator="1002:3-1007:9" path="value" xsi:type="Property">
               <source localId="2309" locator="1002:3-1007:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2308" locator="1003:3-1006:64" xsi:type="Query">
                     <source localId="2281" locator="1003:3-1003:46" alias="O">
                        <expression localId="2280" locator="1003:3-1003:44" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1003:17-1003:43" name="Pre-gestational weight" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2307" locator="1004:5-1006:64" xsi:type="And">
                        <operand localId="2297" locator="1004:11-1005:80" xsi:type="And">
                           <operand localId="2288" locator="1004:11-1004:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2283" locator="1004:11-1004:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2287" locator="1004:23-1004:57" xsi:type="List">
                                 <element localId="2284" locator="1004:25-1004:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2285" locator="1004:34-1004:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2286" locator="1004:45-1004:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2296" locator="1005:11-1005:80" xsi:type="IsFalse">
                              <operand localId="2295" locator="1005:11-1005:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2293" locator="1005:20-1005:63" path="value" xsi:type="Property">
                                          <source localId="2292" locator="1005:20-1005:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2290" locator="1005:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2291" locator="1005:44-1005:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2294" locator="1005:66-1005:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2306" locator="1006:11-1006:64" xsi:type="Equal">
                           <operand localId="2303" locator="1006:11-1006:49" xsi:type="Last">
                              <source localId="2302" locator="1006:16-1006:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2300" locator="1006:22-1006:42" path="reference" xsi:type="Property">
                                       <source localId="2299" locator="1006:22-1006:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2301" locator="1006:45-1006:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2305" locator="1006:53-1006:64" path="id" xsi:type="Property">
                                 <source localId="2304" locator="1006:53-1006:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2311" locator="1007:14-1007:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2348" locator="1015:1-1021:26" name="Repeat systolic blood pressure" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2348">
               <a:s>/*
  @dataElement: ANC.B8.DE20 Repeat systolic blood pressure
  @activity: ANC.B8. Conduct physical exam
  @description: Repeat measurement of the woman's systolic blood pressure in mmHg after 10â€“15 minutes rest
*/
define &quot;Repeat systolic blood pressure&quot;:
  </a:s>
               <a:s r="2347">
                  <a:s r="2345">
                     <a:s r="2344">
                        <a:s r="2314">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2344">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="2343">
                              <a:s>
                                 <a:s r="2316">
                                    <a:s r="2315">
                                       <a:s r="2315">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Repeat systolic blood pressure&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2342">
                                 <a:s>where </a:s>
                                 <a:s r="2342">
                                    <a:s r="2332">
                                       <a:s r="2323">
                                          <a:s r="2318">
                                             <a:s r="2317">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2318">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2322">
                                             <a:s>{ </a:s>
                                             <a:s r="2319">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2320">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2321">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2331">
                                          <a:s r="2330">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2328">
                                                <a:s r="2327">
                                                   <a:s r="2324">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2327">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2325">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2326">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2328">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2329">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2341">
                                       <a:s r="2338">
                                          <a:s>Last(</a:s>
                                          <a:s r="2337">
                                             <a:s>Split(</a:s>
                                             <a:s r="2335">
                                                <a:s r="2334">
                                                   <a:s r="2333">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2334">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2335">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2336">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2340">
                                          <a:s r="2339">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2340">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2345">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2346">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2347" locator="1016:3-1021:26" strict="false" xsi:type="As">
            <operand localId="2345" locator="1016:3-1021:9" path="value" xsi:type="Property">
               <source localId="2344" locator="1016:3-1021:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2343" locator="1017:3-1020:64" xsi:type="Query">
                     <source localId="2316" locator="1017:3-1017:54" alias="O">
                        <expression localId="2315" locator="1017:3-1017:52" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1017:17-1017:51" name="Repeat systolic blood pressure" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2342" locator="1018:5-1020:64" xsi:type="And">
                        <operand localId="2332" locator="1018:11-1019:80" xsi:type="And">
                           <operand localId="2323" locator="1018:11-1018:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2318" locator="1018:11-1018:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2322" locator="1018:23-1018:57" xsi:type="List">
                                 <element localId="2319" locator="1018:25-1018:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2320" locator="1018:34-1018:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2321" locator="1018:45-1018:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2331" locator="1019:11-1019:80" xsi:type="IsFalse">
                              <operand localId="2330" locator="1019:11-1019:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2328" locator="1019:20-1019:63" path="value" xsi:type="Property">
                                          <source localId="2327" locator="1019:20-1019:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2325" locator="1019:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2326" locator="1019:44-1019:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2329" locator="1019:66-1019:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2341" locator="1020:11-1020:64" xsi:type="Equal">
                           <operand localId="2338" locator="1020:11-1020:49" xsi:type="Last">
                              <source localId="2337" locator="1020:16-1020:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2335" locator="1020:22-1020:42" path="reference" xsi:type="Property">
                                       <source localId="2334" locator="1020:22-1020:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2336" locator="1020:45-1020:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2340" locator="1020:53-1020:64" path="id" xsi:type="Property">
                                 <source localId="2339" locator="1020:53-1020:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2346" locator="1021:14-1021:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2383" locator="1029:1-1035:26" name="Repeat diastolic blood pressure" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2383">
               <a:s>/*
  @dataElement: ANC.B8.DE21 Repeat diastolic blood pressure
  @activity: ANC.B8. Conduct physical exam
  @description: Repeat measurement of the woman's diastolic blood pressure in mmHg after 10â€“15 minutes rest
*/
define &quot;Repeat diastolic blood pressure&quot;:
  </a:s>
               <a:s r="2382">
                  <a:s r="2380">
                     <a:s r="2379">
                        <a:s r="2349">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2379">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="2378">
                              <a:s>
                                 <a:s r="2351">
                                    <a:s r="2350">
                                       <a:s r="2350">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Repeat diastolic blood pressure&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2377">
                                 <a:s>where </a:s>
                                 <a:s r="2377">
                                    <a:s r="2367">
                                       <a:s r="2358">
                                          <a:s r="2353">
                                             <a:s r="2352">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2353">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2357">
                                             <a:s>{ </a:s>
                                             <a:s r="2354">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2355">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2356">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2366">
                                          <a:s r="2365">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2363">
                                                <a:s r="2362">
                                                   <a:s r="2359">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2362">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2360">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2361">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2363">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2364">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2376">
                                       <a:s r="2373">
                                          <a:s>Last(</a:s>
                                          <a:s r="2372">
                                             <a:s>Split(</a:s>
                                             <a:s r="2370">
                                                <a:s r="2369">
                                                   <a:s r="2368">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2369">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2370">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2371">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2375">
                                          <a:s r="2374">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2375">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2380">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2381">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2382" locator="1030:3-1035:26" strict="false" xsi:type="As">
            <operand localId="2380" locator="1030:3-1035:9" path="value" xsi:type="Property">
               <source localId="2379" locator="1030:3-1035:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2378" locator="1031:3-1034:64" xsi:type="Query">
                     <source localId="2351" locator="1031:3-1031:55" alias="O">
                        <expression localId="2350" locator="1031:3-1031:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1031:17-1031:52" name="Repeat diastolic blood pressure" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2377" locator="1032:5-1034:64" xsi:type="And">
                        <operand localId="2367" locator="1032:11-1033:80" xsi:type="And">
                           <operand localId="2358" locator="1032:11-1032:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2353" locator="1032:11-1032:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2357" locator="1032:23-1032:57" xsi:type="List">
                                 <element localId="2354" locator="1032:25-1032:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2355" locator="1032:34-1032:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2356" locator="1032:45-1032:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2366" locator="1033:11-1033:80" xsi:type="IsFalse">
                              <operand localId="2365" locator="1033:11-1033:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2363" locator="1033:20-1033:63" path="value" xsi:type="Property">
                                          <source localId="2362" locator="1033:20-1033:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2360" locator="1033:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2361" locator="1033:44-1033:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2364" locator="1033:66-1033:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2376" locator="1034:11-1034:64" xsi:type="Equal">
                           <operand localId="2373" locator="1034:11-1034:49" xsi:type="Last">
                              <source localId="2372" locator="1034:16-1034:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2370" locator="1034:22-1034:42" path="reference" xsi:type="Property">
                                       <source localId="2369" locator="1034:22-1034:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2371" locator="1034:45-1034:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2375" locator="1034:53-1034:64" path="id" xsi:type="Property">
                                 <source localId="2374" locator="1034:53-1034:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2381" locator="1035:14-1035:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2418" locator="1043:1-1049:25" name="Blood pressure cannot be taken" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2418">
               <a:s>/*
  @dataElement: ANC.B8.DE22 Blood pressure cannot be taken
  @activity: ANC.B8. Conduct physical exam
  @description: If the woman's blood pressure cannot be taken, this should be indicated here; otherwise, blood pressure should be measured
*/
define &quot;Blood pressure cannot be taken&quot;:
  </a:s>
               <a:s r="2417">
                  <a:s r="2415">
                     <a:s r="2414">
                        <a:s r="2384">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2414">
                           <a:s>Only(
  </a:s>
                           <a:s r="2413">
                              <a:s>
                                 <a:s r="2386">
                                    <a:s r="2385">
                                       <a:s r="2385">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood pressure cannot be taken&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2412">
                                 <a:s>where </a:s>
                                 <a:s r="2412">
                                    <a:s r="2402">
                                       <a:s r="2393">
                                          <a:s r="2388">
                                             <a:s r="2387">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2388">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2392">
                                             <a:s>{ </a:s>
                                             <a:s r="2389">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2390">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2391">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2401">
                                          <a:s r="2400">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2398">
                                                <a:s r="2397">
                                                   <a:s r="2394">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2397">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2395">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2396">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2398">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2399">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2411">
                                       <a:s r="2408">
                                          <a:s>Last(</a:s>
                                          <a:s r="2407">
                                             <a:s>Split(</a:s>
                                             <a:s r="2405">
                                                <a:s r="2404">
                                                   <a:s r="2403">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2404">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2405">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2406">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2410">
                                          <a:s r="2409">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2410">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2415">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2416">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2417" locator="1044:3-1049:25" strict="false" xsi:type="As">
            <operand localId="2415" locator="1044:3-1049:9" path="value" xsi:type="Property">
               <source localId="2414" locator="1044:3-1049:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2413" locator="1045:3-1048:64" xsi:type="Query">
                     <source localId="2386" locator="1045:3-1045:54" alias="O">
                        <expression localId="2385" locator="1045:3-1045:52" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1045:17-1045:51" name="Blood pressure cannot be taken" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2412" locator="1046:5-1048:64" xsi:type="And">
                        <operand localId="2402" locator="1046:11-1047:80" xsi:type="And">
                           <operand localId="2393" locator="1046:11-1046:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2388" locator="1046:11-1046:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2392" locator="1046:23-1046:57" xsi:type="List">
                                 <element localId="2389" locator="1046:25-1046:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2390" locator="1046:34-1046:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2391" locator="1046:45-1046:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2401" locator="1047:11-1047:80" xsi:type="IsFalse">
                              <operand localId="2400" locator="1047:11-1047:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2398" locator="1047:20-1047:63" path="value" xsi:type="Property">
                                          <source localId="2397" locator="1047:20-1047:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2395" locator="1047:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2396" locator="1047:44-1047:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2399" locator="1047:66-1047:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2411" locator="1048:11-1048:64" xsi:type="Equal">
                           <operand localId="2408" locator="1048:11-1048:49" xsi:type="Last">
                              <source localId="2407" locator="1048:16-1048:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2405" locator="1048:22-1048:42" path="reference" xsi:type="Property">
                                       <source localId="2404" locator="1048:22-1048:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2406" locator="1048:45-1048:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2410" locator="1048:53-1048:64" path="id" xsi:type="Property">
                                 <source localId="2409" locator="1048:53-1048:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2416" locator="1049:14-1049:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2453" locator="1057:1-1063:33" name="Reason blood pressure cannot be taken" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2453">
               <a:s>/*
  @dataElement: ANC.B8.DE23 Reason blood pressure cannot be taken
  @activity: ANC.B8. Conduct physical exam
  @description: The reason why the health worker is unable to record the woman's BP during this contact visit
*/
define &quot;Reason blood pressure cannot be taken&quot;:
  </a:s>
               <a:s r="2452">
                  <a:s r="2450">
                     <a:s r="2449">
                        <a:s r="2419">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2449">
                           <a:s>Only(
  </a:s>
                           <a:s r="2448">
                              <a:s>
                                 <a:s r="2421">
                                    <a:s r="2420">
                                       <a:s r="2420">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Reason blood pressure cannot be taken&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2447">
                                 <a:s>where </a:s>
                                 <a:s r="2447">
                                    <a:s r="2437">
                                       <a:s r="2428">
                                          <a:s r="2423">
                                             <a:s r="2422">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2423">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2427">
                                             <a:s>{ </a:s>
                                             <a:s r="2424">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2425">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2426">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2436">
                                          <a:s r="2435">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2433">
                                                <a:s r="2432">
                                                   <a:s r="2429">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2432">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2430">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2431">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2433">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2434">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2446">
                                       <a:s r="2443">
                                          <a:s>Last(</a:s>
                                          <a:s r="2442">
                                             <a:s>Split(</a:s>
                                             <a:s r="2440">
                                                <a:s r="2439">
                                                   <a:s r="2438">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2439">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2440">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2441">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2445">
                                          <a:s r="2444">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2445">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2450">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2451">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2452" locator="1058:3-1063:33" strict="false" xsi:type="As">
            <operand localId="2450" locator="1058:3-1063:9" path="value" xsi:type="Property">
               <source localId="2449" locator="1058:3-1063:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2448" locator="1059:3-1062:64" xsi:type="Query">
                     <source localId="2421" locator="1059:3-1059:61" alias="O">
                        <expression localId="2420" locator="1059:3-1059:59" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1059:17-1059:58" name="Reason blood pressure cannot be taken" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2447" locator="1060:5-1062:64" xsi:type="And">
                        <operand localId="2437" locator="1060:11-1061:80" xsi:type="And">
                           <operand localId="2428" locator="1060:11-1060:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2423" locator="1060:11-1060:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2427" locator="1060:23-1060:57" xsi:type="List">
                                 <element localId="2424" locator="1060:25-1060:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2425" locator="1060:34-1060:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2426" locator="1060:45-1060:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2436" locator="1061:11-1061:80" xsi:type="IsFalse">
                              <operand localId="2435" locator="1061:11-1061:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2433" locator="1061:20-1061:63" path="value" xsi:type="Property">
                                          <source localId="2432" locator="1061:20-1061:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2430" locator="1061:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2431" locator="1061:44-1061:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2434" locator="1061:66-1061:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2446" locator="1062:11-1062:64" xsi:type="Equal">
                           <operand localId="2443" locator="1062:11-1062:49" xsi:type="Last">
                              <source localId="2442" locator="1062:16-1062:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2440" locator="1062:22-1062:42" path="reference" xsi:type="Property">
                                       <source localId="2439" locator="1062:22-1062:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2441" locator="1062:45-1062:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2445" locator="1062:53-1062:64" path="id" xsi:type="Property">
                                 <source localId="2444" locator="1062:53-1062:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2451" locator="1063:14-1063:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2488" locator="1071:1-1076:42" name="Symptoms of severe pre-eclampsia" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2488">
               <a:s>/*
  @dataElement: ANC.B8.DE27 Symptoms of severe pre-eclampsia
  @activity: ANC.B8. Conduct physical exam
  @description: Check if the woman has any of the following symptoms of severe pre-eclampsia
*/
define &quot;Symptoms of severe pre-eclampsia&quot;:
  </a:s>
               <a:s r="2487">
                  <a:s>
                     <a:s r="2455">
                        <a:s r="2454">
                           <a:s r="2454">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Symptoms of severe pre-eclampsia&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2481">
                     <a:s>where </a:s>
                     <a:s r="2481">
                        <a:s r="2471">
                           <a:s r="2462">
                              <a:s r="2457">
                                 <a:s r="2456">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="2457">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="2461">
                                 <a:s>{ </a:s>
                                 <a:s r="2458">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2459">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2460">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="2470">
                              <a:s r="2469">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="2467">
                                    <a:s r="2466">
                                       <a:s r="2463">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2466">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="2464">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="2465">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2467">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="2468">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="2480">
                           <a:s r="2477">
                              <a:s>Last(</a:s>
                              <a:s r="2476">
                                 <a:s>Split(</a:s>
                                 <a:s r="2474">
                                    <a:s r="2473">
                                       <a:s r="2472">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="2473">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="2474">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="2475">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="2479">
                              <a:s r="2478">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="2479">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="2486">
                     <a:s>return </a:s>
                     <a:s r="2485">
                        <a:s r="2483">
                           <a:s r="2482">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="2483">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="2484">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2487" locator="1072:3-1076:42" xsi:type="Query">
            <source localId="2455" locator="1072:3-1072:56" alias="O">
               <expression localId="2454" locator="1072:3-1072:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1072:17-1072:53" name="Symptoms of severe pre-eclampsia" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="2481" locator="1073:5-1075:64" xsi:type="And">
               <operand localId="2471" locator="1073:11-1074:80" xsi:type="And">
                  <operand localId="2462" locator="1073:11-1073:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="2457" locator="1073:11-1073:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="2461" locator="1073:23-1073:57" xsi:type="List">
                        <element localId="2458" locator="1073:25-1073:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="2459" locator="1073:34-1073:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="2460" locator="1073:45-1073:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="2470" locator="1074:11-1074:80" xsi:type="IsFalse">
                     <operand localId="2469" locator="1074:11-1074:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="2467" locator="1074:20-1074:63" path="value" xsi:type="Property">
                                 <source localId="2466" locator="1074:20-1074:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="2464" locator="1074:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="2465" locator="1074:44-1074:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2468" locator="1074:66-1074:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="2480" locator="1075:11-1075:64" xsi:type="Equal">
                  <operand localId="2477" locator="1075:11-1075:49" xsi:type="Last">
                     <source localId="2476" locator="1075:16-1075:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="2474" locator="1075:22-1075:42" path="reference" xsi:type="Property">
                              <source localId="2473" locator="1075:22-1075:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="2475" locator="1075:45-1075:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="2479" locator="1075:53-1075:64" path="id" xsi:type="Property">
                        <source localId="2478" locator="1075:53-1075:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="2486" locator="1076:5-1076:42">
               <expression localId="2485" locator="1076:12-1076:42" strict="false" xsi:type="As">
                  <operand localId="2483" locator="1076:12-1076:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="2484" locator="1076:23-1076:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="2523" locator="1084:1-1090:26" name="Current  weight" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2523">
               <a:s>/*
  @dataElement: ANC.B8.DE3 Current  weight
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's current weight in kilograms
*/
define &quot;Current  weight&quot;:
  </a:s>
               <a:s r="2522">
                  <a:s r="2520">
                     <a:s r="2519">
                        <a:s r="2489">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2519">
                           <a:s>Only(
  </a:s>
                           <a:s r="2518">
                              <a:s>
                                 <a:s r="2491">
                                    <a:s r="2490">
                                       <a:s r="2490">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Current  weight&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2517">
                                 <a:s>where </a:s>
                                 <a:s r="2517">
                                    <a:s r="2507">
                                       <a:s r="2498">
                                          <a:s r="2493">
                                             <a:s r="2492">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2493">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2497">
                                             <a:s>{ </a:s>
                                             <a:s r="2494">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2495">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2496">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2506">
                                          <a:s r="2505">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2503">
                                                <a:s r="2502">
                                                   <a:s r="2499">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2502">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2500">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2501">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2503">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2504">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2516">
                                       <a:s r="2513">
                                          <a:s>Last(</a:s>
                                          <a:s r="2512">
                                             <a:s>Split(</a:s>
                                             <a:s r="2510">
                                                <a:s r="2509">
                                                   <a:s r="2508">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2509">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2510">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2511">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2515">
                                          <a:s r="2514">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2515">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2520">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2521">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2522" locator="1085:3-1090:26" strict="false" xsi:type="As">
            <operand localId="2520" locator="1085:3-1090:9" path="value" xsi:type="Property">
               <source localId="2519" locator="1085:3-1090:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2518" locator="1086:3-1089:64" xsi:type="Query">
                     <source localId="2491" locator="1086:3-1086:39" alias="O">
                        <expression localId="2490" locator="1086:3-1086:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1086:17-1086:36" name="Current  weight" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2517" locator="1087:5-1089:64" xsi:type="And">
                        <operand localId="2507" locator="1087:11-1088:80" xsi:type="And">
                           <operand localId="2498" locator="1087:11-1087:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2493" locator="1087:11-1087:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2497" locator="1087:23-1087:57" xsi:type="List">
                                 <element localId="2494" locator="1087:25-1087:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2495" locator="1087:34-1087:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2496" locator="1087:45-1087:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2506" locator="1088:11-1088:80" xsi:type="IsFalse">
                              <operand localId="2505" locator="1088:11-1088:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2503" locator="1088:20-1088:63" path="value" xsi:type="Property">
                                          <source localId="2502" locator="1088:20-1088:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2500" locator="1088:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2501" locator="1088:44-1088:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2504" locator="1088:66-1088:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2516" locator="1089:11-1089:64" xsi:type="Equal">
                           <operand localId="2513" locator="1089:11-1089:49" xsi:type="Last">
                              <source localId="2512" locator="1089:16-1089:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2510" locator="1089:22-1089:42" path="reference" xsi:type="Property">
                                       <source localId="2509" locator="1089:22-1089:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2511" locator="1089:45-1089:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2515" locator="1089:53-1089:64" path="id" xsi:type="Property">
                                 <source localId="2514" locator="1089:53-1089:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2521" locator="1090:14-1090:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2558" locator="1098:1-1104:26" name="Body temperature" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2558">
               <a:s>/*
  @dataElement: ANC.B8.DE34 Body temperature
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's body temperature in degrees Celsius  (Â°C) (first reading)
*/
define &quot;Body temperature&quot;:
  </a:s>
               <a:s r="2557">
                  <a:s r="2555">
                     <a:s r="2554">
                        <a:s r="2524">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2554">
                           <a:s>Earliest(
  </a:s>
                           <a:s r="2553">
                              <a:s>
                                 <a:s r="2526">
                                    <a:s r="2525">
                                       <a:s r="2525">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Body temperature&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2552">
                                 <a:s>where </a:s>
                                 <a:s r="2552">
                                    <a:s r="2542">
                                       <a:s r="2533">
                                          <a:s r="2528">
                                             <a:s r="2527">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2528">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2532">
                                             <a:s>{ </a:s>
                                             <a:s r="2529">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2530">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2531">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2541">
                                          <a:s r="2540">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2538">
                                                <a:s r="2537">
                                                   <a:s r="2534">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2537">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2535">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2536">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2538">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2539">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2551">
                                       <a:s r="2548">
                                          <a:s>Last(</a:s>
                                          <a:s r="2547">
                                             <a:s>Split(</a:s>
                                             <a:s r="2545">
                                                <a:s r="2544">
                                                   <a:s r="2543">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2544">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2545">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2546">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2550">
                                          <a:s r="2549">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2550">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2555">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2556">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2557" locator="1099:3-1104:26" strict="false" xsi:type="As">
            <operand localId="2555" locator="1099:3-1104:9" path="value" xsi:type="Property">
               <source localId="2554" locator="1099:3-1104:3" name="Earliest" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2553" locator="1100:3-1103:64" xsi:type="Query">
                     <source localId="2526" locator="1100:3-1100:40" alias="O">
                        <expression localId="2525" locator="1100:3-1100:38" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1100:17-1100:37" name="Body temperature" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2552" locator="1101:5-1103:64" xsi:type="And">
                        <operand localId="2542" locator="1101:11-1102:80" xsi:type="And">
                           <operand localId="2533" locator="1101:11-1101:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2528" locator="1101:11-1101:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2532" locator="1101:23-1101:57" xsi:type="List">
                                 <element localId="2529" locator="1101:25-1101:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2530" locator="1101:34-1101:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2531" locator="1101:45-1101:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2541" locator="1102:11-1102:80" xsi:type="IsFalse">
                              <operand localId="2540" locator="1102:11-1102:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2538" locator="1102:20-1102:63" path="value" xsi:type="Property">
                                          <source localId="2537" locator="1102:20-1102:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2535" locator="1102:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2536" locator="1102:44-1102:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2539" locator="1102:66-1102:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2551" locator="1103:11-1103:64" xsi:type="Equal">
                           <operand localId="2548" locator="1103:11-1103:49" xsi:type="Last">
                              <source localId="2547" locator="1103:16-1103:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2545" locator="1103:22-1103:42" path="reference" xsi:type="Property">
                                       <source localId="2544" locator="1103:22-1103:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2546" locator="1103:45-1103:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2550" locator="1103:53-1103:64" path="id" xsi:type="Property">
                                 <source localId="2549" locator="1103:53-1103:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2556" locator="1104:14-1104:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2593" locator="1112:1-1118:26" name="Second body temperature" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2593">
               <a:s>/*
  @dataElement: ANC.B8.DE35 Second body temperature
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's body temperature in degrees Celsius (Â°C) (second reading)
*/
define &quot;Second body temperature&quot;:
  </a:s>
               <a:s r="2592">
                  <a:s r="2590">
                     <a:s r="2589">
                        <a:s r="2559">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2589">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="2588">
                              <a:s>
                                 <a:s r="2561">
                                    <a:s r="2560">
                                       <a:s r="2560">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Second body temperature&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2587">
                                 <a:s>where </a:s>
                                 <a:s r="2587">
                                    <a:s r="2577">
                                       <a:s r="2568">
                                          <a:s r="2563">
                                             <a:s r="2562">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2563">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2567">
                                             <a:s>{ </a:s>
                                             <a:s r="2564">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2565">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2566">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2576">
                                          <a:s r="2575">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2573">
                                                <a:s r="2572">
                                                   <a:s r="2569">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2572">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2570">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2571">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2573">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2574">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2586">
                                       <a:s r="2583">
                                          <a:s>Last(</a:s>
                                          <a:s r="2582">
                                             <a:s>Split(</a:s>
                                             <a:s r="2580">
                                                <a:s r="2579">
                                                   <a:s r="2578">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2579">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2580">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2581">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2585">
                                          <a:s r="2584">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2585">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2590">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2591">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2592" locator="1113:3-1118:26" strict="false" xsi:type="As">
            <operand localId="2590" locator="1113:3-1118:9" path="value" xsi:type="Property">
               <source localId="2589" locator="1113:3-1118:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2588" locator="1114:3-1117:64" xsi:type="Query">
                     <source localId="2561" locator="1114:3-1114:47" alias="O">
                        <expression localId="2560" locator="1114:3-1114:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1114:17-1114:44" name="Second body temperature" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2587" locator="1115:5-1117:64" xsi:type="And">
                        <operand localId="2577" locator="1115:11-1116:80" xsi:type="And">
                           <operand localId="2568" locator="1115:11-1115:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2563" locator="1115:11-1115:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2567" locator="1115:23-1115:57" xsi:type="List">
                                 <element localId="2564" locator="1115:25-1115:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2565" locator="1115:34-1115:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2566" locator="1115:45-1115:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2576" locator="1116:11-1116:80" xsi:type="IsFalse">
                              <operand localId="2575" locator="1116:11-1116:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2573" locator="1116:20-1116:63" path="value" xsi:type="Property">
                                          <source localId="2572" locator="1116:20-1116:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2570" locator="1116:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2571" locator="1116:44-1116:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2574" locator="1116:66-1116:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2586" locator="1117:11-1117:64" xsi:type="Equal">
                           <operand localId="2583" locator="1117:11-1117:49" xsi:type="Last">
                              <source localId="2582" locator="1117:16-1117:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2580" locator="1117:22-1117:42" path="reference" xsi:type="Property">
                                       <source localId="2579" locator="1117:22-1117:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2581" locator="1117:45-1117:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2585" locator="1117:53-1117:64" path="id" xsi:type="Property">
                                 <source localId="2584" locator="1117:53-1117:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2591" locator="1118:14-1118:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2628" locator="1126:1-1132:26" name="Pulse rate" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2628">
               <a:s>/*
  @dataElement: ANC.B8.DE36 Pulse rate
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's pulse rate in beats per minute (bpm)
*/
define &quot;Pulse rate&quot;:
  </a:s>
               <a:s r="2627">
                  <a:s r="2625">
                     <a:s r="2624">
                        <a:s r="2594">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2624">
                           <a:s>Earliest(
  </a:s>
                           <a:s r="2623">
                              <a:s>
                                 <a:s r="2596">
                                    <a:s r="2595">
                                       <a:s r="2595">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Pulse rate&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2622">
                                 <a:s>where </a:s>
                                 <a:s r="2622">
                                    <a:s r="2612">
                                       <a:s r="2603">
                                          <a:s r="2598">
                                             <a:s r="2597">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2598">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2602">
                                             <a:s>{ </a:s>
                                             <a:s r="2599">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2600">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2601">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2611">
                                          <a:s r="2610">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2608">
                                                <a:s r="2607">
                                                   <a:s r="2604">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2607">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2605">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2606">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2608">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2609">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2621">
                                       <a:s r="2618">
                                          <a:s>Last(</a:s>
                                          <a:s r="2617">
                                             <a:s>Split(</a:s>
                                             <a:s r="2615">
                                                <a:s r="2614">
                                                   <a:s r="2613">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2614">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2615">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2616">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2620">
                                          <a:s r="2619">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2620">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2625">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2626">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2627" locator="1127:3-1132:26" strict="false" xsi:type="As">
            <operand localId="2625" locator="1127:3-1132:9" path="value" xsi:type="Property">
               <source localId="2624" locator="1127:3-1132:3" name="Earliest" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2623" locator="1128:3-1131:64" xsi:type="Query">
                     <source localId="2596" locator="1128:3-1128:34" alias="O">
                        <expression localId="2595" locator="1128:3-1128:32" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1128:17-1128:31" name="Pulse rate" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2622" locator="1129:5-1131:64" xsi:type="And">
                        <operand localId="2612" locator="1129:11-1130:80" xsi:type="And">
                           <operand localId="2603" locator="1129:11-1129:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2598" locator="1129:11-1129:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2602" locator="1129:23-1129:57" xsi:type="List">
                                 <element localId="2599" locator="1129:25-1129:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2600" locator="1129:34-1129:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2601" locator="1129:45-1129:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2611" locator="1130:11-1130:80" xsi:type="IsFalse">
                              <operand localId="2610" locator="1130:11-1130:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2608" locator="1130:20-1130:63" path="value" xsi:type="Property">
                                          <source localId="2607" locator="1130:20-1130:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2605" locator="1130:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2606" locator="1130:44-1130:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2609" locator="1130:66-1130:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2621" locator="1131:11-1131:64" xsi:type="Equal">
                           <operand localId="2618" locator="1131:11-1131:49" xsi:type="Last">
                              <source localId="2617" locator="1131:16-1131:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2615" locator="1131:22-1131:42" path="reference" xsi:type="Property">
                                       <source localId="2614" locator="1131:22-1131:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2616" locator="1131:45-1131:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2620" locator="1131:53-1131:64" path="id" xsi:type="Property">
                                 <source localId="2619" locator="1131:53-1131:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2626" locator="1132:14-1132:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2663" locator="1140:1-1146:26" name="Second pulse rate" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2663">
               <a:s>/*
  @dataElement: ANC.B8.DE37 Second pulse rate
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's second pulse rate in beats per minute (bpm)
*/
define &quot;Second pulse rate&quot;:
  </a:s>
               <a:s r="2662">
                  <a:s r="2660">
                     <a:s r="2659">
                        <a:s r="2629">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2659">
                           <a:s>MostRecent(
  </a:s>
                           <a:s r="2658">
                              <a:s>
                                 <a:s r="2631">
                                    <a:s r="2630">
                                       <a:s r="2630">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Second pulse rate&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2657">
                                 <a:s>where </a:s>
                                 <a:s r="2657">
                                    <a:s r="2647">
                                       <a:s r="2638">
                                          <a:s r="2633">
                                             <a:s r="2632">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2633">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2637">
                                             <a:s>{ </a:s>
                                             <a:s r="2634">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2635">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2636">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2646">
                                          <a:s r="2645">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2643">
                                                <a:s r="2642">
                                                   <a:s r="2639">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2642">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2640">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2641">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2643">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2644">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2656">
                                       <a:s r="2653">
                                          <a:s>Last(</a:s>
                                          <a:s r="2652">
                                             <a:s>Split(</a:s>
                                             <a:s r="2650">
                                                <a:s r="2649">
                                                   <a:s r="2648">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2649">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2650">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2651">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2655">
                                          <a:s r="2654">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2655">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2660">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2661">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2662" locator="1141:3-1146:26" strict="false" xsi:type="As">
            <operand localId="2660" locator="1141:3-1146:9" path="value" xsi:type="Property">
               <source localId="2659" locator="1141:3-1146:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2658" locator="1142:3-1145:64" xsi:type="Query">
                     <source localId="2631" locator="1142:3-1142:41" alias="O">
                        <expression localId="2630" locator="1142:3-1142:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1142:17-1142:38" name="Second pulse rate" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2657" locator="1143:5-1145:64" xsi:type="And">
                        <operand localId="2647" locator="1143:11-1144:80" xsi:type="And">
                           <operand localId="2638" locator="1143:11-1143:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2633" locator="1143:11-1143:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2637" locator="1143:23-1143:57" xsi:type="List">
                                 <element localId="2634" locator="1143:25-1143:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2635" locator="1143:34-1143:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2636" locator="1143:45-1143:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2646" locator="1144:11-1144:80" xsi:type="IsFalse">
                              <operand localId="2645" locator="1144:11-1144:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2643" locator="1144:20-1144:63" path="value" xsi:type="Property">
                                          <source localId="2642" locator="1144:20-1144:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2640" locator="1144:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2641" locator="1144:44-1144:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2644" locator="1144:66-1144:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2656" locator="1145:11-1145:64" xsi:type="Equal">
                           <operand localId="2653" locator="1145:11-1145:49" xsi:type="Last">
                              <source localId="2652" locator="1145:16-1145:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2650" locator="1145:22-1145:42" path="reference" xsi:type="Property">
                                       <source localId="2649" locator="1145:22-1145:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2651" locator="1145:45-1145:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2655" locator="1145:53-1145:64" path="id" xsi:type="Property">
                                 <source localId="2654" locator="1145:53-1145:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2661" locator="1146:14-1146:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2698" locator="1154:1-1160:25" name="Pallor present" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2698">
               <a:s>/*
  @dataElement: ANC.B8.DE38 Pallor present
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the woman has pallor
*/
define &quot;Pallor present&quot;:
  </a:s>
               <a:s r="2697">
                  <a:s r="2695">
                     <a:s r="2694">
                        <a:s r="2664">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2694">
                           <a:s>Only(
  </a:s>
                           <a:s r="2693">
                              <a:s>
                                 <a:s r="2666">
                                    <a:s r="2665">
                                       <a:s r="2665">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Pallor present&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2692">
                                 <a:s>where </a:s>
                                 <a:s r="2692">
                                    <a:s r="2682">
                                       <a:s r="2673">
                                          <a:s r="2668">
                                             <a:s r="2667">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2668">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2672">
                                             <a:s>{ </a:s>
                                             <a:s r="2669">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2670">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2671">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2681">
                                          <a:s r="2680">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2678">
                                                <a:s r="2677">
                                                   <a:s r="2674">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2677">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2675">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2676">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2678">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2679">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2691">
                                       <a:s r="2688">
                                          <a:s>Last(</a:s>
                                          <a:s r="2687">
                                             <a:s>Split(</a:s>
                                             <a:s r="2685">
                                                <a:s r="2684">
                                                   <a:s r="2683">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2684">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2685">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2686">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2690">
                                          <a:s r="2689">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2690">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2695">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2696">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2697" locator="1155:3-1160:25" strict="false" xsi:type="As">
            <operand localId="2695" locator="1155:3-1160:9" path="value" xsi:type="Property">
               <source localId="2694" locator="1155:3-1160:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2693" locator="1156:3-1159:64" xsi:type="Query">
                     <source localId="2666" locator="1156:3-1156:38" alias="O">
                        <expression localId="2665" locator="1156:3-1156:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1156:17-1156:35" name="Pallor present" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2692" locator="1157:5-1159:64" xsi:type="And">
                        <operand localId="2682" locator="1157:11-1158:80" xsi:type="And">
                           <operand localId="2673" locator="1157:11-1157:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2668" locator="1157:11-1157:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2672" locator="1157:23-1157:57" xsi:type="List">
                                 <element localId="2669" locator="1157:25-1157:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2670" locator="1157:34-1157:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2671" locator="1157:45-1157:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2681" locator="1158:11-1158:80" xsi:type="IsFalse">
                              <operand localId="2680" locator="1158:11-1158:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2678" locator="1158:20-1158:63" path="value" xsi:type="Property">
                                          <source localId="2677" locator="1158:20-1158:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2675" locator="1158:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2676" locator="1158:44-1158:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2679" locator="1158:66-1158:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2691" locator="1159:11-1159:64" xsi:type="Equal">
                           <operand localId="2688" locator="1159:11-1159:49" xsi:type="Last">
                              <source localId="2687" locator="1159:16-1159:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2685" locator="1159:22-1159:42" path="reference" xsi:type="Property">
                                       <source localId="2684" locator="1159:22-1159:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2686" locator="1159:45-1159:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2690" locator="1159:53-1159:64" path="id" xsi:type="Property">
                                 <source localId="2689" locator="1159:53-1159:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2696" locator="1160:14-1160:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2733" locator="1168:1-1174:33" name="Respiratory exam result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2733">
               <a:s>/*
  @dataElement: ANC.B8.DE39 Respiratory exam result
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's respiratory condition based on respiratory exam
*/
define &quot;Respiratory exam result&quot;:
  </a:s>
               <a:s r="2732">
                  <a:s r="2730">
                     <a:s r="2729">
                        <a:s r="2699">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2729">
                           <a:s>Only(
  </a:s>
                           <a:s r="2728">
                              <a:s>
                                 <a:s r="2701">
                                    <a:s r="2700">
                                       <a:s r="2700">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Respiratory exam result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2727">
                                 <a:s>where </a:s>
                                 <a:s r="2727">
                                    <a:s r="2717">
                                       <a:s r="2708">
                                          <a:s r="2703">
                                             <a:s r="2702">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2703">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2707">
                                             <a:s>{ </a:s>
                                             <a:s r="2704">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2705">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2706">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2716">
                                          <a:s r="2715">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2713">
                                                <a:s r="2712">
                                                   <a:s r="2709">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2712">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2710">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2711">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2713">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2714">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2726">
                                       <a:s r="2723">
                                          <a:s>Last(</a:s>
                                          <a:s r="2722">
                                             <a:s>Split(</a:s>
                                             <a:s r="2720">
                                                <a:s r="2719">
                                                   <a:s r="2718">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2719">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2720">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2721">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2725">
                                          <a:s r="2724">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2725">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2730">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2731">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2732" locator="1169:3-1174:33" strict="false" xsi:type="As">
            <operand localId="2730" locator="1169:3-1174:9" path="value" xsi:type="Property">
               <source localId="2729" locator="1169:3-1174:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2728" locator="1170:3-1173:64" xsi:type="Query">
                     <source localId="2701" locator="1170:3-1170:47" alias="O">
                        <expression localId="2700" locator="1170:3-1170:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1170:17-1170:44" name="Respiratory exam result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2727" locator="1171:5-1173:64" xsi:type="And">
                        <operand localId="2717" locator="1171:11-1172:80" xsi:type="And">
                           <operand localId="2708" locator="1171:11-1171:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2703" locator="1171:11-1171:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2707" locator="1171:23-1171:57" xsi:type="List">
                                 <element localId="2704" locator="1171:25-1171:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2705" locator="1171:34-1171:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2706" locator="1171:45-1171:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2716" locator="1172:11-1172:80" xsi:type="IsFalse">
                              <operand localId="2715" locator="1172:11-1172:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2713" locator="1172:20-1172:63" path="value" xsi:type="Property">
                                          <source localId="2712" locator="1172:20-1172:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2710" locator="1172:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2711" locator="1172:44-1172:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2714" locator="1172:66-1172:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2726" locator="1173:11-1173:64" xsi:type="Equal">
                           <operand localId="2723" locator="1173:11-1173:49" xsi:type="Last">
                              <source localId="2722" locator="1173:16-1173:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2720" locator="1173:22-1173:42" path="reference" xsi:type="Property">
                                       <source localId="2719" locator="1173:22-1173:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2721" locator="1173:45-1173:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2725" locator="1173:53-1173:64" path="id" xsi:type="Property">
                                 <source localId="2724" locator="1173:53-1173:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2731" locator="1174:14-1174:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2768" locator="1182:1-1188:26" name="BMI" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2768">
               <a:s>/*
  @dataElement: ANC.B8.DE4 BMI
  @activity: ANC.B8. Conduct physical exam
  @description: Body mass index (BMI): calculated by taking weight in kg divided by the squared height in meters, i.e. kg/(m^2)
*/
define &quot;BMI&quot;:
  </a:s>
               <a:s r="2767">
                  <a:s r="2765">
                     <a:s r="2764">
                        <a:s r="2734">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2764">
                           <a:s>Only(
  </a:s>
                           <a:s r="2763">
                              <a:s>
                                 <a:s r="2736">
                                    <a:s r="2735">
                                       <a:s r="2735">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;BMI&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2762">
                                 <a:s>where </a:s>
                                 <a:s r="2762">
                                    <a:s r="2752">
                                       <a:s r="2743">
                                          <a:s r="2738">
                                             <a:s r="2737">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2738">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2742">
                                             <a:s>{ </a:s>
                                             <a:s r="2739">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2740">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2741">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2751">
                                          <a:s r="2750">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2748">
                                                <a:s r="2747">
                                                   <a:s r="2744">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2747">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2745">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2746">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2748">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2749">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2761">
                                       <a:s r="2758">
                                          <a:s>Last(</a:s>
                                          <a:s r="2757">
                                             <a:s>Split(</a:s>
                                             <a:s r="2755">
                                                <a:s r="2754">
                                                   <a:s r="2753">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2754">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2755">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2756">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2760">
                                          <a:s r="2759">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2760">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2765">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2766">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2767" locator="1183:3-1188:26" strict="false" xsi:type="As">
            <operand localId="2765" locator="1183:3-1188:9" path="value" xsi:type="Property">
               <source localId="2764" locator="1183:3-1188:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2763" locator="1184:3-1187:64" xsi:type="Query">
                     <source localId="2736" locator="1184:3-1184:27" alias="O">
                        <expression localId="2735" locator="1184:3-1184:25" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1184:17-1184:24" name="BMI" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2762" locator="1185:5-1187:64" xsi:type="And">
                        <operand localId="2752" locator="1185:11-1186:80" xsi:type="And">
                           <operand localId="2743" locator="1185:11-1185:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2738" locator="1185:11-1185:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2742" locator="1185:23-1185:57" xsi:type="List">
                                 <element localId="2739" locator="1185:25-1185:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2740" locator="1185:34-1185:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2741" locator="1185:45-1185:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2751" locator="1186:11-1186:80" xsi:type="IsFalse">
                              <operand localId="2750" locator="1186:11-1186:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2748" locator="1186:20-1186:63" path="value" xsi:type="Property">
                                          <source localId="2747" locator="1186:20-1186:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2745" locator="1186:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2746" locator="1186:44-1186:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2749" locator="1186:66-1186:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2761" locator="1187:11-1187:64" xsi:type="Equal">
                           <operand localId="2758" locator="1187:11-1187:49" xsi:type="Last">
                              <source localId="2757" locator="1187:16-1187:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2755" locator="1187:22-1187:42" path="reference" xsi:type="Property">
                                       <source localId="2754" locator="1187:22-1187:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2756" locator="1187:45-1187:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2760" locator="1187:53-1187:64" path="id" xsi:type="Property">
                                 <source localId="2759" locator="1187:53-1187:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2766" locator="1188:14-1188:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2803" locator="1196:1-1202:26" name="Oximetry" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2803">
               <a:s>/*
  @dataElement: ANC.B8.DE49 Oximetry
  @activity: ANC.B8. Conduct physical exam
  @description: The measure of the oxygen saturation (%) in the woman's blood: this is usually measured using a pulse oximeter medical device
*/
define &quot;Oximetry&quot;:
  </a:s>
               <a:s r="2802">
                  <a:s r="2800">
                     <a:s r="2799">
                        <a:s r="2769">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2799">
                           <a:s>MostRecent(
    </a:s>
                           <a:s r="2798">
                              <a:s>
                                 <a:s r="2771">
                                    <a:s r="2770">
                                       <a:s r="2770">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Respiratory exam result - Oximetry&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
      </a:s>
                              <a:s r="2797">
                                 <a:s>where </a:s>
                                 <a:s r="2797">
                                    <a:s r="2787">
                                       <a:s r="2778">
                                          <a:s r="2773">
                                             <a:s r="2772">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2773">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2777">
                                             <a:s>{ </a:s>
                                             <a:s r="2774">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2775">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2776">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
        and </a:s>
                                       <a:s r="2786">
                                          <a:s r="2785">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2783">
                                                <a:s r="2782">
                                                   <a:s r="2779">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2782">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2780">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2781">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2783">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2784">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
        and </a:s>
                                    <a:s r="2796">
                                       <a:s r="2793">
                                          <a:s>Last(</a:s>
                                          <a:s r="2792">
                                             <a:s>Split(</a:s>
                                             <a:s r="2790">
                                                <a:s r="2789">
                                                   <a:s r="2788">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2789">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2790">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2791">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2795">
                                          <a:s r="2794">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2795">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2800">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2801">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2802" locator="1197:3-1202:26" strict="false" xsi:type="As">
            <operand localId="2800" locator="1197:3-1202:9" path="value" xsi:type="Property">
               <source localId="2799" locator="1197:3-1202:3" name="MostRecent" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2798" locator="1198:5-1201:66" xsi:type="Query">
                     <source localId="2771" locator="1198:5-1198:60" alias="O">
                        <expression localId="2770" locator="1198:5-1198:58" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1198:19-1198:57" name="Respiratory exam result - Oximetry" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2797" locator="1199:7-1201:66" xsi:type="And">
                        <operand localId="2787" locator="1199:13-1200:82" xsi:type="And">
                           <operand localId="2778" locator="1199:13-1199:59" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2773" locator="1199:13-1199:20" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2777" locator="1199:25-1199:59" xsi:type="List">
                                 <element localId="2774" locator="1199:27-1199:33" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2775" locator="1199:36-1199:44" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2776" locator="1199:47-1199:57" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2786" locator="1200:13-1200:82" xsi:type="IsFalse">
                              <operand localId="2785" locator="1200:13-1200:73" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2783" locator="1200:22-1200:65" path="value" xsi:type="Property">
                                          <source localId="2782" locator="1200:22-1200:59" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2780" locator="1200:43" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2781" locator="1200:46-1200:58" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2784" locator="1200:68-1200:72" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2796" locator="1201:13-1201:66" xsi:type="Equal">
                           <operand localId="2793" locator="1201:13-1201:51" xsi:type="Last">
                              <source localId="2792" locator="1201:18-1201:50" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2790" locator="1201:24-1201:44" path="reference" xsi:type="Property">
                                       <source localId="2789" locator="1201:24-1201:34" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2791" locator="1201:47-1201:49" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2795" locator="1201:55-1201:66" path="id" xsi:type="Property">
                                 <source localId="2794" locator="1201:55-1201:63" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2801" locator="1202:14-1202:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2838" locator="1210:1-1216:33" name="Weight category" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2838">
               <a:s>/*
  @dataElement: ANC.B8.DE5 Weight category
  @activity: ANC.B8. Conduct physical exam
  @description: Weight category is calculated from BMI
*/
define &quot;Weight category&quot;:
  </a:s>
               <a:s r="2837">
                  <a:s r="2835">
                     <a:s r="2834">
                        <a:s r="2804">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2834">
                           <a:s>Only(
  </a:s>
                           <a:s r="2833">
                              <a:s>
                                 <a:s r="2806">
                                    <a:s r="2805">
                                       <a:s r="2805">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Weight category&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2832">
                                 <a:s>where </a:s>
                                 <a:s r="2832">
                                    <a:s r="2822">
                                       <a:s r="2813">
                                          <a:s r="2808">
                                             <a:s r="2807">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2808">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2812">
                                             <a:s>{ </a:s>
                                             <a:s r="2809">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2810">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2811">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2821">
                                          <a:s r="2820">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2818">
                                                <a:s r="2817">
                                                   <a:s r="2814">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2817">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2815">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2816">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2818">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2819">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2831">
                                       <a:s r="2828">
                                          <a:s>Last(</a:s>
                                          <a:s r="2827">
                                             <a:s>Split(</a:s>
                                             <a:s r="2825">
                                                <a:s r="2824">
                                                   <a:s r="2823">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2824">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2825">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2826">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2830">
                                          <a:s r="2829">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2830">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2835">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2836">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2837" locator="1211:3-1216:33" strict="false" xsi:type="As">
            <operand localId="2835" locator="1211:3-1216:9" path="value" xsi:type="Property">
               <source localId="2834" locator="1211:3-1216:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2833" locator="1212:3-1215:64" xsi:type="Query">
                     <source localId="2806" locator="1212:3-1212:39" alias="O">
                        <expression localId="2805" locator="1212:3-1212:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1212:17-1212:36" name="Weight category" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2832" locator="1213:5-1215:64" xsi:type="And">
                        <operand localId="2822" locator="1213:11-1214:80" xsi:type="And">
                           <operand localId="2813" locator="1213:11-1213:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2808" locator="1213:11-1213:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2812" locator="1213:23-1213:57" xsi:type="List">
                                 <element localId="2809" locator="1213:25-1213:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2810" locator="1213:34-1213:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2811" locator="1213:45-1213:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2821" locator="1214:11-1214:80" xsi:type="IsFalse">
                              <operand localId="2820" locator="1214:11-1214:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2818" locator="1214:20-1214:63" path="value" xsi:type="Property">
                                          <source localId="2817" locator="1214:20-1214:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2815" locator="1214:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2816" locator="1214:44-1214:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2819" locator="1214:66-1214:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2831" locator="1215:11-1215:64" xsi:type="Equal">
                           <operand localId="2828" locator="1215:11-1215:49" xsi:type="Last">
                              <source localId="2827" locator="1215:16-1215:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2825" locator="1215:22-1215:42" path="reference" xsi:type="Property">
                                       <source localId="2824" locator="1215:22-1215:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2826" locator="1215:45-1215:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2830" locator="1215:53-1215:64" path="id" xsi:type="Property">
                                 <source localId="2829" locator="1215:53-1215:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2836" locator="1216:14-1216:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2873" locator="1224:1-1230:33" name="Cardiac exam result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2873">
               <a:s>/*
  @dataElement: ANC.B8.DE50 Cardiac exam result
  @activity: ANC.B8. Conduct physical exam
  @description: The woman's cardiac condition
*/
define &quot;Cardiac exam result&quot;:
  </a:s>
               <a:s r="2872">
                  <a:s r="2870">
                     <a:s r="2869">
                        <a:s r="2839">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2869">
                           <a:s>Only(
  </a:s>
                           <a:s r="2868">
                              <a:s>
                                 <a:s r="2841">
                                    <a:s r="2840">
                                       <a:s r="2840">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Cardiac exam result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2867">
                                 <a:s>where </a:s>
                                 <a:s r="2867">
                                    <a:s r="2857">
                                       <a:s r="2848">
                                          <a:s r="2843">
                                             <a:s r="2842">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2843">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2847">
                                             <a:s>{ </a:s>
                                             <a:s r="2844">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2845">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2846">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2856">
                                          <a:s r="2855">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2853">
                                                <a:s r="2852">
                                                   <a:s r="2849">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2852">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2850">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2851">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2853">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2854">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2866">
                                       <a:s r="2863">
                                          <a:s>Last(</a:s>
                                          <a:s r="2862">
                                             <a:s>Split(</a:s>
                                             <a:s r="2860">
                                                <a:s r="2859">
                                                   <a:s r="2858">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2859">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2860">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2861">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2865">
                                          <a:s r="2864">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2865">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2870">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2871">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2872" locator="1225:3-1230:33" strict="false" xsi:type="As">
            <operand localId="2870" locator="1225:3-1230:9" path="value" xsi:type="Property">
               <source localId="2869" locator="1225:3-1230:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2868" locator="1226:3-1229:64" xsi:type="Query">
                     <source localId="2841" locator="1226:3-1226:43" alias="O">
                        <expression localId="2840" locator="1226:3-1226:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1226:17-1226:40" name="Cardiac exam result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2867" locator="1227:5-1229:64" xsi:type="And">
                        <operand localId="2857" locator="1227:11-1228:80" xsi:type="And">
                           <operand localId="2848" locator="1227:11-1227:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2843" locator="1227:11-1227:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2847" locator="1227:23-1227:57" xsi:type="List">
                                 <element localId="2844" locator="1227:25-1227:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2845" locator="1227:34-1227:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2846" locator="1227:45-1227:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2856" locator="1228:11-1228:80" xsi:type="IsFalse">
                              <operand localId="2855" locator="1228:11-1228:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2853" locator="1228:20-1228:63" path="value" xsi:type="Property">
                                          <source localId="2852" locator="1228:20-1228:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2850" locator="1228:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2851" locator="1228:44-1228:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2854" locator="1228:66-1228:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2866" locator="1229:11-1229:64" xsi:type="Equal">
                           <operand localId="2863" locator="1229:11-1229:49" xsi:type="Last">
                              <source localId="2862" locator="1229:16-1229:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2860" locator="1229:22-1229:42" path="reference" xsi:type="Property">
                                       <source localId="2859" locator="1229:22-1229:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2861" locator="1229:45-1229:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2865" locator="1229:53-1229:64" path="id" xsi:type="Property">
                                 <source localId="2864" locator="1229:53-1229:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2871" locator="1230:14-1230:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2908" locator="1238:1-1244:33" name="Breast exam result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2908">
               <a:s>/*
  @dataElement: ANC.B8.DE61 Breast exam result
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the result of the breast exam is normal
*/
define &quot;Breast exam result&quot;:
  </a:s>
               <a:s r="2907">
                  <a:s r="2905">
                     <a:s r="2904">
                        <a:s r="2874">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2904">
                           <a:s>Only(
  </a:s>
                           <a:s r="2903">
                              <a:s>
                                 <a:s r="2876">
                                    <a:s r="2875">
                                       <a:s r="2875">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Breast exam result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2902">
                                 <a:s>where </a:s>
                                 <a:s r="2902">
                                    <a:s r="2892">
                                       <a:s r="2883">
                                          <a:s r="2878">
                                             <a:s r="2877">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2878">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2882">
                                             <a:s>{ </a:s>
                                             <a:s r="2879">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2880">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2881">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2891">
                                          <a:s r="2890">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2888">
                                                <a:s r="2887">
                                                   <a:s r="2884">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2887">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2885">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2886">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2888">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2889">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2901">
                                       <a:s r="2898">
                                          <a:s>Last(</a:s>
                                          <a:s r="2897">
                                             <a:s>Split(</a:s>
                                             <a:s r="2895">
                                                <a:s r="2894">
                                                   <a:s r="2893">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2894">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2895">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2896">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2900">
                                          <a:s r="2899">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2900">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2905">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2906">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2907" locator="1239:3-1244:33" strict="false" xsi:type="As">
            <operand localId="2905" locator="1239:3-1244:9" path="value" xsi:type="Property">
               <source localId="2904" locator="1239:3-1244:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2903" locator="1240:3-1243:64" xsi:type="Query">
                     <source localId="2876" locator="1240:3-1240:42" alias="O">
                        <expression localId="2875" locator="1240:3-1240:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1240:17-1240:39" name="Breast exam result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2902" locator="1241:5-1243:64" xsi:type="And">
                        <operand localId="2892" locator="1241:11-1242:80" xsi:type="And">
                           <operand localId="2883" locator="1241:11-1241:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2878" locator="1241:11-1241:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2882" locator="1241:23-1241:57" xsi:type="List">
                                 <element localId="2879" locator="1241:25-1241:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2880" locator="1241:34-1241:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2881" locator="1241:45-1241:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2891" locator="1242:11-1242:80" xsi:type="IsFalse">
                              <operand localId="2890" locator="1242:11-1242:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2888" locator="1242:20-1242:63" path="value" xsi:type="Property">
                                          <source localId="2887" locator="1242:20-1242:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2885" locator="1242:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2886" locator="1242:44-1242:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2889" locator="1242:66-1242:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2901" locator="1243:11-1243:64" xsi:type="Equal">
                           <operand localId="2898" locator="1243:11-1243:49" xsi:type="Last">
                              <source localId="2897" locator="1243:16-1243:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2895" locator="1243:22-1243:42" path="reference" xsi:type="Property">
                                       <source localId="2894" locator="1243:22-1243:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2896" locator="1243:45-1243:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2900" locator="1243:53-1243:64" path="id" xsi:type="Property">
                                 <source localId="2899" locator="1243:53-1243:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2906" locator="1244:14-1244:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2943" locator="1252:1-1258:33" name="Abdominal exam result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2943">
               <a:s>/*
  @dataElement: ANC.B8.DE71 Abdominal exam result
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the result of the abdominal exam is normal
*/
define &quot;Abdominal exam result&quot;:
  </a:s>
               <a:s r="2942">
                  <a:s r="2940">
                     <a:s r="2939">
                        <a:s r="2909">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2939">
                           <a:s>Only(
  </a:s>
                           <a:s r="2938">
                              <a:s>
                                 <a:s r="2911">
                                    <a:s r="2910">
                                       <a:s r="2910">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Abdominal exam result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2937">
                                 <a:s>where </a:s>
                                 <a:s r="2937">
                                    <a:s r="2927">
                                       <a:s r="2918">
                                          <a:s r="2913">
                                             <a:s r="2912">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2913">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2917">
                                             <a:s>{ </a:s>
                                             <a:s r="2914">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2915">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2916">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2926">
                                          <a:s r="2925">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2923">
                                                <a:s r="2922">
                                                   <a:s r="2919">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2922">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2920">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2921">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2923">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2924">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2936">
                                       <a:s r="2933">
                                          <a:s>Last(</a:s>
                                          <a:s r="2932">
                                             <a:s>Split(</a:s>
                                             <a:s r="2930">
                                                <a:s r="2929">
                                                   <a:s r="2928">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2929">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2930">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2931">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2935">
                                          <a:s r="2934">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2935">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2940">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2941">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2942" locator="1253:3-1258:33" strict="false" xsi:type="As">
            <operand localId="2940" locator="1253:3-1258:9" path="value" xsi:type="Property">
               <source localId="2939" locator="1253:3-1258:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2938" locator="1254:3-1257:64" xsi:type="Query">
                     <source localId="2911" locator="1254:3-1254:45" alias="O">
                        <expression localId="2910" locator="1254:3-1254:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1254:17-1254:42" name="Abdominal exam result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2937" locator="1255:5-1257:64" xsi:type="And">
                        <operand localId="2927" locator="1255:11-1256:80" xsi:type="And">
                           <operand localId="2918" locator="1255:11-1255:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2913" locator="1255:11-1255:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2917" locator="1255:23-1255:57" xsi:type="List">
                                 <element localId="2914" locator="1255:25-1255:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2915" locator="1255:34-1255:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2916" locator="1255:45-1255:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2926" locator="1256:11-1256:80" xsi:type="IsFalse">
                              <operand localId="2925" locator="1256:11-1256:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2923" locator="1256:20-1256:63" path="value" xsi:type="Property">
                                          <source localId="2922" locator="1256:20-1256:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2920" locator="1256:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2921" locator="1256:44-1256:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2924" locator="1256:66-1256:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2936" locator="1257:11-1257:64" xsi:type="Equal">
                           <operand localId="2933" locator="1257:11-1257:49" xsi:type="Last">
                              <source localId="2932" locator="1257:16-1257:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2930" locator="1257:22-1257:42" path="reference" xsi:type="Property">
                                       <source localId="2929" locator="1257:22-1257:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2931" locator="1257:45-1257:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2935" locator="1257:53-1257:64" path="id" xsi:type="Property">
                                 <source localId="2934" locator="1257:53-1257:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2941" locator="1258:14-1258:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="2978" locator="1266:1-1272:33" name="Pelvic exam result (visual)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="2978">
               <a:s>/*
  @dataElement: ANC.B8.DE79 Pelvic exam result (visual)
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the result of the pelvic exam is normal
*/
define &quot;Pelvic exam result (visual)&quot;:
  </a:s>
               <a:s r="2977">
                  <a:s r="2975">
                     <a:s r="2974">
                        <a:s r="2944">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="2974">
                           <a:s>Only(
  </a:s>
                           <a:s r="2973">
                              <a:s>
                                 <a:s r="2946">
                                    <a:s r="2945">
                                       <a:s r="2945">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Pelvic exam result (visual)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="2972">
                                 <a:s>where </a:s>
                                 <a:s r="2972">
                                    <a:s r="2962">
                                       <a:s r="2953">
                                          <a:s r="2948">
                                             <a:s r="2947">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2948">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2952">
                                             <a:s>{ </a:s>
                                             <a:s r="2949">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2950">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2951">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2961">
                                          <a:s r="2960">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2958">
                                                <a:s r="2957">
                                                   <a:s r="2954">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2957">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2955">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2956">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2958">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2959">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="2971">
                                       <a:s r="2968">
                                          <a:s>Last(</a:s>
                                          <a:s r="2967">
                                             <a:s>Split(</a:s>
                                             <a:s r="2965">
                                                <a:s r="2964">
                                                   <a:s r="2963">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2964">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2965">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2966">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="2970">
                                          <a:s r="2969">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="2970">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="2975">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="2976">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="2977" locator="1267:3-1272:33" strict="false" xsi:type="As">
            <operand localId="2975" locator="1267:3-1272:9" path="value" xsi:type="Property">
               <source localId="2974" locator="1267:3-1272:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="2973" locator="1268:3-1271:64" xsi:type="Query">
                     <source localId="2946" locator="1268:3-1268:51" alias="O">
                        <expression localId="2945" locator="1268:3-1268:49" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1268:17-1268:48" name="Pelvic exam result (visual)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="2972" locator="1269:5-1271:64" xsi:type="And">
                        <operand localId="2962" locator="1269:11-1270:80" xsi:type="And">
                           <operand localId="2953" locator="1269:11-1269:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2948" locator="1269:11-1269:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2952" locator="1269:23-1269:57" xsi:type="List">
                                 <element localId="2949" locator="1269:25-1269:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2950" locator="1269:34-1269:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2951" locator="1269:45-1269:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2961" locator="1270:11-1270:80" xsi:type="IsFalse">
                              <operand localId="2960" locator="1270:11-1270:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2958" locator="1270:20-1270:63" path="value" xsi:type="Property">
                                          <source localId="2957" locator="1270:20-1270:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2955" locator="1270:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2956" locator="1270:44-1270:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2959" locator="1270:66-1270:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="2971" locator="1271:11-1271:64" xsi:type="Equal">
                           <operand localId="2968" locator="1271:11-1271:49" xsi:type="Last">
                              <source localId="2967" locator="1271:16-1271:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="2965" locator="1271:22-1271:42" path="reference" xsi:type="Property">
                                       <source localId="2964" locator="1271:22-1271:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="2966" locator="1271:45-1271:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="2970" locator="1271:53-1271:64" path="id" xsi:type="Property">
                                 <source localId="2969" locator="1271:53-1271:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="2976" locator="1272:14-1272:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3013" locator="1280:1-1286:25" name="Cervical exam conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3013">
               <a:s>/*
  @dataElement: ANC.B8.DE92 Cervical exam conducted
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the health worker performed a cervical exam
*/
define &quot;Cervical exam conducted&quot;:
  </a:s>
               <a:s r="3012">
                  <a:s r="3010">
                     <a:s r="3009">
                        <a:s r="2979">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3009">
                           <a:s>Only(
  </a:s>
                           <a:s r="3008">
                              <a:s>
                                 <a:s r="2981">
                                    <a:s r="2980">
                                       <a:s r="2980">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Cervical exam conducted&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3007">
                                 <a:s>where </a:s>
                                 <a:s r="3007">
                                    <a:s r="2997">
                                       <a:s r="2988">
                                          <a:s r="2983">
                                             <a:s r="2982">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="2983">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="2987">
                                             <a:s>{ </a:s>
                                             <a:s r="2984">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2985">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="2986">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="2996">
                                          <a:s r="2995">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="2993">
                                                <a:s r="2992">
                                                   <a:s r="2989">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2992">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="2990">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="2991">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="2993">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="2994">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3006">
                                       <a:s r="3003">
                                          <a:s>Last(</a:s>
                                          <a:s r="3002">
                                             <a:s>Split(</a:s>
                                             <a:s r="3000">
                                                <a:s r="2999">
                                                   <a:s r="2998">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="2999">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3000">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3001">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3005">
                                          <a:s r="3004">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3005">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3010">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3011">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3012" locator="1281:3-1286:25" strict="false" xsi:type="As">
            <operand localId="3010" locator="1281:3-1286:9" path="value" xsi:type="Property">
               <source localId="3009" locator="1281:3-1286:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3008" locator="1282:3-1285:64" xsi:type="Query">
                     <source localId="2981" locator="1282:3-1282:47" alias="O">
                        <expression localId="2980" locator="1282:3-1282:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1282:17-1282:44" name="Cervical exam conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3007" locator="1283:5-1285:64" xsi:type="And">
                        <operand localId="2997" locator="1283:11-1284:80" xsi:type="And">
                           <operand localId="2988" locator="1283:11-1283:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="2983" locator="1283:11-1283:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="2987" locator="1283:23-1283:57" xsi:type="List">
                                 <element localId="2984" locator="1283:25-1283:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="2985" locator="1283:34-1283:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="2986" locator="1283:45-1283:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="2996" locator="1284:11-1284:80" xsi:type="IsFalse">
                              <operand localId="2995" locator="1284:11-1284:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="2993" locator="1284:20-1284:63" path="value" xsi:type="Property">
                                          <source localId="2992" locator="1284:20-1284:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="2990" locator="1284:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="2991" locator="1284:44-1284:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="2994" locator="1284:66-1284:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3006" locator="1285:11-1285:64" xsi:type="Equal">
                           <operand localId="3003" locator="1285:11-1285:49" xsi:type="Last">
                              <source localId="3002" locator="1285:16-1285:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3000" locator="1285:22-1285:42" path="reference" xsi:type="Property">
                                       <source localId="2999" locator="1285:22-1285:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3001" locator="1285:45-1285:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3005" locator="1285:53-1285:64" path="id" xsi:type="Property">
                                 <source localId="3004" locator="1285:53-1285:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3011" locator="1286:14-1286:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3048" locator="1294:1-1300:26" name="Cervical dilation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3048">
               <a:s>/*
  @dataElement: ANC.B8.DE93 Cervical dilation
  @activity: ANC.B8. Conduct physical exam
  @description: If a cervical exam was done, how many centimeters is the cervix dilated?
*/
define &quot;Cervical dilation&quot;:
  </a:s>
               <a:s r="3047">
                  <a:s r="3045">
                     <a:s r="3044">
                        <a:s r="3014">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3044">
                           <a:s>Only(
  </a:s>
                           <a:s r="3043">
                              <a:s>
                                 <a:s r="3016">
                                    <a:s r="3015">
                                       <a:s r="3015">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Cervical dilation&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3042">
                                 <a:s>where </a:s>
                                 <a:s r="3042">
                                    <a:s r="3032">
                                       <a:s r="3023">
                                          <a:s r="3018">
                                             <a:s r="3017">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3018">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3022">
                                             <a:s>{ </a:s>
                                             <a:s r="3019">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3020">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3021">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3031">
                                          <a:s r="3030">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3028">
                                                <a:s r="3027">
                                                   <a:s r="3024">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3027">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3025">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3026">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3028">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3029">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3041">
                                       <a:s r="3038">
                                          <a:s>Last(</a:s>
                                          <a:s r="3037">
                                             <a:s>Split(</a:s>
                                             <a:s r="3035">
                                                <a:s r="3034">
                                                   <a:s r="3033">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3034">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3035">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3036">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3040">
                                          <a:s r="3039">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3040">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3045">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3046">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3047" locator="1295:3-1300:26" strict="false" xsi:type="As">
            <operand localId="3045" locator="1295:3-1300:9" path="value" xsi:type="Property">
               <source localId="3044" locator="1295:3-1300:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3043" locator="1296:3-1299:64" xsi:type="Query">
                     <source localId="3016" locator="1296:3-1296:41" alias="O">
                        <expression localId="3015" locator="1296:3-1296:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1296:17-1296:38" name="Cervical dilation" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3042" locator="1297:5-1299:64" xsi:type="And">
                        <operand localId="3032" locator="1297:11-1298:80" xsi:type="And">
                           <operand localId="3023" locator="1297:11-1297:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3018" locator="1297:11-1297:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3022" locator="1297:23-1297:57" xsi:type="List">
                                 <element localId="3019" locator="1297:25-1297:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3020" locator="1297:34-1297:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3021" locator="1297:45-1297:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3031" locator="1298:11-1298:80" xsi:type="IsFalse">
                              <operand localId="3030" locator="1298:11-1298:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3028" locator="1298:20-1298:63" path="value" xsi:type="Property">
                                          <source localId="3027" locator="1298:20-1298:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3025" locator="1298:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3026" locator="1298:44-1298:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3029" locator="1298:66-1298:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3041" locator="1299:11-1299:64" xsi:type="Equal">
                           <operand localId="3038" locator="1299:11-1299:49" xsi:type="Last">
                              <source localId="3037" locator="1299:16-1299:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3035" locator="1299:22-1299:42" path="reference" xsi:type="Property">
                                       <source localId="3034" locator="1299:22-1299:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3036" locator="1299:45-1299:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3040" locator="1299:53-1299:64" path="id" xsi:type="Property">
                                 <source localId="3039" locator="1299:53-1299:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3046" locator="1300:14-1300:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3083" locator="1308:1-1314:25" name="Oedema present" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3083">
               <a:s>/*
  @dataElement: ANC.B8.DE94 Oedema present
  @activity: ANC.B8. Conduct physical exam
  @description: Whether or not the woman has oedema
*/
define &quot;Oedema present&quot;:
  </a:s>
               <a:s r="3082">
                  <a:s r="3080">
                     <a:s r="3079">
                        <a:s r="3049">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3079">
                           <a:s>Only(
  </a:s>
                           <a:s r="3078">
                              <a:s>
                                 <a:s r="3051">
                                    <a:s r="3050">
                                       <a:s r="3050">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Oedema present&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3077">
                                 <a:s>where </a:s>
                                 <a:s r="3077">
                                    <a:s r="3067">
                                       <a:s r="3058">
                                          <a:s r="3053">
                                             <a:s r="3052">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3053">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3057">
                                             <a:s>{ </a:s>
                                             <a:s r="3054">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3055">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3056">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3066">
                                          <a:s r="3065">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3063">
                                                <a:s r="3062">
                                                   <a:s r="3059">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3062">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3060">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3061">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3063">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3064">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3076">
                                       <a:s r="3073">
                                          <a:s>Last(</a:s>
                                          <a:s r="3072">
                                             <a:s>Split(</a:s>
                                             <a:s r="3070">
                                                <a:s r="3069">
                                                   <a:s r="3068">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3069">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3070">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3071">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3075">
                                          <a:s r="3074">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3075">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3080">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3081">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3082" locator="1309:3-1314:25" strict="false" xsi:type="As">
            <operand localId="3080" locator="1309:3-1314:9" path="value" xsi:type="Property">
               <source localId="3079" locator="1309:3-1314:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3078" locator="1310:3-1313:64" xsi:type="Query">
                     <source localId="3051" locator="1310:3-1310:38" alias="O">
                        <expression localId="3050" locator="1310:3-1310:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1310:17-1310:35" name="Oedema present" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3077" locator="1311:5-1313:64" xsi:type="And">
                        <operand localId="3067" locator="1311:11-1312:80" xsi:type="And">
                           <operand localId="3058" locator="1311:11-1311:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3053" locator="1311:11-1311:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3057" locator="1311:23-1311:57" xsi:type="List">
                                 <element localId="3054" locator="1311:25-1311:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3055" locator="1311:34-1311:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3056" locator="1311:45-1311:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3066" locator="1312:11-1312:80" xsi:type="IsFalse">
                              <operand localId="3065" locator="1312:11-1312:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3063" locator="1312:20-1312:63" path="value" xsi:type="Property">
                                          <source localId="3062" locator="1312:20-1312:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3060" locator="1312:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3061" locator="1312:44-1312:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3064" locator="1312:66-1312:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3076" locator="1313:11-1313:64" xsi:type="Equal">
                           <operand localId="3073" locator="1313:11-1313:49" xsi:type="Last">
                              <source localId="3072" locator="1313:16-1313:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3070" locator="1313:22-1313:42" path="reference" xsi:type="Property">
                                       <source localId="3069" locator="1313:22-1313:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3071" locator="1313:45-1313:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3075" locator="1313:53-1313:64" path="id" xsi:type="Property">
                                 <source localId="3074" locator="1313:53-1313:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3081" locator="1314:14-1314:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3118" locator="1322:1-1327:42" name="Oedema type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3118">
               <a:s>/*
  @dataElement: ANC.B8.DE95 Oedema type
  @activity: ANC.B8. Conduct physical exam
  @description: Select the type of oedema the woman has
*/
define &quot;Oedema type&quot;:
  </a:s>
               <a:s r="3117">
                  <a:s>
                     <a:s r="3085">
                        <a:s r="3084">
                           <a:s r="3084">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Oedema type&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3111">
                     <a:s>where </a:s>
                     <a:s r="3111">
                        <a:s r="3101">
                           <a:s r="3092">
                              <a:s r="3087">
                                 <a:s r="3086">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="3087">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="3091">
                                 <a:s>{ </a:s>
                                 <a:s r="3088">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3089">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3090">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="3100">
                              <a:s r="3099">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="3097">
                                    <a:s r="3096">
                                       <a:s r="3093">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3096">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="3094">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3095">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3097">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="3098">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="3110">
                           <a:s r="3107">
                              <a:s>Last(</a:s>
                              <a:s r="3106">
                                 <a:s>Split(</a:s>
                                 <a:s r="3104">
                                    <a:s r="3103">
                                       <a:s r="3102">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3103">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3104">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3105">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="3109">
                              <a:s r="3108">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="3109">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3116">
                     <a:s>return </a:s>
                     <a:s r="3115">
                        <a:s r="3113">
                           <a:s r="3112">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="3113">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="3114">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3117" locator="1323:3-1327:42" xsi:type="Query">
            <source localId="3085" locator="1323:3-1323:35" alias="O">
               <expression localId="3084" locator="1323:3-1323:33" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1323:17-1323:32" name="Oedema type" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="3111" locator="1324:5-1326:64" xsi:type="And">
               <operand localId="3101" locator="1324:11-1325:80" xsi:type="And">
                  <operand localId="3092" locator="1324:11-1324:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="3087" locator="1324:11-1324:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="3091" locator="1324:23-1324:57" xsi:type="List">
                        <element localId="3088" locator="1324:25-1324:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="3089" locator="1324:34-1324:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="3090" locator="1324:45-1324:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="3100" locator="1325:11-1325:80" xsi:type="IsFalse">
                     <operand localId="3099" locator="1325:11-1325:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="3097" locator="1325:20-1325:63" path="value" xsi:type="Property">
                                 <source localId="3096" locator="1325:20-1325:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="3094" locator="1325:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="3095" locator="1325:44-1325:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3098" locator="1325:66-1325:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="3110" locator="1326:11-1326:64" xsi:type="Equal">
                  <operand localId="3107" locator="1326:11-1326:49" xsi:type="Last">
                     <source localId="3106" locator="1326:16-1326:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3104" locator="1326:22-1326:42" path="reference" xsi:type="Property">
                              <source localId="3103" locator="1326:22-1326:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="3105" locator="1326:45-1326:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="3109" locator="1326:53-1326:64" path="id" xsi:type="Property">
                        <source localId="3108" locator="1326:53-1326:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="3116" locator="1327:5-1327:42">
               <expression localId="3115" locator="1327:12-1327:42" strict="false" xsi:type="As">
                  <operand localId="3113" locator="1327:12-1327:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="3114" locator="1327:23-1327:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="3153" locator="1335:1-1341:25" name="Ultrasound required" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3153">
               <a:s>/*
  @dataElement: ANC.B9.DE1 Ultrasound required
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Woman requires an ultrasound scan
*/
define &quot;Ultrasound required&quot;:
  </a:s>
               <a:s r="3152">
                  <a:s r="3150">
                     <a:s r="3149">
                        <a:s r="3119">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3149">
                           <a:s>Only(
  </a:s>
                           <a:s r="3148">
                              <a:s>
                                 <a:s r="3121">
                                    <a:s r="3120">
                                       <a:s r="3120">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Ultrasound required&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3147">
                                 <a:s>where </a:s>
                                 <a:s r="3147">
                                    <a:s r="3137">
                                       <a:s r="3128">
                                          <a:s r="3123">
                                             <a:s r="3122">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3123">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3127">
                                             <a:s>{ </a:s>
                                             <a:s r="3124">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3125">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3126">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3136">
                                          <a:s r="3135">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3133">
                                                <a:s r="3132">
                                                   <a:s r="3129">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3132">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3130">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3131">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3133">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3134">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3146">
                                       <a:s r="3143">
                                          <a:s>Last(</a:s>
                                          <a:s r="3142">
                                             <a:s>Split(</a:s>
                                             <a:s r="3140">
                                                <a:s r="3139">
                                                   <a:s r="3138">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3139">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3140">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3141">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3145">
                                          <a:s r="3144">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3145">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3150">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3151">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3152" locator="1336:3-1341:25" strict="false" xsi:type="As">
            <operand localId="3150" locator="1336:3-1341:9" path="value" xsi:type="Property">
               <source localId="3149" locator="1336:3-1341:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3148" locator="1337:3-1340:64" xsi:type="Query">
                     <source localId="3121" locator="1337:3-1337:43" alias="O">
                        <expression localId="3120" locator="1337:3-1337:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1337:17-1337:40" name="Ultrasound required" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3147" locator="1338:5-1340:64" xsi:type="And">
                        <operand localId="3137" locator="1338:11-1339:80" xsi:type="And">
                           <operand localId="3128" locator="1338:11-1338:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3123" locator="1338:11-1338:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3127" locator="1338:23-1338:57" xsi:type="List">
                                 <element localId="3124" locator="1338:25-1338:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3125" locator="1338:34-1338:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3126" locator="1338:45-1338:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3136" locator="1339:11-1339:80" xsi:type="IsFalse">
                              <operand localId="3135" locator="1339:11-1339:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3133" locator="1339:20-1339:63" path="value" xsi:type="Property">
                                          <source localId="3132" locator="1339:20-1339:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3130" locator="1339:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3131" locator="1339:44-1339:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3134" locator="1339:66-1339:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3146" locator="1340:11-1340:64" xsi:type="Equal">
                           <operand localId="3143" locator="1340:11-1340:49" xsi:type="Last">
                              <source localId="3142" locator="1340:16-1340:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3140" locator="1340:22-1340:42" path="reference" xsi:type="Property">
                                       <source localId="3139" locator="1340:22-1340:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3141" locator="1340:45-1340:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3145" locator="1340:53-1340:64" path="id" xsi:type="Property">
                                 <source localId="3144" locator="1340:53-1340:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3151" locator="1341:14-1341:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3188" locator="1349:1-1354:42" name="Reason syphilis test not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3188">
               <a:s>/*
  @dataElement: ANC.B9.DE102 Reason syphilis test not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why a syphilis test was not done
*/
define &quot;Reason syphilis test not done&quot;:
  </a:s>
               <a:s r="3187">
                  <a:s>
                     <a:s r="3155">
                        <a:s r="3154">
                           <a:s r="3154">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason syphilis test not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3181">
                     <a:s>where </a:s>
                     <a:s r="3181">
                        <a:s r="3171">
                           <a:s r="3162">
                              <a:s r="3157">
                                 <a:s r="3156">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="3157">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="3161">
                                 <a:s>{ </a:s>
                                 <a:s r="3158">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3159">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3160">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="3170">
                              <a:s r="3169">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="3167">
                                    <a:s r="3166">
                                       <a:s r="3163">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3166">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="3164">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3165">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3167">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="3168">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="3180">
                           <a:s r="3177">
                              <a:s>Last(</a:s>
                              <a:s r="3176">
                                 <a:s>Split(</a:s>
                                 <a:s r="3174">
                                    <a:s r="3173">
                                       <a:s r="3172">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3173">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3174">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3175">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="3179">
                              <a:s r="3178">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="3179">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3186">
                     <a:s>return </a:s>
                     <a:s r="3185">
                        <a:s r="3183">
                           <a:s r="3182">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="3183">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="3184">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3187" locator="1350:3-1354:42" xsi:type="Query">
            <source localId="3155" locator="1350:3-1350:53" alias="O">
               <expression localId="3154" locator="1350:3-1350:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1350:17-1350:50" name="Reason syphilis test not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="3181" locator="1351:5-1353:64" xsi:type="And">
               <operand localId="3171" locator="1351:11-1352:80" xsi:type="And">
                  <operand localId="3162" locator="1351:11-1351:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="3157" locator="1351:11-1351:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="3161" locator="1351:23-1351:57" xsi:type="List">
                        <element localId="3158" locator="1351:25-1351:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="3159" locator="1351:34-1351:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="3160" locator="1351:45-1351:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="3170" locator="1352:11-1352:80" xsi:type="IsFalse">
                     <operand localId="3169" locator="1352:11-1352:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="3167" locator="1352:20-1352:63" path="value" xsi:type="Property">
                                 <source localId="3166" locator="1352:20-1352:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="3164" locator="1352:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="3165" locator="1352:44-1352:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3168" locator="1352:66-1352:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="3180" locator="1353:11-1353:64" xsi:type="Equal">
                  <operand localId="3177" locator="1353:11-1353:49" xsi:type="Last">
                     <source localId="3176" locator="1353:16-1353:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3174" locator="1353:22-1353:42" path="reference" xsi:type="Property">
                              <source localId="3173" locator="1353:22-1353:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="3175" locator="1353:45-1353:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="3179" locator="1353:53-1353:64" path="id" xsi:type="Property">
                        <source localId="3178" locator="1353:53-1353:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="3186" locator="1354:5-1354:42">
               <expression localId="3185" locator="1354:12-1354:42" strict="false" xsi:type="As">
                  <operand localId="3183" locator="1354:12-1354:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="3184" locator="1354:23-1354:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="3223" locator="1362:1-1368:33" name="Syphilis test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3223">
               <a:s>/*
  @dataElement: ANC.B9.DE107 Syphilis test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Syphilis test result
*/
define &quot;Syphilis test result&quot;:
  </a:s>
               <a:s r="3222">
                  <a:s r="3220">
                     <a:s r="3219">
                        <a:s r="3189">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3219">
                           <a:s>Only(
  </a:s>
                           <a:s r="3218">
                              <a:s>
                                 <a:s r="3191">
                                    <a:s r="3190">
                                       <a:s r="3190">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Syphilis test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3217">
                                 <a:s>where </a:s>
                                 <a:s r="3217">
                                    <a:s r="3207">
                                       <a:s r="3198">
                                          <a:s r="3193">
                                             <a:s r="3192">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3193">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3197">
                                             <a:s>{ </a:s>
                                             <a:s r="3194">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3195">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3196">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3206">
                                          <a:s r="3205">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3203">
                                                <a:s r="3202">
                                                   <a:s r="3199">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3202">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3200">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3201">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3203">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3204">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3216">
                                       <a:s r="3213">
                                          <a:s>Last(</a:s>
                                          <a:s r="3212">
                                             <a:s>Split(</a:s>
                                             <a:s r="3210">
                                                <a:s r="3209">
                                                   <a:s r="3208">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3209">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3210">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3211">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3215">
                                          <a:s r="3214">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3215">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3220">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3221">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3222" locator="1363:3-1368:33" strict="false" xsi:type="As">
            <operand localId="3220" locator="1363:3-1368:9" path="value" xsi:type="Property">
               <source localId="3219" locator="1363:3-1368:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3218" locator="1364:3-1367:64" xsi:type="Query">
                     <source localId="3191" locator="1364:3-1364:44" alias="O">
                        <expression localId="3190" locator="1364:3-1364:42" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1364:17-1364:41" name="Syphilis test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3217" locator="1365:5-1367:64" xsi:type="And">
                        <operand localId="3207" locator="1365:11-1366:80" xsi:type="And">
                           <operand localId="3198" locator="1365:11-1365:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3193" locator="1365:11-1365:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3197" locator="1365:23-1365:57" xsi:type="List">
                                 <element localId="3194" locator="1365:25-1365:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3195" locator="1365:34-1365:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3196" locator="1365:45-1365:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3206" locator="1366:11-1366:80" xsi:type="IsFalse">
                              <operand localId="3205" locator="1366:11-1366:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3203" locator="1366:20-1366:63" path="value" xsi:type="Property">
                                          <source localId="3202" locator="1366:20-1366:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3200" locator="1366:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3201" locator="1366:44-1366:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3204" locator="1366:66-1366:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3216" locator="1367:11-1367:64" xsi:type="Equal">
                           <operand localId="3213" locator="1367:11-1367:49" xsi:type="Last">
                              <source localId="3212" locator="1367:16-1367:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3210" locator="1367:22-1367:42" path="reference" xsi:type="Property">
                                       <source localId="3209" locator="1367:22-1367:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3211" locator="1367:45-1367:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3215" locator="1367:53-1367:64" path="id" xsi:type="Property">
                                 <source localId="3214" locator="1367:53-1367:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3221" locator="1368:14-1368:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3258" locator="1376:1-1382:33" name="Syphilis diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3258">
               <a:s>/*
  @dataElement: ANC.B9.DE110 Syphilis diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Calculation for whether woman has syphilis (1) or not (0)
*/
define &quot;Syphilis diagnosis&quot;:
  </a:s>
               <a:s r="3257">
                  <a:s r="3255">
                     <a:s r="3254">
                        <a:s r="3224">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3254">
                           <a:s>Only(
  </a:s>
                           <a:s r="3253">
                              <a:s>
                                 <a:s r="3226">
                                    <a:s r="3225">
                                       <a:s r="3225">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Syphilis diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3252">
                                 <a:s>where </a:s>
                                 <a:s r="3252">
                                    <a:s r="3242">
                                       <a:s r="3233">
                                          <a:s r="3228">
                                             <a:s r="3227">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3228">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3232">
                                             <a:s>{ </a:s>
                                             <a:s r="3229">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3230">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3231">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3241">
                                          <a:s r="3240">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3238">
                                                <a:s r="3237">
                                                   <a:s r="3234">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3237">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3235">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3236">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3238">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3239">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3251">
                                       <a:s r="3248">
                                          <a:s>Last(</a:s>
                                          <a:s r="3247">
                                             <a:s>Split(</a:s>
                                             <a:s r="3245">
                                                <a:s r="3244">
                                                   <a:s r="3243">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3244">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3245">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3246">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3250">
                                          <a:s r="3249">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3250">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3255">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3256">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3257" locator="1377:3-1382:33" strict="false" xsi:type="As">
            <operand localId="3255" locator="1377:3-1382:9" path="value" xsi:type="Property">
               <source localId="3254" locator="1377:3-1382:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3253" locator="1378:3-1381:64" xsi:type="Query">
                     <source localId="3226" locator="1378:3-1378:42" alias="O">
                        <expression localId="3225" locator="1378:3-1378:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1378:17-1378:39" name="Syphilis diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3252" locator="1379:5-1381:64" xsi:type="And">
                        <operand localId="3242" locator="1379:11-1380:80" xsi:type="And">
                           <operand localId="3233" locator="1379:11-1379:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3228" locator="1379:11-1379:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3232" locator="1379:23-1379:57" xsi:type="List">
                                 <element localId="3229" locator="1379:25-1379:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3230" locator="1379:34-1379:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3231" locator="1379:45-1379:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3241" locator="1380:11-1380:80" xsi:type="IsFalse">
                              <operand localId="3240" locator="1380:11-1380:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3238" locator="1380:20-1380:63" path="value" xsi:type="Property">
                                          <source localId="3237" locator="1380:20-1380:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3235" locator="1380:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3236" locator="1380:44-1380:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3239" locator="1380:66-1380:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3251" locator="1381:11-1381:64" xsi:type="Equal">
                           <operand localId="3248" locator="1381:11-1381:49" xsi:type="Last">
                              <source localId="3247" locator="1381:16-1381:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3245" locator="1381:22-1381:42" path="reference" xsi:type="Property">
                                       <source localId="3244" locator="1381:22-1381:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3246" locator="1381:45-1381:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3250" locator="1381:53-1381:64" path="id" xsi:type="Property">
                                 <source localId="3249" locator="1381:53-1381:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3256" locator="1382:14-1382:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3293" locator="1390:1-1396:25" name="Urine test required" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3293">
               <a:s>/*
  @dataElement: ANC.B9.DE113 Urine test required
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Urine test is required
*/
define &quot;Urine test required&quot;:
  </a:s>
               <a:s r="3292">
                  <a:s r="3290">
                     <a:s r="3289">
                        <a:s r="3259">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3289">
                           <a:s>Only(
  </a:s>
                           <a:s r="3288">
                              <a:s>
                                 <a:s r="3261">
                                    <a:s r="3260">
                                       <a:s r="3260">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Urine test required&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3287">
                                 <a:s>where </a:s>
                                 <a:s r="3287">
                                    <a:s r="3277">
                                       <a:s r="3268">
                                          <a:s r="3263">
                                             <a:s r="3262">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3263">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3267">
                                             <a:s>{ </a:s>
                                             <a:s r="3264">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3265">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3266">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3276">
                                          <a:s r="3275">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3273">
                                                <a:s r="3272">
                                                   <a:s r="3269">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3272">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3270">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3271">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3273">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3274">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3286">
                                       <a:s r="3283">
                                          <a:s>Last(</a:s>
                                          <a:s r="3282">
                                             <a:s>Split(</a:s>
                                             <a:s r="3280">
                                                <a:s r="3279">
                                                   <a:s r="3278">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3279">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3280">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3281">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3285">
                                          <a:s r="3284">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3285">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3290">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3291">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3292" locator="1391:3-1396:25" strict="false" xsi:type="As">
            <operand localId="3290" locator="1391:3-1396:9" path="value" xsi:type="Property">
               <source localId="3289" locator="1391:3-1396:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3288" locator="1392:3-1395:64" xsi:type="Query">
                     <source localId="3261" locator="1392:3-1392:43" alias="O">
                        <expression localId="3260" locator="1392:3-1392:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1392:17-1392:40" name="Urine test required" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3287" locator="1393:5-1395:64" xsi:type="And">
                        <operand localId="3277" locator="1393:11-1394:80" xsi:type="And">
                           <operand localId="3268" locator="1393:11-1393:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3263" locator="1393:11-1393:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3267" locator="1393:23-1393:57" xsi:type="List">
                                 <element localId="3264" locator="1393:25-1393:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3265" locator="1393:34-1393:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3266" locator="1393:45-1393:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3276" locator="1394:11-1394:80" xsi:type="IsFalse">
                              <operand localId="3275" locator="1394:11-1394:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3273" locator="1394:20-1394:63" path="value" xsi:type="Property">
                                          <source localId="3272" locator="1394:20-1394:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3270" locator="1394:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3271" locator="1394:44-1394:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3274" locator="1394:66-1394:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3286" locator="1395:11-1395:64" xsi:type="Equal">
                           <operand localId="3283" locator="1395:11-1395:49" xsi:type="Last">
                              <source localId="3282" locator="1395:16-1395:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3280" locator="1395:22-1395:42" path="reference" xsi:type="Property">
                                       <source localId="3279" locator="1395:22-1395:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3281" locator="1395:45-1395:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3285" locator="1395:53-1395:64" path="id" xsi:type="Property">
                                 <source localId="3284" locator="1395:53-1395:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3291" locator="1396:14-1396:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3324" locator="1404:1-1410:8" name="Urine test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3324">
               <a:s>/*
  @dataElement: ANC.B9.DE115 Urine test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Urine test has been ordered
*/
define &quot;Urine test ordered&quot;:
  </a:s>
               <a:s r="3323">
                  <a:s r="3322">
                     <a:s r="3294">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3322">
                        <a:s>Only(
  </a:s>
                        <a:s r="3321">
                           <a:s>
                              <a:s r="3296">
                                 <a:s r="3295">
                                    <a:s r="3295">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Urine test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="3320">
                              <a:s>where </a:s>
                              <a:s r="3320">
                                 <a:s r="3310">
                                    <a:s r="3304">
                                       <a:s r="3298">
                                          <a:s r="3297">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3298">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="3303">
                                          <a:s>{ </a:s>
                                          <a:s r="3299">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3300">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3301">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3302">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3309">
                                       <a:s r="3308">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="3306">
                                             <a:s r="3305">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3306">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="3307">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="3319">
                                    <a:s r="3316">
                                       <a:s>Last(</a:s>
                                       <a:s r="3315">
                                          <a:s>Split(</a:s>
                                          <a:s r="3313">
                                             <a:s r="3312">
                                                <a:s r="3311">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3312">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3313">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3314">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="3318">
                                       <a:s r="3317">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3318">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="3323">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3323" locator="1405:3-1410:8" path="code" xsi:type="Property">
            <source localId="3322" locator="1405:3-1410:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="3321" locator="1406:3-1409:65" xsi:type="Query">
                  <source localId="3296" locator="1406:3-1406:46" alias="SR">
                     <expression localId="3295" locator="1406:3-1406:43" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1406:20-1406:42" name="Urine test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="3320" locator="1407:5-1409:65" xsi:type="And">
                     <operand localId="3310" locator="1407:11-1408:51" xsi:type="And">
                        <operand localId="3304" locator="1407:11-1407:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3298" locator="1407:11-1407:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="3303" locator="1407:24-1407:68" xsi:type="List">
                              <element localId="3299" locator="1407:26-1407:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="3300" locator="1407:35-1407:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="3301" locator="1407:45-1407:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="3302" locator="1407:56-1407:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="3309" locator="1408:11-1408:51" xsi:type="IsFalse">
                           <operand localId="3308" locator="1408:11-1408:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3306" locator="1408:20-1408:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="3307" locator="1408:37-1408:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="3319" locator="1409:11-1409:65" xsi:type="Equal">
                        <operand localId="3316" locator="1409:11-1409:50" xsi:type="Last">
                           <source localId="3315" locator="1409:16-1409:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3313" locator="1409:22-1409:43" path="reference" xsi:type="Property">
                                    <source localId="3312" locator="1409:22-1409:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="3314" locator="1409:46-1409:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3318" locator="1409:54-1409:65" path="id" xsi:type="Property">
                              <source localId="3317" locator="1409:54-1409:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="3359" locator="1418:1-1423:42" name="Urine test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3359">
               <a:s>/*
  @dataElement: ANC.B9.DE116 Urine test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of urine test that was done. Of the three types of tests, the midstream urine culture is the preferred method. If culture is not available, then midstream Gram-staining test is preferred over dipstick. Urine dipstick test is required if need to check urine for protein.
*/
define &quot;Urine test type&quot;:
  </a:s>
               <a:s r="3358">
                  <a:s>
                     <a:s r="3326">
                        <a:s r="3325">
                           <a:s r="3325">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Urine test type&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3352">
                     <a:s>where </a:s>
                     <a:s r="3352">
                        <a:s r="3342">
                           <a:s r="3333">
                              <a:s r="3328">
                                 <a:s r="3327">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="3328">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="3332">
                                 <a:s>{ </a:s>
                                 <a:s r="3329">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3330">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3331">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="3341">
                              <a:s r="3340">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="3338">
                                    <a:s r="3337">
                                       <a:s r="3334">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3337">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="3335">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3336">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3338">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="3339">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="3351">
                           <a:s r="3348">
                              <a:s>Last(</a:s>
                              <a:s r="3347">
                                 <a:s>Split(</a:s>
                                 <a:s r="3345">
                                    <a:s r="3344">
                                       <a:s r="3343">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3344">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3345">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3346">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="3350">
                              <a:s r="3349">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="3350">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3357">
                     <a:s>return </a:s>
                     <a:s r="3356">
                        <a:s r="3354">
                           <a:s r="3353">
                              <a:s>O</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="3354">
                              <a:s>value</a:s>
                           </a:s>
                        </a:s>
                        <a:s> as </a:s>
                        <a:s r="3355">
                           <a:s>FHIR.CodeableConcept</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3358" locator="1419:3-1423:42" xsi:type="Query">
            <source localId="3326" locator="1419:3-1419:39" alias="O">
               <expression localId="3325" locator="1419:3-1419:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1419:17-1419:36" name="Urine test type" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="3352" locator="1420:5-1422:64" xsi:type="And">
               <operand localId="3342" locator="1420:11-1421:80" xsi:type="And">
                  <operand localId="3333" locator="1420:11-1420:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="3328" locator="1420:11-1420:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="3332" locator="1420:23-1420:57" xsi:type="List">
                        <element localId="3329" locator="1420:25-1420:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="3330" locator="1420:34-1420:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="3331" locator="1420:45-1420:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="3341" locator="1421:11-1421:80" xsi:type="IsFalse">
                     <operand localId="3340" locator="1421:11-1421:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="3338" locator="1421:20-1421:63" path="value" xsi:type="Property">
                                 <source localId="3337" locator="1421:20-1421:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="3335" locator="1421:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="3336" locator="1421:44-1421:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3339" locator="1421:66-1421:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="3351" locator="1422:11-1422:64" xsi:type="Equal">
                  <operand localId="3348" locator="1422:11-1422:49" xsi:type="Last">
                     <source localId="3347" locator="1422:16-1422:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3345" locator="1422:22-1422:42" path="reference" xsi:type="Property">
                              <source localId="3344" locator="1422:22-1422:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="3346" locator="1422:45-1422:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="3350" locator="1422:53-1422:64" path="id" xsi:type="Property">
                        <source localId="3349" locator="1422:53-1422:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="3357" locator="1423:5-1423:42">
               <expression localId="3356" locator="1423:12-1423:42" strict="false" xsi:type="As">
                  <operand localId="3354" locator="1423:12-1423:18" path="value" scope="O" xsi:type="Property"/>
                  <asTypeSpecifier localId="3355" locator="1423:23-1423:42" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="3380" locator="1431:1-1435:19" name="Reason urine test not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3380">
               <a:s>/*
  @dataElement: ANC.B9.DE120 Reason urine test not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why a urine test was not done at this contact
*/
define &quot;Reason urine test not done&quot;:
  </a:s>
               <a:s r="3379">
                  <a:s>
                     <a:s r="3361">
                        <a:s r="3360">
                           <a:s r="3360">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason urine test not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3375">
                     <a:s>where </a:s>
                     <a:s r="3375">
                        <a:s r="3365">
                           <a:s r="3363">
                              <a:s r="3362">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="3363">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="3364">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="3374">
                           <a:s r="3371">
                              <a:s>Last(</a:s>
                              <a:s r="3370">
                                 <a:s>Split(</a:s>
                                 <a:s r="3368">
                                    <a:s r="3367">
                                       <a:s r="3366">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3367">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="3368">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="3369">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="3373">
                              <a:s r="3372">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="3373">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="3378">
                     <a:s>return </a:s>
                     <a:s r="3377">
                        <a:s r="3376">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3377">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3379" locator="1432:3-1435:19" xsi:type="Query">
            <source localId="3361" locator="1432:3-1432:50" alias="PND">
               <expression localId="3360" locator="1432:3-1432:46" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1432:15-1432:45" name="Reason urine test not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="3375" locator="1433:5-1434:66" xsi:type="And">
               <operand localId="3365" locator="1433:11-1433:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="3363" locator="1433:11-1433:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="3364" locator="1433:24-1433:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="3374" locator="1434:11-1434:66" xsi:type="Equal">
                  <operand localId="3371" locator="1434:11-1434:51" xsi:type="Last">
                     <source localId="3370" locator="1434:16-1434:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3368" locator="1434:22-1434:44" path="reference" xsi:type="Property">
                              <source localId="3367" locator="1434:22-1434:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="3369" locator="1434:47-1434:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="3373" locator="1434:55-1434:66" path="id" xsi:type="Property">
                        <source localId="3372" locator="1434:55-1434:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="3378" locator="1435:5-1435:19">
               <expression localId="3377" locator="1435:12-1435:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="3415" locator="1443:1-1449:33" name="Midstream urine culture (recommended)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3415">
               <a:s>/*
  @dataElement: ANC.B9.DE124 Midstream urine culture (recommended)
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Midstream urine culture is the recommended method for diagnosing asymptomatic bacteriuria (ASB) in pregnancy
*/
define &quot;Midstream urine culture (recommended)&quot;:
  </a:s>
               <a:s r="3414">
                  <a:s r="3412">
                     <a:s r="3411">
                        <a:s r="3381">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3411">
                           <a:s>Only(
  </a:s>
                           <a:s r="3410">
                              <a:s>
                                 <a:s r="3383">
                                    <a:s r="3382">
                                       <a:s r="3382">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Midstream urine culture (recommended)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3409">
                                 <a:s>where </a:s>
                                 <a:s r="3409">
                                    <a:s r="3399">
                                       <a:s r="3390">
                                          <a:s r="3385">
                                             <a:s r="3384">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3385">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3389">
                                             <a:s>{ </a:s>
                                             <a:s r="3386">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3387">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3388">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3398">
                                          <a:s r="3397">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3395">
                                                <a:s r="3394">
                                                   <a:s r="3391">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3394">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3392">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3393">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3395">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3396">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3408">
                                       <a:s r="3405">
                                          <a:s>Last(</a:s>
                                          <a:s r="3404">
                                             <a:s>Split(</a:s>
                                             <a:s r="3402">
                                                <a:s r="3401">
                                                   <a:s r="3400">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3401">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3402">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3403">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3407">
                                          <a:s r="3406">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3407">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3412">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3413">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3414" locator="1444:3-1449:33" strict="false" xsi:type="As">
            <operand localId="3412" locator="1444:3-1449:9" path="value" xsi:type="Property">
               <source localId="3411" locator="1444:3-1449:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3410" locator="1445:3-1448:64" xsi:type="Query">
                     <source localId="3383" locator="1445:3-1445:61" alias="O">
                        <expression localId="3382" locator="1445:3-1445:59" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1445:17-1445:58" name="Midstream urine culture (recommended)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3409" locator="1446:5-1448:64" xsi:type="And">
                        <operand localId="3399" locator="1446:11-1447:80" xsi:type="And">
                           <operand localId="3390" locator="1446:11-1446:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3385" locator="1446:11-1446:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3389" locator="1446:23-1446:57" xsi:type="List">
                                 <element localId="3386" locator="1446:25-1446:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3387" locator="1446:34-1446:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3388" locator="1446:45-1446:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3398" locator="1447:11-1447:80" xsi:type="IsFalse">
                              <operand localId="3397" locator="1447:11-1447:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3395" locator="1447:20-1447:63" path="value" xsi:type="Property">
                                          <source localId="3394" locator="1447:20-1447:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3392" locator="1447:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3393" locator="1447:44-1447:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3396" locator="1447:66-1447:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3408" locator="1448:11-1448:64" xsi:type="Equal">
                           <operand localId="3405" locator="1448:11-1448:49" xsi:type="Last">
                              <source localId="3404" locator="1448:16-1448:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3402" locator="1448:22-1448:42" path="reference" xsi:type="Property">
                                       <source localId="3401" locator="1448:22-1448:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3403" locator="1448:45-1448:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3407" locator="1448:53-1448:64" path="id" xsi:type="Property">
                                 <source localId="3406" locator="1448:53-1448:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3413" locator="1449:14-1449:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3450" locator="1457:1-1463:33" name="Midstream urine Gram-staining" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3450">
               <a:s>/*
  @dataElement: ANC.B9.DE129 Midstream urine Gram-staining
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: On-site midstream urine Gram-staining is recommended over the use of dipstick tests as the method for diagnosing ASB in pregnancy if midstream culture is not possible
*/
define &quot;Midstream urine Gram-staining&quot;:
  </a:s>
               <a:s r="3449">
                  <a:s r="3447">
                     <a:s r="3446">
                        <a:s r="3416">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3446">
                           <a:s>Only(
  </a:s>
                           <a:s r="3445">
                              <a:s>
                                 <a:s r="3418">
                                    <a:s r="3417">
                                       <a:s r="3417">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Midstream urine Gram-staining&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3444">
                                 <a:s>where </a:s>
                                 <a:s r="3444">
                                    <a:s r="3434">
                                       <a:s r="3425">
                                          <a:s r="3420">
                                             <a:s r="3419">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3420">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3424">
                                             <a:s>{ </a:s>
                                             <a:s r="3421">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3422">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3423">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3433">
                                          <a:s r="3432">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3430">
                                                <a:s r="3429">
                                                   <a:s r="3426">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3429">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3427">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3428">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3430">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3431">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3443">
                                       <a:s r="3440">
                                          <a:s>Last(</a:s>
                                          <a:s r="3439">
                                             <a:s>Split(</a:s>
                                             <a:s r="3437">
                                                <a:s r="3436">
                                                   <a:s r="3435">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3436">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3437">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3438">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3442">
                                          <a:s r="3441">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3442">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3447">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3448">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3449" locator="1458:3-1463:33" strict="false" xsi:type="As">
            <operand localId="3447" locator="1458:3-1463:9" path="value" xsi:type="Property">
               <source localId="3446" locator="1458:3-1463:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3445" locator="1459:3-1462:64" xsi:type="Query">
                     <source localId="3418" locator="1459:3-1459:53" alias="O">
                        <expression localId="3417" locator="1459:3-1459:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1459:17-1459:50" name="Midstream urine Gram-staining" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3444" locator="1460:5-1462:64" xsi:type="And">
                        <operand localId="3434" locator="1460:11-1461:80" xsi:type="And">
                           <operand localId="3425" locator="1460:11-1460:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3420" locator="1460:11-1460:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3424" locator="1460:23-1460:57" xsi:type="List">
                                 <element localId="3421" locator="1460:25-1460:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3422" locator="1460:34-1460:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3423" locator="1460:45-1460:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3433" locator="1461:11-1461:80" xsi:type="IsFalse">
                              <operand localId="3432" locator="1461:11-1461:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3430" locator="1461:20-1461:63" path="value" xsi:type="Property">
                                          <source localId="3429" locator="1461:20-1461:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3427" locator="1461:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3428" locator="1461:44-1461:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3431" locator="1461:66-1461:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3443" locator="1462:11-1462:64" xsi:type="Equal">
                           <operand localId="3440" locator="1462:11-1462:49" xsi:type="Last">
                              <source localId="3439" locator="1462:16-1462:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3437" locator="1462:22-1462:42" path="reference" xsi:type="Property">
                                       <source localId="3436" locator="1462:22-1462:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3438" locator="1462:45-1462:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3442" locator="1462:53-1462:64" path="id" xsi:type="Property">
                                 <source localId="3441" locator="1462:53-1462:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3448" locator="1463:14-1463:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3485" locator="1471:1-1477:33" name="Placenta location" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3485">
               <a:s>/*
  @dataElement: ANC.B9.DE13 Placenta location
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Location of the placenta detected during the ultrasound
*/
define &quot;Placenta location&quot;:
  </a:s>
               <a:s r="3484">
                  <a:s r="3482">
                     <a:s r="3481">
                        <a:s r="3451">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3481">
                           <a:s>Only(
  </a:s>
                           <a:s r="3480">
                              <a:s>
                                 <a:s r="3453">
                                    <a:s r="3452">
                                       <a:s r="3452">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Placenta location&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3479">
                                 <a:s>where </a:s>
                                 <a:s r="3479">
                                    <a:s r="3469">
                                       <a:s r="3460">
                                          <a:s r="3455">
                                             <a:s r="3454">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3455">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3459">
                                             <a:s>{ </a:s>
                                             <a:s r="3456">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3457">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3458">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3468">
                                          <a:s r="3467">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3465">
                                                <a:s r="3464">
                                                   <a:s r="3461">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3464">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3462">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3463">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3465">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3466">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3478">
                                       <a:s r="3475">
                                          <a:s>Last(</a:s>
                                          <a:s r="3474">
                                             <a:s>Split(</a:s>
                                             <a:s r="3472">
                                                <a:s r="3471">
                                                   <a:s r="3470">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3471">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3472">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3473">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3477">
                                          <a:s r="3476">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3477">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3482">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3483">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3484" locator="1472:3-1477:33" strict="false" xsi:type="As">
            <operand localId="3482" locator="1472:3-1477:9" path="value" xsi:type="Property">
               <source localId="3481" locator="1472:3-1477:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3480" locator="1473:3-1476:64" xsi:type="Query">
                     <source localId="3453" locator="1473:3-1473:41" alias="O">
                        <expression localId="3452" locator="1473:3-1473:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1473:17-1473:38" name="Placenta location" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3479" locator="1474:5-1476:64" xsi:type="And">
                        <operand localId="3469" locator="1474:11-1475:80" xsi:type="And">
                           <operand localId="3460" locator="1474:11-1474:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3455" locator="1474:11-1474:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3459" locator="1474:23-1474:57" xsi:type="List">
                                 <element localId="3456" locator="1474:25-1474:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3457" locator="1474:34-1474:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3458" locator="1474:45-1474:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3468" locator="1475:11-1475:80" xsi:type="IsFalse">
                              <operand localId="3467" locator="1475:11-1475:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3465" locator="1475:20-1475:63" path="value" xsi:type="Property">
                                          <source localId="3464" locator="1475:20-1475:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3462" locator="1475:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3463" locator="1475:44-1475:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3466" locator="1475:66-1475:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3478" locator="1476:11-1476:64" xsi:type="Equal">
                           <operand localId="3475" locator="1476:11-1476:49" xsi:type="Last">
                              <source localId="3474" locator="1476:16-1476:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3472" locator="1476:22-1476:42" path="reference" xsi:type="Property">
                                       <source localId="3471" locator="1476:22-1476:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3473" locator="1476:45-1476:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3477" locator="1476:53-1476:64" path="id" xsi:type="Property">
                                 <source localId="3476" locator="1476:53-1476:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3483" locator="1477:14-1477:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3520" locator="1485:1-1491:33" name="Urine dipstick result - nitrites" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3520">
               <a:s>/*
  @dataElement: ANC.B9.DE132 Urine dipstick result - nitrites
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Dipstick test results â€“ nitrites
*/
define &quot;Urine dipstick result - nitrites&quot;:
  </a:s>
               <a:s r="3519">
                  <a:s r="3517">
                     <a:s r="3516">
                        <a:s r="3486">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3516">
                           <a:s>Only(
  </a:s>
                           <a:s r="3515">
                              <a:s>
                                 <a:s r="3488">
                                    <a:s r="3487">
                                       <a:s r="3487">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Urine dipstick result - nitrites&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3514">
                                 <a:s>where </a:s>
                                 <a:s r="3514">
                                    <a:s r="3504">
                                       <a:s r="3495">
                                          <a:s r="3490">
                                             <a:s r="3489">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3490">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3494">
                                             <a:s>{ </a:s>
                                             <a:s r="3491">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3492">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3493">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3503">
                                          <a:s r="3502">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3500">
                                                <a:s r="3499">
                                                   <a:s r="3496">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3499">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3497">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3498">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3500">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3501">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3513">
                                       <a:s r="3510">
                                          <a:s>Last(</a:s>
                                          <a:s r="3509">
                                             <a:s>Split(</a:s>
                                             <a:s r="3507">
                                                <a:s r="3506">
                                                   <a:s r="3505">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3506">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3507">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3508">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3512">
                                          <a:s r="3511">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3512">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3517">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3518">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3519" locator="1486:3-1491:33" strict="false" xsi:type="As">
            <operand localId="3517" locator="1486:3-1491:9" path="value" xsi:type="Property">
               <source localId="3516" locator="1486:3-1491:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3515" locator="1487:3-1490:64" xsi:type="Query">
                     <source localId="3488" locator="1487:3-1487:56" alias="O">
                        <expression localId="3487" locator="1487:3-1487:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1487:17-1487:53" name="Urine dipstick result - nitrites" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3514" locator="1488:5-1490:64" xsi:type="And">
                        <operand localId="3504" locator="1488:11-1489:80" xsi:type="And">
                           <operand localId="3495" locator="1488:11-1488:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3490" locator="1488:11-1488:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3494" locator="1488:23-1488:57" xsi:type="List">
                                 <element localId="3491" locator="1488:25-1488:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3492" locator="1488:34-1488:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3493" locator="1488:45-1488:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3503" locator="1489:11-1489:80" xsi:type="IsFalse">
                              <operand localId="3502" locator="1489:11-1489:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3500" locator="1489:20-1489:63" path="value" xsi:type="Property">
                                          <source localId="3499" locator="1489:20-1489:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3497" locator="1489:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3498" locator="1489:44-1489:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3501" locator="1489:66-1489:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3513" locator="1490:11-1490:64" xsi:type="Equal">
                           <operand localId="3510" locator="1490:11-1490:49" xsi:type="Last">
                              <source localId="3509" locator="1490:16-1490:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3507" locator="1490:22-1490:42" path="reference" xsi:type="Property">
                                       <source localId="3506" locator="1490:22-1490:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3508" locator="1490:45-1490:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3512" locator="1490:53-1490:64" path="id" xsi:type="Property">
                                 <source localId="3511" locator="1490:53-1490:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3518" locator="1491:14-1491:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3555" locator="1499:1-1505:33" name="Urine dipstick result - leukocytes" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3555">
               <a:s>/*
  @dataElement: ANC.B9.DE138 Urine dipstick result - leukocytes
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Dipstick test results â€“ leukocytes
*/
define &quot;Urine dipstick result - leukocytes&quot;:
  </a:s>
               <a:s r="3554">
                  <a:s r="3552">
                     <a:s r="3551">
                        <a:s r="3521">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3551">
                           <a:s>Only(
  </a:s>
                           <a:s r="3550">
                              <a:s>
                                 <a:s r="3523">
                                    <a:s r="3522">
                                       <a:s r="3522">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Urine dipstick result - leukocytes&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3549">
                                 <a:s>where </a:s>
                                 <a:s r="3549">
                                    <a:s r="3539">
                                       <a:s r="3530">
                                          <a:s r="3525">
                                             <a:s r="3524">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3525">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3529">
                                             <a:s>{ </a:s>
                                             <a:s r="3526">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3527">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3528">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3538">
                                          <a:s r="3537">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3535">
                                                <a:s r="3534">
                                                   <a:s r="3531">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3534">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3532">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3533">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3535">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3536">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3548">
                                       <a:s r="3545">
                                          <a:s>Last(</a:s>
                                          <a:s r="3544">
                                             <a:s>Split(</a:s>
                                             <a:s r="3542">
                                                <a:s r="3541">
                                                   <a:s r="3540">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3541">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3542">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3543">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3547">
                                          <a:s r="3546">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3547">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3552">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3553">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3554" locator="1500:3-1505:33" strict="false" xsi:type="As">
            <operand localId="3552" locator="1500:3-1505:9" path="value" xsi:type="Property">
               <source localId="3551" locator="1500:3-1505:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3550" locator="1501:3-1504:64" xsi:type="Query">
                     <source localId="3523" locator="1501:3-1501:58" alias="O">
                        <expression localId="3522" locator="1501:3-1501:56" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1501:17-1501:55" name="Urine dipstick result - leukocytes" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3549" locator="1502:5-1504:64" xsi:type="And">
                        <operand localId="3539" locator="1502:11-1503:80" xsi:type="And">
                           <operand localId="3530" locator="1502:11-1502:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3525" locator="1502:11-1502:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3529" locator="1502:23-1502:57" xsi:type="List">
                                 <element localId="3526" locator="1502:25-1502:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3527" locator="1502:34-1502:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3528" locator="1502:45-1502:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3538" locator="1503:11-1503:80" xsi:type="IsFalse">
                              <operand localId="3537" locator="1503:11-1503:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3535" locator="1503:20-1503:63" path="value" xsi:type="Property">
                                          <source localId="3534" locator="1503:20-1503:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3532" locator="1503:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3533" locator="1503:44-1503:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3536" locator="1503:66-1503:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3548" locator="1504:11-1504:64" xsi:type="Equal">
                           <operand localId="3545" locator="1504:11-1504:49" xsi:type="Last">
                              <source localId="3544" locator="1504:16-1504:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3542" locator="1504:22-1504:42" path="reference" xsi:type="Property">
                                       <source localId="3541" locator="1504:22-1504:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3543" locator="1504:45-1504:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3547" locator="1504:53-1504:64" path="id" xsi:type="Property">
                                 <source localId="3546" locator="1504:53-1504:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3553" locator="1505:14-1505:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3590" locator="1513:1-1519:33" name="Urine dipstick result - protein" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3590">
               <a:s>/*
  @dataElement: ANC.B9.DE144 Urine dipstick result - protein
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Enter the result for the dipstick test â€“ protein
*/
define &quot;Urine dipstick result - protein&quot;:
  </a:s>
               <a:s r="3589">
                  <a:s r="3587">
                     <a:s r="3586">
                        <a:s r="3556">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3586">
                           <a:s>Only(
  </a:s>
                           <a:s r="3585">
                              <a:s>
                                 <a:s r="3558">
                                    <a:s r="3557">
                                       <a:s r="3557">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Urine dipstick result - protein&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3584">
                                 <a:s>where </a:s>
                                 <a:s r="3584">
                                    <a:s r="3574">
                                       <a:s r="3565">
                                          <a:s r="3560">
                                             <a:s r="3559">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3560">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3564">
                                             <a:s>{ </a:s>
                                             <a:s r="3561">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3562">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3563">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3573">
                                          <a:s r="3572">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3570">
                                                <a:s r="3569">
                                                   <a:s r="3566">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3569">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3567">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3568">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3570">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3571">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3583">
                                       <a:s r="3580">
                                          <a:s>Last(</a:s>
                                          <a:s r="3579">
                                             <a:s>Split(</a:s>
                                             <a:s r="3577">
                                                <a:s r="3576">
                                                   <a:s r="3575">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3576">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3577">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3578">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3582">
                                          <a:s r="3581">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3582">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3587">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3588">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3589" locator="1514:3-1519:33" strict="false" xsi:type="As">
            <operand localId="3587" locator="1514:3-1519:9" path="value" xsi:type="Property">
               <source localId="3586" locator="1514:3-1519:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3585" locator="1515:3-1518:64" xsi:type="Query">
                     <source localId="3558" locator="1515:3-1515:55" alias="O">
                        <expression localId="3557" locator="1515:3-1515:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1515:17-1515:52" name="Urine dipstick result - protein" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3584" locator="1516:5-1518:64" xsi:type="And">
                        <operand localId="3574" locator="1516:11-1517:80" xsi:type="And">
                           <operand localId="3565" locator="1516:11-1516:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3560" locator="1516:11-1516:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3564" locator="1516:23-1516:57" xsi:type="List">
                                 <element localId="3561" locator="1516:25-1516:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3562" locator="1516:34-1516:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3563" locator="1516:45-1516:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3573" locator="1517:11-1517:80" xsi:type="IsFalse">
                              <operand localId="3572" locator="1517:11-1517:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3570" locator="1517:20-1517:63" path="value" xsi:type="Property">
                                          <source localId="3569" locator="1517:20-1517:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3567" locator="1517:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3568" locator="1517:44-1517:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3571" locator="1517:66-1517:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3583" locator="1518:11-1518:64" xsi:type="Equal">
                           <operand localId="3580" locator="1518:11-1518:49" xsi:type="Last">
                              <source localId="3579" locator="1518:16-1518:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3577" locator="1518:22-1518:42" path="reference" xsi:type="Property">
                                       <source localId="3576" locator="1518:22-1518:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3578" locator="1518:45-1518:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3582" locator="1518:53-1518:64" path="id" xsi:type="Property">
                                 <source localId="3581" locator="1518:53-1518:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3588" locator="1519:14-1519:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3625" locator="1527:1-1533:33" name="Urine dipstick result - glucose" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3625">
               <a:s>/*
  @dataElement: ANC.B9.DE150 Urine dipstick result - glucose
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Dipstick test results â€“ glucose
*/
define &quot;Urine dipstick result - glucose&quot;:
  </a:s>
               <a:s r="3624">
                  <a:s r="3622">
                     <a:s r="3621">
                        <a:s r="3591">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3621">
                           <a:s>Only(
  </a:s>
                           <a:s r="3620">
                              <a:s>
                                 <a:s r="3593">
                                    <a:s r="3592">
                                       <a:s r="3592">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Urine dipstick result - glucose&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3619">
                                 <a:s>where </a:s>
                                 <a:s r="3619">
                                    <a:s r="3609">
                                       <a:s r="3600">
                                          <a:s r="3595">
                                             <a:s r="3594">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3595">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3599">
                                             <a:s>{ </a:s>
                                             <a:s r="3596">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3597">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3598">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3608">
                                          <a:s r="3607">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3605">
                                                <a:s r="3604">
                                                   <a:s r="3601">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3604">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3602">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3603">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3605">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3606">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3618">
                                       <a:s r="3615">
                                          <a:s>Last(</a:s>
                                          <a:s r="3614">
                                             <a:s>Split(</a:s>
                                             <a:s r="3612">
                                                <a:s r="3611">
                                                   <a:s r="3610">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3611">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3612">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3613">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3617">
                                          <a:s r="3616">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3617">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3622">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3623">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3624" locator="1528:3-1533:33" strict="false" xsi:type="As">
            <operand localId="3622" locator="1528:3-1533:9" path="value" xsi:type="Property">
               <source localId="3621" locator="1528:3-1533:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3620" locator="1529:3-1532:64" xsi:type="Query">
                     <source localId="3593" locator="1529:3-1529:55" alias="O">
                        <expression localId="3592" locator="1529:3-1529:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1529:17-1529:52" name="Urine dipstick result - glucose" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3619" locator="1530:5-1532:64" xsi:type="And">
                        <operand localId="3609" locator="1530:11-1531:80" xsi:type="And">
                           <operand localId="3600" locator="1530:11-1530:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3595" locator="1530:11-1530:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3599" locator="1530:23-1530:57" xsi:type="List">
                                 <element localId="3596" locator="1530:25-1530:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3597" locator="1530:34-1530:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3598" locator="1530:45-1530:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3608" locator="1531:11-1531:80" xsi:type="IsFalse">
                              <operand localId="3607" locator="1531:11-1531:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3605" locator="1531:20-1531:63" path="value" xsi:type="Property">
                                          <source localId="3604" locator="1531:20-1531:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3602" locator="1531:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3603" locator="1531:44-1531:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3606" locator="1531:66-1531:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3618" locator="1532:11-1532:64" xsi:type="Equal">
                           <operand localId="3615" locator="1532:11-1532:49" xsi:type="Last">
                              <source localId="3614" locator="1532:16-1532:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3612" locator="1532:22-1532:42" path="reference" xsi:type="Property">
                                       <source localId="3611" locator="1532:22-1532:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3613" locator="1532:45-1532:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3617" locator="1532:53-1532:64" path="id" xsi:type="Property">
                                 <source localId="3616" locator="1532:53-1532:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3623" locator="1533:14-1533:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3660" locator="1541:1-1547:33" name="Asymptomatic bacteriuria (ASB) diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3660">
               <a:s>/*
  @dataElement: ANC.B9.DE156 Asymptomatic bacteriuria (ASB) diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: A woman is considered to have ASB if she has one of the following test results:?â€“ Positive culture (> 100,000 bacteria/mL)?â€“ Gram-staining positive?â€“ Urine dipstick test positive (nitrites or leukocytes)
*/
define &quot;Asymptomatic bacteriuria (ASB) diagnosis&quot;:
  </a:s>
               <a:s r="3659">
                  <a:s r="3657">
                     <a:s r="3656">
                        <a:s r="3626">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3656">
                           <a:s>Only(
  </a:s>
                           <a:s r="3655">
                              <a:s>
                                 <a:s r="3628">
                                    <a:s r="3627">
                                       <a:s r="3627">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Asymptomatic bacteriuria (ASB) diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3654">
                                 <a:s>where </a:s>
                                 <a:s r="3654">
                                    <a:s r="3644">
                                       <a:s r="3635">
                                          <a:s r="3630">
                                             <a:s r="3629">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3630">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3634">
                                             <a:s>{ </a:s>
                                             <a:s r="3631">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3632">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3633">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3643">
                                          <a:s r="3642">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3640">
                                                <a:s r="3639">
                                                   <a:s r="3636">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3639">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3637">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3638">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3640">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3641">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3653">
                                       <a:s r="3650">
                                          <a:s>Last(</a:s>
                                          <a:s r="3649">
                                             <a:s>Split(</a:s>
                                             <a:s r="3647">
                                                <a:s r="3646">
                                                   <a:s r="3645">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3646">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3647">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3648">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3652">
                                          <a:s r="3651">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3652">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3657">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3658">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3659" locator="1542:3-1547:33" strict="false" xsi:type="As">
            <operand localId="3657" locator="1542:3-1547:9" path="value" xsi:type="Property">
               <source localId="3656" locator="1542:3-1547:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3655" locator="1543:3-1546:64" xsi:type="Query">
                     <source localId="3628" locator="1543:3-1543:64" alias="O">
                        <expression localId="3627" locator="1543:3-1543:62" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1543:17-1543:61" name="Asymptomatic bacteriuria (ASB) diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3654" locator="1544:5-1546:64" xsi:type="And">
                        <operand localId="3644" locator="1544:11-1545:80" xsi:type="And">
                           <operand localId="3635" locator="1544:11-1544:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3630" locator="1544:11-1544:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3634" locator="1544:23-1544:57" xsi:type="List">
                                 <element localId="3631" locator="1544:25-1544:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3632" locator="1544:34-1544:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3633" locator="1544:45-1544:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3643" locator="1545:11-1545:80" xsi:type="IsFalse">
                              <operand localId="3642" locator="1545:11-1545:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3640" locator="1545:20-1545:63" path="value" xsi:type="Property">
                                          <source localId="3639" locator="1545:20-1545:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3637" locator="1545:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3638" locator="1545:44-1545:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3641" locator="1545:66-1545:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3653" locator="1546:11-1546:64" xsi:type="Equal">
                           <operand localId="3650" locator="1546:11-1546:49" xsi:type="Last">
                              <source localId="3649" locator="1546:16-1546:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3647" locator="1546:22-1546:42" path="reference" xsi:type="Property">
                                       <source localId="3646" locator="1546:22-1546:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3648" locator="1546:45-1546:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3652" locator="1546:53-1546:64" path="id" xsi:type="Property">
                                 <source localId="3651" locator="1546:53-1546:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3658" locator="1547:14-1547:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3691" locator="1555:1-1561:8" name="Blood glucose test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3691">
               <a:s>/*
  @dataElement: ANC.B9.DE160 Blood glucose test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Blood glucose test has been ordered
*/
define &quot;Blood glucose test ordered&quot;:
  </a:s>
               <a:s r="3690">
                  <a:s r="3689">
                     <a:s r="3661">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3689">
                        <a:s>Only(
  </a:s>
                        <a:s r="3688">
                           <a:s>
                              <a:s r="3663">
                                 <a:s r="3662">
                                    <a:s r="3662">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Blood glucose test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="3687">
                              <a:s>where </a:s>
                              <a:s r="3687">
                                 <a:s r="3677">
                                    <a:s r="3671">
                                       <a:s r="3665">
                                          <a:s r="3664">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3665">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="3670">
                                          <a:s>{ </a:s>
                                          <a:s r="3666">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3667">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3668">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3669">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3676">
                                       <a:s r="3675">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="3673">
                                             <a:s r="3672">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3673">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="3674">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="3686">
                                    <a:s r="3683">
                                       <a:s>Last(</a:s>
                                       <a:s r="3682">
                                          <a:s>Split(</a:s>
                                          <a:s r="3680">
                                             <a:s r="3679">
                                                <a:s r="3678">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3679">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3680">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="3681">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="3685">
                                       <a:s r="3684">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="3685">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="3690">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3690" locator="1556:3-1561:8" path="code" xsi:type="Property">
            <source localId="3689" locator="1556:3-1561:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="3688" locator="1557:3-1560:65" xsi:type="Query">
                  <source localId="3663" locator="1557:3-1557:54" alias="SR">
                     <expression localId="3662" locator="1557:3-1557:51" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1557:20-1557:50" name="Blood glucose test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="3687" locator="1558:5-1560:65" xsi:type="And">
                     <operand localId="3677" locator="1558:11-1559:51" xsi:type="And">
                        <operand localId="3671" locator="1558:11-1558:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3665" locator="1558:11-1558:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="3670" locator="1558:24-1558:68" xsi:type="List">
                              <element localId="3666" locator="1558:26-1558:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="3667" locator="1558:35-1558:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="3668" locator="1558:45-1558:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="3669" locator="1558:56-1558:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="3676" locator="1559:11-1559:51" xsi:type="IsFalse">
                           <operand localId="3675" locator="1559:11-1559:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3673" locator="1559:20-1559:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="3674" locator="1559:37-1559:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="3686" locator="1560:11-1560:65" xsi:type="Equal">
                        <operand localId="3683" locator="1560:11-1560:50" xsi:type="Last">
                           <source localId="3682" locator="1560:16-1560:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3680" locator="1560:22-1560:43" path="reference" xsi:type="Property">
                                    <source localId="3679" locator="1560:22-1560:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="3681" locator="1560:46-1560:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="3685" locator="1560:54-1560:65" path="id" xsi:type="Property">
                              <source localId="3684" locator="1560:54-1560:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="3726" locator="1569:1-1575:33" name="Blood glucose test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3726">
               <a:s>/*
  @dataElement: ANC.B9.DE162 Blood glucose test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of blood glucose test done
*/
define &quot;Blood glucose test type&quot;:
  </a:s>
               <a:s r="3725">
                  <a:s r="3723">
                     <a:s r="3722">
                        <a:s r="3692">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3722">
                           <a:s>Only(
  </a:s>
                           <a:s r="3721">
                              <a:s>
                                 <a:s r="3694">
                                    <a:s r="3693">
                                       <a:s r="3693">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood glucose test type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3720">
                                 <a:s>where </a:s>
                                 <a:s r="3720">
                                    <a:s r="3710">
                                       <a:s r="3701">
                                          <a:s r="3696">
                                             <a:s r="3695">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3696">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3700">
                                             <a:s>{ </a:s>
                                             <a:s r="3697">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3698">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3699">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3709">
                                          <a:s r="3708">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3706">
                                                <a:s r="3705">
                                                   <a:s r="3702">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3705">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3703">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3704">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3706">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3707">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3719">
                                       <a:s r="3716">
                                          <a:s>Last(</a:s>
                                          <a:s r="3715">
                                             <a:s>Split(</a:s>
                                             <a:s r="3713">
                                                <a:s r="3712">
                                                   <a:s r="3711">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3712">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3713">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3714">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3718">
                                          <a:s r="3717">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3718">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3723">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3724">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3725" locator="1570:3-1575:33" strict="false" xsi:type="As">
            <operand localId="3723" locator="1570:3-1575:9" path="value" xsi:type="Property">
               <source localId="3722" locator="1570:3-1575:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3721" locator="1571:3-1574:64" xsi:type="Query">
                     <source localId="3694" locator="1571:3-1571:47" alias="O">
                        <expression localId="3693" locator="1571:3-1571:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1571:17-1571:44" name="Blood glucose test type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3720" locator="1572:5-1574:64" xsi:type="And">
                        <operand localId="3710" locator="1572:11-1573:80" xsi:type="And">
                           <operand localId="3701" locator="1572:11-1572:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3696" locator="1572:11-1572:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3700" locator="1572:23-1572:57" xsi:type="List">
                                 <element localId="3697" locator="1572:25-1572:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3698" locator="1572:34-1572:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3699" locator="1572:45-1572:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3709" locator="1573:11-1573:80" xsi:type="IsFalse">
                              <operand localId="3708" locator="1573:11-1573:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3706" locator="1573:20-1573:63" path="value" xsi:type="Property">
                                          <source localId="3705" locator="1573:20-1573:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3703" locator="1573:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3704" locator="1573:44-1573:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3707" locator="1573:66-1573:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3719" locator="1574:11-1574:64" xsi:type="Equal">
                           <operand localId="3716" locator="1574:11-1574:49" xsi:type="Last">
                              <source localId="3715" locator="1574:16-1574:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3713" locator="1574:22-1574:42" path="reference" xsi:type="Property">
                                       <source localId="3712" locator="1574:22-1574:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3714" locator="1574:45-1574:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3718" locator="1574:53-1574:64" path="id" xsi:type="Property">
                                 <source localId="3717" locator="1574:53-1574:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3724" locator="1575:14-1575:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3761" locator="1583:1-1589:26" name="Fasting plasma glucose" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3761">
               <a:s>/*
  @dataElement: ANC.B9.DE163 Fasting plasma glucose
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Fasting plasma glucose
*/
define &quot;Fasting plasma glucose&quot;:
  </a:s>
               <a:s r="3760">
                  <a:s r="3758">
                     <a:s r="3757">
                        <a:s r="3727">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3757">
                           <a:s>Only(
  </a:s>
                           <a:s r="3756">
                              <a:s>
                                 <a:s r="3729">
                                    <a:s r="3728">
                                       <a:s r="3728">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Fasting plasma glucose&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3755">
                                 <a:s>where </a:s>
                                 <a:s r="3755">
                                    <a:s r="3745">
                                       <a:s r="3736">
                                          <a:s r="3731">
                                             <a:s r="3730">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3731">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3735">
                                             <a:s>{ </a:s>
                                             <a:s r="3732">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3733">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3734">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3744">
                                          <a:s r="3743">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3741">
                                                <a:s r="3740">
                                                   <a:s r="3737">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3740">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3738">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3739">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3741">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3742">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3754">
                                       <a:s r="3751">
                                          <a:s>Last(</a:s>
                                          <a:s r="3750">
                                             <a:s>Split(</a:s>
                                             <a:s r="3748">
                                                <a:s r="3747">
                                                   <a:s r="3746">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3747">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3748">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3749">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3753">
                                          <a:s r="3752">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3753">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3758">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3759">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3760" locator="1584:3-1589:26" strict="false" xsi:type="As">
            <operand localId="3758" locator="1584:3-1589:9" path="value" xsi:type="Property">
               <source localId="3757" locator="1584:3-1589:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3756" locator="1585:3-1588:64" xsi:type="Query">
                     <source localId="3729" locator="1585:3-1585:46" alias="O">
                        <expression localId="3728" locator="1585:3-1585:44" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1585:17-1585:43" name="Fasting plasma glucose" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3755" locator="1586:5-1588:64" xsi:type="And">
                        <operand localId="3745" locator="1586:11-1587:80" xsi:type="And">
                           <operand localId="3736" locator="1586:11-1586:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3731" locator="1586:11-1586:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3735" locator="1586:23-1586:57" xsi:type="List">
                                 <element localId="3732" locator="1586:25-1586:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3733" locator="1586:34-1586:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3734" locator="1586:45-1586:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3744" locator="1587:11-1587:80" xsi:type="IsFalse">
                              <operand localId="3743" locator="1587:11-1587:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3741" locator="1587:20-1587:63" path="value" xsi:type="Property">
                                          <source localId="3740" locator="1587:20-1587:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3738" locator="1587:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3739" locator="1587:44-1587:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3742" locator="1587:66-1587:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3754" locator="1588:11-1588:64" xsi:type="Equal">
                           <operand localId="3751" locator="1588:11-1588:49" xsi:type="Last">
                              <source localId="3750" locator="1588:16-1588:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3748" locator="1588:22-1588:42" path="reference" xsi:type="Property">
                                       <source localId="3747" locator="1588:22-1588:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3749" locator="1588:45-1588:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3753" locator="1588:53-1588:64" path="id" xsi:type="Property">
                                 <source localId="3752" locator="1588:53-1588:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3759" locator="1589:14-1589:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3796" locator="1597:1-1603:26" name="75 g oral glucose tolerance test (OGTT) - fasting glucose" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3796">
               <a:s>/*
  @dataElement: ANC.B9.DE164 75 g oral glucose tolerance test (OGTT) - fasting glucose
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: 75 g oral glucose tolerance test (OGTT) â€“ fasting glucose
*/
define &quot;75 g oral glucose tolerance test (OGTT) - fasting glucose&quot;:
  </a:s>
               <a:s r="3795">
                  <a:s r="3793">
                     <a:s r="3792">
                        <a:s r="3762">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3792">
                           <a:s>Only(
  </a:s>
                           <a:s r="3791">
                              <a:s>
                                 <a:s r="3764">
                                    <a:s r="3763">
                                       <a:s r="3763">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;75 g oral glucose tolerance test (OGTT) - fasting glucose&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3790">
                                 <a:s>where </a:s>
                                 <a:s r="3790">
                                    <a:s r="3780">
                                       <a:s r="3771">
                                          <a:s r="3766">
                                             <a:s r="3765">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3766">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3770">
                                             <a:s>{ </a:s>
                                             <a:s r="3767">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3768">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3769">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3779">
                                          <a:s r="3778">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3776">
                                                <a:s r="3775">
                                                   <a:s r="3772">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3775">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3773">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3774">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3776">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3777">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3789">
                                       <a:s r="3786">
                                          <a:s>Last(</a:s>
                                          <a:s r="3785">
                                             <a:s>Split(</a:s>
                                             <a:s r="3783">
                                                <a:s r="3782">
                                                   <a:s r="3781">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3782">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3783">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3784">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3788">
                                          <a:s r="3787">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3788">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3793">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3794">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3795" locator="1598:3-1603:26" strict="false" xsi:type="As">
            <operand localId="3793" locator="1598:3-1603:9" path="value" xsi:type="Property">
               <source localId="3792" locator="1598:3-1603:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3791" locator="1599:3-1602:64" xsi:type="Query">
                     <source localId="3764" locator="1599:3-1599:81" alias="O">
                        <expression localId="3763" locator="1599:3-1599:79" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1599:17-1599:78" name="75 g oral glucose tolerance test (OGTT) - fasting glucose" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3790" locator="1600:5-1602:64" xsi:type="And">
                        <operand localId="3780" locator="1600:11-1601:80" xsi:type="And">
                           <operand localId="3771" locator="1600:11-1600:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3766" locator="1600:11-1600:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3770" locator="1600:23-1600:57" xsi:type="List">
                                 <element localId="3767" locator="1600:25-1600:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3768" locator="1600:34-1600:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3769" locator="1600:45-1600:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3779" locator="1601:11-1601:80" xsi:type="IsFalse">
                              <operand localId="3778" locator="1601:11-1601:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3776" locator="1601:20-1601:63" path="value" xsi:type="Property">
                                          <source localId="3775" locator="1601:20-1601:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3773" locator="1601:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3774" locator="1601:44-1601:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3777" locator="1601:66-1601:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3789" locator="1602:11-1602:64" xsi:type="Equal">
                           <operand localId="3786" locator="1602:11-1602:49" xsi:type="Last">
                              <source localId="3785" locator="1602:16-1602:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3783" locator="1602:22-1602:42" path="reference" xsi:type="Property">
                                       <source localId="3782" locator="1602:22-1602:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3784" locator="1602:45-1602:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3788" locator="1602:53-1602:64" path="id" xsi:type="Property">
                                 <source localId="3787" locator="1602:53-1602:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3794" locator="1603:14-1603:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3831" locator="1611:1-1617:26" name="75 g oral glucose tolerance test (OGTT) - 1 hour" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3831">
               <a:s>/*
  @dataElement: ANC.B9.DE165 75 g oral glucose tolerance test (OGTT) - 1 hour
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: 75 g oral glucose tolerance test (OGTT) â€“  1 hour
*/
define &quot;75 g oral glucose tolerance test (OGTT) - 1 hour&quot;:
  </a:s>
               <a:s r="3830">
                  <a:s r="3828">
                     <a:s r="3827">
                        <a:s r="3797">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3827">
                           <a:s>Only(
  </a:s>
                           <a:s r="3826">
                              <a:s>
                                 <a:s r="3799">
                                    <a:s r="3798">
                                       <a:s r="3798">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;75 g oral glucose tolerance test (OGTT) - 1 hour&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3825">
                                 <a:s>where </a:s>
                                 <a:s r="3825">
                                    <a:s r="3815">
                                       <a:s r="3806">
                                          <a:s r="3801">
                                             <a:s r="3800">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3801">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3805">
                                             <a:s>{ </a:s>
                                             <a:s r="3802">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3803">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3804">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3814">
                                          <a:s r="3813">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3811">
                                                <a:s r="3810">
                                                   <a:s r="3807">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3810">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3808">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3809">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3811">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3812">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3824">
                                       <a:s r="3821">
                                          <a:s>Last(</a:s>
                                          <a:s r="3820">
                                             <a:s>Split(</a:s>
                                             <a:s r="3818">
                                                <a:s r="3817">
                                                   <a:s r="3816">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3817">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3818">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3819">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3823">
                                          <a:s r="3822">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3823">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3828">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3829">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3830" locator="1612:3-1617:26" strict="false" xsi:type="As">
            <operand localId="3828" locator="1612:3-1617:9" path="value" xsi:type="Property">
               <source localId="3827" locator="1612:3-1617:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3826" locator="1613:3-1616:64" xsi:type="Query">
                     <source localId="3799" locator="1613:3-1613:72" alias="O">
                        <expression localId="3798" locator="1613:3-1613:70" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1613:17-1613:69" name="75 g oral glucose tolerance test (OGTT) - 1 hour" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3825" locator="1614:5-1616:64" xsi:type="And">
                        <operand localId="3815" locator="1614:11-1615:80" xsi:type="And">
                           <operand localId="3806" locator="1614:11-1614:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3801" locator="1614:11-1614:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3805" locator="1614:23-1614:57" xsi:type="List">
                                 <element localId="3802" locator="1614:25-1614:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3803" locator="1614:34-1614:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3804" locator="1614:45-1614:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3814" locator="1615:11-1615:80" xsi:type="IsFalse">
                              <operand localId="3813" locator="1615:11-1615:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3811" locator="1615:20-1615:63" path="value" xsi:type="Property">
                                          <source localId="3810" locator="1615:20-1615:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3808" locator="1615:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3809" locator="1615:44-1615:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3812" locator="1615:66-1615:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3824" locator="1616:11-1616:64" xsi:type="Equal">
                           <operand localId="3821" locator="1616:11-1616:49" xsi:type="Last">
                              <source localId="3820" locator="1616:16-1616:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3818" locator="1616:22-1616:42" path="reference" xsi:type="Property">
                                       <source localId="3817" locator="1616:22-1616:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3819" locator="1616:45-1616:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3823" locator="1616:53-1616:64" path="id" xsi:type="Property">
                                 <source localId="3822" locator="1616:53-1616:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3829" locator="1617:14-1617:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3866" locator="1625:1-1631:26" name="75 g oral glucose tolerance test (OGTT) - 2 hours" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3866">
               <a:s>/*
  @dataElement: ANC.B9.DE166 75 g oral glucose tolerance test (OGTT) - 2 hours
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: 75 g oral glucose tolerance test (OGTT) â€“ 2 hours
*/
define &quot;75 g oral glucose tolerance test (OGTT) - 2 hours&quot;:
  </a:s>
               <a:s r="3865">
                  <a:s r="3863">
                     <a:s r="3862">
                        <a:s r="3832">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3862">
                           <a:s>Only(
  </a:s>
                           <a:s r="3861">
                              <a:s>
                                 <a:s r="3834">
                                    <a:s r="3833">
                                       <a:s r="3833">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;75 g oral glucose tolerance test (OGTT) - 2 hours&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3860">
                                 <a:s>where </a:s>
                                 <a:s r="3860">
                                    <a:s r="3850">
                                       <a:s r="3841">
                                          <a:s r="3836">
                                             <a:s r="3835">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3836">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3840">
                                             <a:s>{ </a:s>
                                             <a:s r="3837">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3838">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3839">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3849">
                                          <a:s r="3848">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3846">
                                                <a:s r="3845">
                                                   <a:s r="3842">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3845">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3843">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3844">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3846">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3847">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3859">
                                       <a:s r="3856">
                                          <a:s>Last(</a:s>
                                          <a:s r="3855">
                                             <a:s>Split(</a:s>
                                             <a:s r="3853">
                                                <a:s r="3852">
                                                   <a:s r="3851">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3852">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3853">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3854">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3858">
                                          <a:s r="3857">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3858">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3863">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3864">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3865" locator="1626:3-1631:26" strict="false" xsi:type="As">
            <operand localId="3863" locator="1626:3-1631:9" path="value" xsi:type="Property">
               <source localId="3862" locator="1626:3-1631:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3861" locator="1627:3-1630:64" xsi:type="Query">
                     <source localId="3834" locator="1627:3-1627:73" alias="O">
                        <expression localId="3833" locator="1627:3-1627:71" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1627:17-1627:70" name="75 g oral glucose tolerance test (OGTT) - 2 hours" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3860" locator="1628:5-1630:64" xsi:type="And">
                        <operand localId="3850" locator="1628:11-1629:80" xsi:type="And">
                           <operand localId="3841" locator="1628:11-1628:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3836" locator="1628:11-1628:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3840" locator="1628:23-1628:57" xsi:type="List">
                                 <element localId="3837" locator="1628:25-1628:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3838" locator="1628:34-1628:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3839" locator="1628:45-1628:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3849" locator="1629:11-1629:80" xsi:type="IsFalse">
                              <operand localId="3848" locator="1629:11-1629:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3846" locator="1629:20-1629:63" path="value" xsi:type="Property">
                                          <source localId="3845" locator="1629:20-1629:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3843" locator="1629:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3844" locator="1629:44-1629:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3847" locator="1629:66-1629:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3859" locator="1630:11-1630:64" xsi:type="Equal">
                           <operand localId="3856" locator="1630:11-1630:49" xsi:type="Last">
                              <source localId="3855" locator="1630:16-1630:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3853" locator="1630:22-1630:42" path="reference" xsi:type="Property">
                                       <source localId="3852" locator="1630:22-1630:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3854" locator="1630:45-1630:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3858" locator="1630:53-1630:64" path="id" xsi:type="Property">
                                 <source localId="3857" locator="1630:53-1630:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3864" locator="1631:14-1631:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3901" locator="1639:1-1645:26" name="Random plasma glucose" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3901">
               <a:s>/*
  @dataElement: ANC.B9.DE167 Random plasma glucose
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Random plasma glucose
*/
define &quot;Random plasma glucose&quot;:
  </a:s>
               <a:s r="3900">
                  <a:s r="3898">
                     <a:s r="3897">
                        <a:s r="3867">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3897">
                           <a:s>Only(
  </a:s>
                           <a:s r="3896">
                              <a:s>
                                 <a:s r="3869">
                                    <a:s r="3868">
                                       <a:s r="3868">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Random plasma glucose&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3895">
                                 <a:s>where </a:s>
                                 <a:s r="3895">
                                    <a:s r="3885">
                                       <a:s r="3876">
                                          <a:s r="3871">
                                             <a:s r="3870">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3871">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3875">
                                             <a:s>{ </a:s>
                                             <a:s r="3872">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3873">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3874">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3884">
                                          <a:s r="3883">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3881">
                                                <a:s r="3880">
                                                   <a:s r="3877">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3880">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3878">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3879">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3881">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3882">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3894">
                                       <a:s r="3891">
                                          <a:s>Last(</a:s>
                                          <a:s r="3890">
                                             <a:s>Split(</a:s>
                                             <a:s r="3888">
                                                <a:s r="3887">
                                                   <a:s r="3886">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3887">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3888">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3889">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3893">
                                          <a:s r="3892">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3893">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3898">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3899">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3900" locator="1640:3-1645:26" strict="false" xsi:type="As">
            <operand localId="3898" locator="1640:3-1645:9" path="value" xsi:type="Property">
               <source localId="3897" locator="1640:3-1645:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3896" locator="1641:3-1644:64" xsi:type="Query">
                     <source localId="3869" locator="1641:3-1641:45" alias="O">
                        <expression localId="3868" locator="1641:3-1641:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1641:17-1641:42" name="Random plasma glucose" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3895" locator="1642:5-1644:64" xsi:type="And">
                        <operand localId="3885" locator="1642:11-1643:80" xsi:type="And">
                           <operand localId="3876" locator="1642:11-1642:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3871" locator="1642:11-1642:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3875" locator="1642:23-1642:57" xsi:type="List">
                                 <element localId="3872" locator="1642:25-1642:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3873" locator="1642:34-1642:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3874" locator="1642:45-1642:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3884" locator="1643:11-1643:80" xsi:type="IsFalse">
                              <operand localId="3883" locator="1643:11-1643:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3881" locator="1643:20-1643:63" path="value" xsi:type="Property">
                                          <source localId="3880" locator="1643:20-1643:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3878" locator="1643:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3879" locator="1643:44-1643:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3882" locator="1643:66-1643:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3894" locator="1644:11-1644:64" xsi:type="Equal">
                           <operand localId="3891" locator="1644:11-1644:49" xsi:type="Last">
                              <source localId="3890" locator="1644:16-1644:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3888" locator="1644:22-1644:42" path="reference" xsi:type="Property">
                                       <source localId="3887" locator="1644:22-1644:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3889" locator="1644:45-1644:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3893" locator="1644:53-1644:64" path="id" xsi:type="Property">
                                 <source localId="3892" locator="1644:53-1644:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3899" locator="1645:14-1645:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3936" locator="1653:1-1659:26" name="Blood glucose test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3936">
               <a:s>/*
  @dataElement: ANC.B9.DE168 Blood glucose test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Enter the result for the blood glucose test (mg/dl)
*/
define &quot;Blood glucose test result&quot;:
  </a:s>
               <a:s r="3935">
                  <a:s r="3933">
                     <a:s r="3932">
                        <a:s r="3902">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3932">
                           <a:s>Only(
  </a:s>
                           <a:s r="3931">
                              <a:s>
                                 <a:s r="3904">
                                    <a:s r="3903">
                                       <a:s r="3903">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood glucose test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3930">
                                 <a:s>where </a:s>
                                 <a:s r="3930">
                                    <a:s r="3920">
                                       <a:s r="3911">
                                          <a:s r="3906">
                                             <a:s r="3905">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3906">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3910">
                                             <a:s>{ </a:s>
                                             <a:s r="3907">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3908">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3909">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3919">
                                          <a:s r="3918">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3916">
                                                <a:s r="3915">
                                                   <a:s r="3912">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3915">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3913">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3914">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3916">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3917">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3929">
                                       <a:s r="3926">
                                          <a:s>Last(</a:s>
                                          <a:s r="3925">
                                             <a:s>Split(</a:s>
                                             <a:s r="3923">
                                                <a:s r="3922">
                                                   <a:s r="3921">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3922">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3923">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3924">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3928">
                                          <a:s r="3927">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3928">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3933">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3934">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3935" locator="1654:3-1659:26" strict="false" xsi:type="As">
            <operand localId="3933" locator="1654:3-1659:9" path="value" xsi:type="Property">
               <source localId="3932" locator="1654:3-1659:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3931" locator="1655:3-1658:64" xsi:type="Query">
                     <source localId="3904" locator="1655:3-1655:49" alias="O">
                        <expression localId="3903" locator="1655:3-1655:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1655:17-1655:46" name="Blood glucose test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3930" locator="1656:5-1658:64" xsi:type="And">
                        <operand localId="3920" locator="1656:11-1657:80" xsi:type="And">
                           <operand localId="3911" locator="1656:11-1656:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3906" locator="1656:11-1656:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3910" locator="1656:23-1656:57" xsi:type="List">
                                 <element localId="3907" locator="1656:25-1656:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3908" locator="1656:34-1656:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3909" locator="1656:45-1656:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3919" locator="1657:11-1657:80" xsi:type="IsFalse">
                              <operand localId="3918" locator="1657:11-1657:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3916" locator="1657:20-1657:63" path="value" xsi:type="Property">
                                          <source localId="3915" locator="1657:20-1657:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3913" locator="1657:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3914" locator="1657:44-1657:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3917" locator="1657:66-1657:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3929" locator="1658:11-1658:64" xsi:type="Equal">
                           <operand localId="3926" locator="1658:11-1658:49" xsi:type="Last">
                              <source localId="3925" locator="1658:16-1658:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3923" locator="1658:22-1658:42" path="reference" xsi:type="Property">
                                       <source localId="3922" locator="1658:22-1658:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3924" locator="1658:45-1658:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3928" locator="1658:53-1658:64" path="id" xsi:type="Property">
                                 <source localId="3927" locator="1658:53-1658:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3934" locator="1659:14-1659:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="3971" locator="1667:1-1673:33" name="Gestational diabetes mellitus (GDM) diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3971">
               <a:s>/*
  @dataElement: ANC.B9.DE169 Gestational diabetes mellitus (GDM) diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Whether the woman has gestational diabetes mellitus (GDM)
*/
define &quot;Gestational diabetes mellitus (GDM) diagnosis&quot;:
  </a:s>
               <a:s r="3970">
                  <a:s r="3968">
                     <a:s r="3967">
                        <a:s r="3937">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="3967">
                           <a:s>Only(
  </a:s>
                           <a:s r="3966">
                              <a:s>
                                 <a:s r="3939">
                                    <a:s r="3938">
                                       <a:s r="3938">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Gestational diabetes mellitus (GDM) diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="3965">
                                 <a:s>where </a:s>
                                 <a:s r="3965">
                                    <a:s r="3955">
                                       <a:s r="3946">
                                          <a:s r="3941">
                                             <a:s r="3940">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3941">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3945">
                                             <a:s>{ </a:s>
                                             <a:s r="3942">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3943">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3944">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3954">
                                          <a:s r="3953">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3951">
                                                <a:s r="3950">
                                                   <a:s r="3947">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3950">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3948">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3949">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3951">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3952">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3964">
                                       <a:s r="3961">
                                          <a:s>Last(</a:s>
                                          <a:s r="3960">
                                             <a:s>Split(</a:s>
                                             <a:s r="3958">
                                                <a:s r="3957">
                                                   <a:s r="3956">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3957">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3958">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3959">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3963">
                                          <a:s r="3962">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3963">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="3968">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="3969">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="3970" locator="1668:3-1673:33" strict="false" xsi:type="As">
            <operand localId="3968" locator="1668:3-1673:9" path="value" xsi:type="Property">
               <source localId="3967" locator="1668:3-1673:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="3966" locator="1669:3-1672:64" xsi:type="Query">
                     <source localId="3939" locator="1669:3-1669:69" alias="O">
                        <expression localId="3938" locator="1669:3-1669:67" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1669:17-1669:66" name="Gestational diabetes mellitus (GDM) diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="3965" locator="1670:5-1672:64" xsi:type="And">
                        <operand localId="3955" locator="1670:11-1671:80" xsi:type="And">
                           <operand localId="3946" locator="1670:11-1670:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3941" locator="1670:11-1670:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3945" locator="1670:23-1670:57" xsi:type="List">
                                 <element localId="3942" locator="1670:25-1670:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3943" locator="1670:34-1670:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3944" locator="1670:45-1670:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3954" locator="1671:11-1671:80" xsi:type="IsFalse">
                              <operand localId="3953" locator="1671:11-1671:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3951" locator="1671:20-1671:63" path="value" xsi:type="Property">
                                          <source localId="3950" locator="1671:20-1671:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3948" locator="1671:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3949" locator="1671:44-1671:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3952" locator="1671:66-1671:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3964" locator="1672:11-1672:64" xsi:type="Equal">
                           <operand localId="3961" locator="1672:11-1672:49" xsi:type="Last">
                              <source localId="3960" locator="1672:16-1672:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3958" locator="1672:22-1672:42" path="reference" xsi:type="Property">
                                       <source localId="3957" locator="1672:22-1672:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3959" locator="1672:45-1672:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3963" locator="1672:53-1672:64" path="id" xsi:type="Property">
                                 <source localId="3962" locator="1672:53-1672:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="3969" locator="1673:14-1673:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4006" locator="1681:1-1687:33" name="Diabetes mellitus (DM) during pregnancy diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4006">
               <a:s>/*
  @dataElement: ANC.B9.DE172 Diabetes mellitus (DM) during pregnancy diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Whether the woman has developed diabetes mellitus during pregnancy
*/
define &quot;Diabetes mellitus (DM) during pregnancy diagnosis&quot;:
  </a:s>
               <a:s r="4005">
                  <a:s r="4003">
                     <a:s r="4002">
                        <a:s r="3972">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4002">
                           <a:s>Only(
  </a:s>
                           <a:s r="4001">
                              <a:s>
                                 <a:s r="3974">
                                    <a:s r="3973">
                                       <a:s r="3973">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Diabetes mellitus (DM) during pregnancy diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4000">
                                 <a:s>where </a:s>
                                 <a:s r="4000">
                                    <a:s r="3990">
                                       <a:s r="3981">
                                          <a:s r="3976">
                                             <a:s r="3975">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="3976">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="3980">
                                             <a:s>{ </a:s>
                                             <a:s r="3977">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3978">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3979">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="3989">
                                          <a:s r="3988">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="3986">
                                                <a:s r="3985">
                                                   <a:s r="3982">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3985">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="3983">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="3984">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3986">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="3987">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="3999">
                                       <a:s r="3996">
                                          <a:s>Last(</a:s>
                                          <a:s r="3995">
                                             <a:s>Split(</a:s>
                                             <a:s r="3993">
                                                <a:s r="3992">
                                                   <a:s r="3991">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="3992">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="3993">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="3994">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="3998">
                                          <a:s r="3997">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="3998">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4003">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4004">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4005" locator="1682:3-1687:33" strict="false" xsi:type="As">
            <operand localId="4003" locator="1682:3-1687:9" path="value" xsi:type="Property">
               <source localId="4002" locator="1682:3-1687:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4001" locator="1683:3-1686:64" xsi:type="Query">
                     <source localId="3974" locator="1683:3-1683:73" alias="O">
                        <expression localId="3973" locator="1683:3-1683:71" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1683:17-1683:70" name="Diabetes mellitus (DM) during pregnancy diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4000" locator="1684:5-1686:64" xsi:type="And">
                        <operand localId="3990" locator="1684:11-1685:80" xsi:type="And">
                           <operand localId="3981" locator="1684:11-1684:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="3976" locator="1684:11-1684:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="3980" locator="1684:23-1684:57" xsi:type="List">
                                 <element localId="3977" locator="1684:25-1684:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="3978" locator="1684:34-1684:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="3979" locator="1684:45-1684:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="3989" locator="1685:11-1685:80" xsi:type="IsFalse">
                              <operand localId="3988" locator="1685:11-1685:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="3986" locator="1685:20-1685:63" path="value" xsi:type="Property">
                                          <source localId="3985" locator="1685:20-1685:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="3983" locator="1685:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="3984" locator="1685:44-1685:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="3987" locator="1685:66-1685:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="3999" locator="1686:11-1686:64" xsi:type="Equal">
                           <operand localId="3996" locator="1686:11-1686:49" xsi:type="Last">
                              <source localId="3995" locator="1686:16-1686:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="3993" locator="1686:22-1686:42" path="reference" xsi:type="Property">
                                       <source localId="3992" locator="1686:22-1686:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="3994" locator="1686:45-1686:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="3998" locator="1686:53-1686:64" path="id" xsi:type="Property">
                                 <source localId="3997" locator="1686:53-1686:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4004" locator="1687:14-1687:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4037" locator="1695:1-1701:8" name="Blood haemoglobin test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4037">
               <a:s>/*
  @dataElement: ANC.B9.DE176 Blood haemoglobin test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Whether or not the blood haemoglobin test (Hb test) has been ordered
*/
define &quot;Blood haemoglobin test ordered&quot;:
  </a:s>
               <a:s r="4036">
                  <a:s r="4035">
                     <a:s r="4007">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4035">
                        <a:s>Only(
  </a:s>
                        <a:s r="4034">
                           <a:s>
                              <a:s r="4009">
                                 <a:s r="4008">
                                    <a:s r="4008">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Blood haemoglobin test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4033">
                              <a:s>where </a:s>
                              <a:s r="4033">
                                 <a:s r="4023">
                                    <a:s r="4017">
                                       <a:s r="4011">
                                          <a:s r="4010">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4011">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4016">
                                          <a:s>{ </a:s>
                                          <a:s r="4012">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4013">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4014">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4015">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4022">
                                       <a:s r="4021">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4019">
                                             <a:s r="4018">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4019">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4020">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4032">
                                    <a:s r="4029">
                                       <a:s>Last(</a:s>
                                       <a:s r="4028">
                                          <a:s>Split(</a:s>
                                          <a:s r="4026">
                                             <a:s r="4025">
                                                <a:s r="4024">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4025">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4026">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4027">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4031">
                                       <a:s r="4030">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4031">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4036">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4036" locator="1696:3-1701:8" path="code" xsi:type="Property">
            <source localId="4035" locator="1696:3-1701:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4034" locator="1697:3-1700:65" xsi:type="Query">
                  <source localId="4009" locator="1697:3-1697:58" alias="SR">
                     <expression localId="4008" locator="1697:3-1697:55" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1697:20-1697:54" name="Blood haemoglobin test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4033" locator="1698:5-1700:65" xsi:type="And">
                     <operand localId="4023" locator="1698:11-1699:51" xsi:type="And">
                        <operand localId="4017" locator="1698:11-1698:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4011" locator="1698:11-1698:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4016" locator="1698:24-1698:68" xsi:type="List">
                              <element localId="4012" locator="1698:26-1698:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4013" locator="1698:35-1698:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4014" locator="1698:45-1698:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4015" locator="1698:56-1698:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4022" locator="1699:11-1699:51" xsi:type="IsFalse">
                           <operand localId="4021" locator="1699:11-1699:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4019" locator="1699:20-1699:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4020" locator="1699:37-1699:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4032" locator="1700:11-1700:65" xsi:type="Equal">
                        <operand localId="4029" locator="1700:11-1700:50" xsi:type="Last">
                           <source localId="4028" locator="1700:16-1700:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4026" locator="1700:22-1700:43" path="reference" xsi:type="Property">
                                    <source localId="4025" locator="1700:22-1700:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4027" locator="1700:46-1700:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4031" locator="1700:54-1700:65" path="id" xsi:type="Property">
                              <source localId="4030" locator="1700:54-1700:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4072" locator="1709:1-1715:33" name="Blood haemoglobin test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4072">
               <a:s>/*
  @dataElement: ANC.B9.DE177 Blood haemoglobin test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of Hb test that was done
*/
define &quot;Blood haemoglobin test type&quot;:
  </a:s>
               <a:s r="4071">
                  <a:s r="4069">
                     <a:s r="4068">
                        <a:s r="4038">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4068">
                           <a:s>Only(
  </a:s>
                           <a:s r="4067">
                              <a:s>
                                 <a:s r="4040">
                                    <a:s r="4039">
                                       <a:s r="4039">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood haemoglobin test type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4066">
                                 <a:s>where </a:s>
                                 <a:s r="4066">
                                    <a:s r="4056">
                                       <a:s r="4047">
                                          <a:s r="4042">
                                             <a:s r="4041">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4042">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4046">
                                             <a:s>{ </a:s>
                                             <a:s r="4043">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4044">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4045">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4055">
                                          <a:s r="4054">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4052">
                                                <a:s r="4051">
                                                   <a:s r="4048">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4051">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4049">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4050">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4052">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4053">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4065">
                                       <a:s r="4062">
                                          <a:s>Last(</a:s>
                                          <a:s r="4061">
                                             <a:s>Split(</a:s>
                                             <a:s r="4059">
                                                <a:s r="4058">
                                                   <a:s r="4057">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4058">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4059">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4060">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4064">
                                          <a:s r="4063">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4064">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4069">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4070">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4071" locator="1710:3-1715:33" strict="false" xsi:type="As">
            <operand localId="4069" locator="1710:3-1715:9" path="value" xsi:type="Property">
               <source localId="4068" locator="1710:3-1715:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4067" locator="1711:3-1714:64" xsi:type="Query">
                     <source localId="4040" locator="1711:3-1711:51" alias="O">
                        <expression localId="4039" locator="1711:3-1711:49" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1711:17-1711:48" name="Blood haemoglobin test type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4066" locator="1712:5-1714:64" xsi:type="And">
                        <operand localId="4056" locator="1712:11-1713:80" xsi:type="And">
                           <operand localId="4047" locator="1712:11-1712:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4042" locator="1712:11-1712:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4046" locator="1712:23-1712:57" xsi:type="List">
                                 <element localId="4043" locator="1712:25-1712:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4044" locator="1712:34-1712:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4045" locator="1712:45-1712:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4055" locator="1713:11-1713:80" xsi:type="IsFalse">
                              <operand localId="4054" locator="1713:11-1713:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4052" locator="1713:20-1713:63" path="value" xsi:type="Property">
                                          <source localId="4051" locator="1713:20-1713:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4049" locator="1713:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4050" locator="1713:44-1713:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4053" locator="1713:66-1713:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4065" locator="1714:11-1714:64" xsi:type="Equal">
                           <operand localId="4062" locator="1714:11-1714:49" xsi:type="Last">
                              <source localId="4061" locator="1714:16-1714:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4059" locator="1714:22-1714:42" path="reference" xsi:type="Property">
                                       <source localId="4058" locator="1714:22-1714:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4060" locator="1714:45-1714:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4064" locator="1714:53-1714:64" path="id" xsi:type="Property">
                                 <source localId="4063" locator="1714:53-1714:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4070" locator="1715:14-1715:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4093" locator="1723:1-1727:19" name="Reason blood haemoglobin test not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4093">
               <a:s>/*
  @dataElement: ANC.B9.DE181 Reason blood haemoglobin test not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why a Hb test was not done
*/
define &quot;Reason blood haemoglobin test not done&quot;:
  </a:s>
               <a:s r="4092">
                  <a:s>
                     <a:s r="4074">
                        <a:s r="4073">
                           <a:s r="4073">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason blood haemoglobin test not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4088">
                     <a:s>where </a:s>
                     <a:s r="4088">
                        <a:s r="4078">
                           <a:s r="4076">
                              <a:s r="4075">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4076">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4077">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="4087">
                           <a:s r="4084">
                              <a:s>Last(</a:s>
                              <a:s r="4083">
                                 <a:s>Split(</a:s>
                                 <a:s r="4081">
                                    <a:s r="4080">
                                       <a:s r="4079">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4080">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="4081">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="4082">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4086">
                              <a:s r="4085">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4086">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4091">
                     <a:s>return </a:s>
                     <a:s r="4090">
                        <a:s r="4089">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4090">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4092" locator="1724:3-1727:19" xsi:type="Query">
            <source localId="4074" locator="1724:3-1724:62" alias="PND">
               <expression localId="4073" locator="1724:3-1724:58" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1724:15-1724:57" name="Reason blood haemoglobin test not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="4088" locator="1725:5-1726:66" xsi:type="And">
               <operand localId="4078" locator="1725:11-1725:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4076" locator="1725:11-1725:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="4077" locator="1725:24-1725:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="4087" locator="1726:11-1726:66" xsi:type="Equal">
                  <operand localId="4084" locator="1726:11-1726:51" xsi:type="Last">
                     <source localId="4083" locator="1726:16-1726:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4081" locator="1726:22-1726:44" path="reference" xsi:type="Property">
                              <source localId="4080" locator="1726:22-1726:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="4082" locator="1726:47-1726:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4086" locator="1726:55-1726:66" path="id" xsi:type="Property">
                        <source localId="4085" locator="1726:55-1726:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="4091" locator="1727:5-1727:19">
               <expression localId="4090" locator="1727:12-1727:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="4128" locator="1735:1-1741:26" name="Blood haemoglobin test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4128">
               <a:s>/*
  @dataElement: ANC.B9.DE186 Blood haemoglobin test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Blood haemoglobin test result in g/dl
*/
define &quot;Blood haemoglobin test result&quot;:
  </a:s>
               <a:s r="4127">
                  <a:s r="4125">
                     <a:s r="4124">
                        <a:s r="4094">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4124">
                           <a:s>Only(
  </a:s>
                           <a:s r="4123">
                              <a:s>
                                 <a:s r="4096">
                                    <a:s r="4095">
                                       <a:s r="4095">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood haemoglobin test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4122">
                                 <a:s>where </a:s>
                                 <a:s r="4122">
                                    <a:s r="4112">
                                       <a:s r="4103">
                                          <a:s r="4098">
                                             <a:s r="4097">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4098">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4102">
                                             <a:s>{ </a:s>
                                             <a:s r="4099">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4100">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4101">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4111">
                                          <a:s r="4110">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4108">
                                                <a:s r="4107">
                                                   <a:s r="4104">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4107">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4105">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4106">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4108">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4109">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4121">
                                       <a:s r="4118">
                                          <a:s>Last(</a:s>
                                          <a:s r="4117">
                                             <a:s>Split(</a:s>
                                             <a:s r="4115">
                                                <a:s r="4114">
                                                   <a:s r="4113">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4114">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4115">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4116">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4120">
                                          <a:s r="4119">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4120">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4125">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4126">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4127" locator="1736:3-1741:26" strict="false" xsi:type="As">
            <operand localId="4125" locator="1736:3-1741:9" path="value" xsi:type="Property">
               <source localId="4124" locator="1736:3-1741:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4123" locator="1737:3-1740:64" xsi:type="Query">
                     <source localId="4096" locator="1737:3-1737:53" alias="O">
                        <expression localId="4095" locator="1737:3-1737:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1737:17-1737:50" name="Blood haemoglobin test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4122" locator="1738:5-1740:64" xsi:type="And">
                        <operand localId="4112" locator="1738:11-1739:80" xsi:type="And">
                           <operand localId="4103" locator="1738:11-1738:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4098" locator="1738:11-1738:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4102" locator="1738:23-1738:57" xsi:type="List">
                                 <element localId="4099" locator="1738:25-1738:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4100" locator="1738:34-1738:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4101" locator="1738:45-1738:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4111" locator="1739:11-1739:80" xsi:type="IsFalse">
                              <operand localId="4110" locator="1739:11-1739:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4108" locator="1739:20-1739:63" path="value" xsi:type="Property">
                                          <source localId="4107" locator="1739:20-1739:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4105" locator="1739:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4106" locator="1739:44-1739:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4109" locator="1739:66-1739:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4121" locator="1740:11-1740:64" xsi:type="Equal">
                           <operand localId="4118" locator="1740:11-1740:49" xsi:type="Last">
                              <source localId="4117" locator="1740:16-1740:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4115" locator="1740:22-1740:42" path="reference" xsi:type="Property">
                                       <source localId="4114" locator="1740:22-1740:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4116" locator="1740:45-1740:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4120" locator="1740:53-1740:64" path="id" xsi:type="Property">
                                 <source localId="4119" locator="1740:53-1740:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4126" locator="1741:14-1741:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4163" locator="1749:1-1755:33" name="Anaemia diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4163">
               <a:s>/*
  @dataElement: ANC.B9.DE187 Anaemia diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Calculated field to determine woman's anaemia status
*/
define &quot;Anaemia diagnosis&quot;:
  </a:s>
               <a:s r="4162">
                  <a:s r="4160">
                     <a:s r="4159">
                        <a:s r="4129">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4159">
                           <a:s>Only(
  </a:s>
                           <a:s r="4158">
                              <a:s>
                                 <a:s r="4131">
                                    <a:s r="4130">
                                       <a:s r="4130">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Anaemia diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4157">
                                 <a:s>where </a:s>
                                 <a:s r="4157">
                                    <a:s r="4147">
                                       <a:s r="4138">
                                          <a:s r="4133">
                                             <a:s r="4132">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4133">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4137">
                                             <a:s>{ </a:s>
                                             <a:s r="4134">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4135">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4136">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4146">
                                          <a:s r="4145">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4143">
                                                <a:s r="4142">
                                                   <a:s r="4139">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4142">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4140">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4141">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4143">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4144">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4156">
                                       <a:s r="4153">
                                          <a:s>Last(</a:s>
                                          <a:s r="4152">
                                             <a:s>Split(</a:s>
                                             <a:s r="4150">
                                                <a:s r="4149">
                                                   <a:s r="4148">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4149">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4150">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4151">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4155">
                                          <a:s r="4154">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4155">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4160">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4161">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4162" locator="1750:3-1755:33" strict="false" xsi:type="As">
            <operand localId="4160" locator="1750:3-1755:9" path="value" xsi:type="Property">
               <source localId="4159" locator="1750:3-1755:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4158" locator="1751:3-1754:64" xsi:type="Query">
                     <source localId="4131" locator="1751:3-1751:41" alias="O">
                        <expression localId="4130" locator="1751:3-1751:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1751:17-1751:38" name="Anaemia diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4157" locator="1752:5-1754:64" xsi:type="And">
                        <operand localId="4147" locator="1752:11-1753:80" xsi:type="And">
                           <operand localId="4138" locator="1752:11-1752:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4133" locator="1752:11-1752:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4137" locator="1752:23-1752:57" xsi:type="List">
                                 <element localId="4134" locator="1752:25-1752:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4135" locator="1752:34-1752:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4136" locator="1752:45-1752:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4146" locator="1753:11-1753:80" xsi:type="IsFalse">
                              <operand localId="4145" locator="1753:11-1753:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4143" locator="1753:20-1753:63" path="value" xsi:type="Property">
                                          <source localId="4142" locator="1753:20-1753:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4140" locator="1753:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4141" locator="1753:44-1753:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4144" locator="1753:66-1753:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4156" locator="1754:11-1754:64" xsi:type="Equal">
                           <operand localId="4153" locator="1754:11-1754:49" xsi:type="Last">
                              <source localId="4152" locator="1754:16-1754:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4150" locator="1754:22-1754:42" path="reference" xsi:type="Property">
                                       <source localId="4149" locator="1754:22-1754:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4151" locator="1754:45-1754:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4155" locator="1754:53-1754:64" path="id" xsi:type="Property">
                                 <source localId="4154" locator="1754:53-1754:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4161" locator="1755:14-1755:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4198" locator="1763:1-1769:26" name="Hematocrit (Ht)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4198">
               <a:s>/*
  @dataElement: ANC.B9.DE190 Hematocrit (Ht)
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hematocrit percentage
*/
define &quot;Hematocrit (Ht)&quot;:
  </a:s>
               <a:s r="4197">
                  <a:s r="4195">
                     <a:s r="4194">
                        <a:s r="4164">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4194">
                           <a:s>Only(
  </a:s>
                           <a:s r="4193">
                              <a:s>
                                 <a:s r="4166">
                                    <a:s r="4165">
                                       <a:s r="4165">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hematocrit (Ht)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4192">
                                 <a:s>where </a:s>
                                 <a:s r="4192">
                                    <a:s r="4182">
                                       <a:s r="4173">
                                          <a:s r="4168">
                                             <a:s r="4167">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4168">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4172">
                                             <a:s>{ </a:s>
                                             <a:s r="4169">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4170">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4171">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4181">
                                          <a:s r="4180">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4178">
                                                <a:s r="4177">
                                                   <a:s r="4174">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4177">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4175">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4176">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4178">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4179">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4191">
                                       <a:s r="4188">
                                          <a:s>Last(</a:s>
                                          <a:s r="4187">
                                             <a:s>Split(</a:s>
                                             <a:s r="4185">
                                                <a:s r="4184">
                                                   <a:s r="4183">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4184">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4185">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4186">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4190">
                                          <a:s r="4189">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4190">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4195">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4196">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4197" locator="1764:3-1769:26" strict="false" xsi:type="As">
            <operand localId="4195" locator="1764:3-1769:9" path="value" xsi:type="Property">
               <source localId="4194" locator="1764:3-1769:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4193" locator="1765:3-1768:64" xsi:type="Query">
                     <source localId="4166" locator="1765:3-1765:39" alias="O">
                        <expression localId="4165" locator="1765:3-1765:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1765:17-1765:36" name="Hematocrit (Ht)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4192" locator="1766:5-1768:64" xsi:type="And">
                        <operand localId="4182" locator="1766:11-1767:80" xsi:type="And">
                           <operand localId="4173" locator="1766:11-1766:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4168" locator="1766:11-1766:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4172" locator="1766:23-1766:57" xsi:type="List">
                                 <element localId="4169" locator="1766:25-1766:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4170" locator="1766:34-1766:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4171" locator="1766:45-1766:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4181" locator="1767:11-1767:80" xsi:type="IsFalse">
                              <operand localId="4180" locator="1767:11-1767:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4178" locator="1767:20-1767:63" path="value" xsi:type="Property">
                                          <source localId="4177" locator="1767:20-1767:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4175" locator="1767:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4176" locator="1767:44-1767:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4179" locator="1767:66-1767:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4191" locator="1768:11-1768:64" xsi:type="Equal">
                           <operand localId="4188" locator="1768:11-1768:49" xsi:type="Last">
                              <source localId="4187" locator="1768:16-1768:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4185" locator="1768:22-1768:42" path="reference" xsi:type="Property">
                                       <source localId="4184" locator="1768:22-1768:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4186" locator="1768:45-1768:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4190" locator="1768:53-1768:64" path="id" xsi:type="Property">
                                 <source localId="4189" locator="1768:53-1768:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4196" locator="1769:14-1769:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4233" locator="1777:1-1783:26" name="White blood cell (WBC) count" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4233">
               <a:s>/*
  @dataElement: ANC.B9.DE191 White blood cell (WBC) count
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Full white blood cells count
*/
define &quot;White blood cell (WBC) count&quot;:
  </a:s>
               <a:s r="4232">
                  <a:s r="4230">
                     <a:s r="4229">
                        <a:s r="4199">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4229">
                           <a:s>Only(
  </a:s>
                           <a:s r="4228">
                              <a:s>
                                 <a:s r="4201">
                                    <a:s r="4200">
                                       <a:s r="4200">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;White blood cell (WBC) count&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4227">
                                 <a:s>where </a:s>
                                 <a:s r="4227">
                                    <a:s r="4217">
                                       <a:s r="4208">
                                          <a:s r="4203">
                                             <a:s r="4202">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4203">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4207">
                                             <a:s>{ </a:s>
                                             <a:s r="4204">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4205">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4206">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4216">
                                          <a:s r="4215">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4213">
                                                <a:s r="4212">
                                                   <a:s r="4209">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4212">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4210">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4211">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4213">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4214">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4226">
                                       <a:s r="4223">
                                          <a:s>Last(</a:s>
                                          <a:s r="4222">
                                             <a:s>Split(</a:s>
                                             <a:s r="4220">
                                                <a:s r="4219">
                                                   <a:s r="4218">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4219">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4220">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4221">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4225">
                                          <a:s r="4224">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4225">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4230">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4231">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4232" locator="1778:3-1783:26" strict="false" xsi:type="As">
            <operand localId="4230" locator="1778:3-1783:9" path="value" xsi:type="Property">
               <source localId="4229" locator="1778:3-1783:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4228" locator="1779:3-1782:64" xsi:type="Query">
                     <source localId="4201" locator="1779:3-1779:52" alias="O">
                        <expression localId="4200" locator="1779:3-1779:50" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1779:17-1779:49" name="White blood cell (WBC) count" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4227" locator="1780:5-1782:64" xsi:type="And">
                        <operand localId="4217" locator="1780:11-1781:80" xsi:type="And">
                           <operand localId="4208" locator="1780:11-1780:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4203" locator="1780:11-1780:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4207" locator="1780:23-1780:57" xsi:type="List">
                                 <element localId="4204" locator="1780:25-1780:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4205" locator="1780:34-1780:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4206" locator="1780:45-1780:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4216" locator="1781:11-1781:80" xsi:type="IsFalse">
                              <operand localId="4215" locator="1781:11-1781:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4213" locator="1781:20-1781:63" path="value" xsi:type="Property">
                                          <source localId="4212" locator="1781:20-1781:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4210" locator="1781:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4211" locator="1781:44-1781:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4214" locator="1781:66-1781:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4226" locator="1782:11-1782:64" xsi:type="Equal">
                           <operand localId="4223" locator="1782:11-1782:49" xsi:type="Last">
                              <source localId="4222" locator="1782:16-1782:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4220" locator="1782:22-1782:42" path="reference" xsi:type="Property">
                                       <source localId="4219" locator="1782:22-1782:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4221" locator="1782:45-1782:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4225" locator="1782:53-1782:64" path="id" xsi:type="Property">
                                 <source localId="4224" locator="1782:53-1782:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4231" locator="1783:14-1783:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4268" locator="1791:1-1797:26" name="Platelet count" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4268">
               <a:s>/*
  @dataElement: ANC.B9.DE192 Platelet count
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Full platelets count
*/
define &quot;Platelet count&quot;:
  </a:s>
               <a:s r="4267">
                  <a:s r="4265">
                     <a:s r="4264">
                        <a:s r="4234">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4264">
                           <a:s>Only(
  </a:s>
                           <a:s r="4263">
                              <a:s>
                                 <a:s r="4236">
                                    <a:s r="4235">
                                       <a:s r="4235">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Platelet count&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4262">
                                 <a:s>where </a:s>
                                 <a:s r="4262">
                                    <a:s r="4252">
                                       <a:s r="4243">
                                          <a:s r="4238">
                                             <a:s r="4237">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4238">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4242">
                                             <a:s>{ </a:s>
                                             <a:s r="4239">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4240">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4241">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4251">
                                          <a:s r="4250">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4248">
                                                <a:s r="4247">
                                                   <a:s r="4244">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4247">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4245">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4246">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4248">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4249">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4261">
                                       <a:s r="4258">
                                          <a:s>Last(</a:s>
                                          <a:s r="4257">
                                             <a:s>Split(</a:s>
                                             <a:s r="4255">
                                                <a:s r="4254">
                                                   <a:s r="4253">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4254">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4255">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4256">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4260">
                                          <a:s r="4259">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4260">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4265">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4266">
                     <a:s>FHIR.Quantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4267" locator="1792:3-1797:26" strict="false" xsi:type="As">
            <operand localId="4265" locator="1792:3-1797:9" path="value" xsi:type="Property">
               <source localId="4264" locator="1792:3-1797:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4263" locator="1793:3-1796:64" xsi:type="Query">
                     <source localId="4236" locator="1793:3-1793:38" alias="O">
                        <expression localId="4235" locator="1793:3-1793:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1793:17-1793:35" name="Platelet count" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4262" locator="1794:5-1796:64" xsi:type="And">
                        <operand localId="4252" locator="1794:11-1795:80" xsi:type="And">
                           <operand localId="4243" locator="1794:11-1794:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4238" locator="1794:11-1794:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4242" locator="1794:23-1794:57" xsi:type="List">
                                 <element localId="4239" locator="1794:25-1794:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4240" locator="1794:34-1794:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4241" locator="1794:45-1794:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4251" locator="1795:11-1795:80" xsi:type="IsFalse">
                              <operand localId="4250" locator="1795:11-1795:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4248" locator="1795:20-1795:63" path="value" xsi:type="Property">
                                          <source localId="4247" locator="1795:20-1795:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4245" locator="1795:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4246" locator="1795:44-1795:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4249" locator="1795:66-1795:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4261" locator="1796:11-1796:64" xsi:type="Equal">
                           <operand localId="4258" locator="1796:11-1796:49" xsi:type="Last">
                              <source localId="4257" locator="1796:16-1796:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4255" locator="1796:22-1796:42" path="reference" xsi:type="Property">
                                       <source localId="4254" locator="1796:22-1796:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4256" locator="1796:45-1796:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4260" locator="1796:53-1796:64" path="id" xsi:type="Property">
                                 <source localId="4259" locator="1796:53-1796:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4266" locator="1797:14-1797:26" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4299" locator="1805:1-1811:8" name="TB screening recommended" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4299">
               <a:s>/*
  @dataElement: ANC.B9.DE193 TB screening recommended
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: TB screening is recommended
*/
define &quot;TB screening recommended&quot;:
  </a:s>
               <a:s r="4298">
                  <a:s r="4297">
                     <a:s r="4269">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4297">
                        <a:s>Only(
  </a:s>
                        <a:s r="4296">
                           <a:s>
                              <a:s r="4271">
                                 <a:s r="4270">
                                    <a:s r="4270">
                                       <a:s>[ServiceRequest]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4295">
                              <a:s>where </a:s>
                              <a:s r="4295">
                                 <a:s r="4285">
                                    <a:s r="4279">
                                       <a:s r="4273">
                                          <a:s r="4272">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4273">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4278">
                                          <a:s>{ </a:s>
                                          <a:s r="4274">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4275">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4276">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4277">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4284">
                                       <a:s r="4283">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4281">
                                             <a:s r="4280">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4281">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4282">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4294">
                                    <a:s r="4291">
                                       <a:s>Last(</a:s>
                                       <a:s r="4290">
                                          <a:s>Split(</a:s>
                                          <a:s r="4288">
                                             <a:s r="4287">
                                                <a:s r="4286">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4287">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4288">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4289">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4293">
                                       <a:s r="4292">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4293">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4298">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4298" locator="1806:3-1811:8" path="code" xsi:type="Property">
            <source localId="4297" locator="1806:3-1811:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4296" locator="1807:3-1810:65" xsi:type="Query">
                  <source localId="4271" locator="1807:3-1807:21" alias="SR">
                     <expression localId="4270" locator="1807:3-1807:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
                  </source>
                  <where localId="4295" locator="1808:5-1810:65" xsi:type="And">
                     <operand localId="4285" locator="1808:11-1809:51" xsi:type="And">
                        <operand localId="4279" locator="1808:11-1808:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4273" locator="1808:11-1808:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4278" locator="1808:24-1808:68" xsi:type="List">
                              <element localId="4274" locator="1808:26-1808:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4275" locator="1808:35-1808:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4276" locator="1808:45-1808:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4277" locator="1808:56-1808:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4284" locator="1809:11-1809:51" xsi:type="IsFalse">
                           <operand localId="4283" locator="1809:11-1809:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4281" locator="1809:20-1809:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4282" locator="1809:37-1809:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4294" locator="1810:11-1810:65" xsi:type="Equal">
                        <operand localId="4291" locator="1810:11-1810:50" xsi:type="Last">
                           <source localId="4290" locator="1810:16-1810:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4288" locator="1810:22-1810:43" path="reference" xsi:type="Property">
                                    <source localId="4287" locator="1810:22-1810:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4289" locator="1810:46-1810:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4293" locator="1810:54-1810:65" path="id" xsi:type="Property">
                              <source localId="4292" locator="1810:54-1810:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4330" locator="1819:1-1825:8" name="TB screening ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4330">
               <a:s>/*
  @dataElement: ANC.B9.DE195 TB screening ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: TB screening has been ordered
*/
define &quot;TB screening ordered&quot;:
  </a:s>
               <a:s r="4329">
                  <a:s r="4328">
                     <a:s r="4300">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4328">
                        <a:s>Only(
  </a:s>
                        <a:s r="4327">
                           <a:s>
                              <a:s r="4302">
                                 <a:s r="4301">
                                    <a:s r="4301">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;TB screening ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4326">
                              <a:s>where </a:s>
                              <a:s r="4326">
                                 <a:s r="4316">
                                    <a:s r="4310">
                                       <a:s r="4304">
                                          <a:s r="4303">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4304">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4309">
                                          <a:s>{ </a:s>
                                          <a:s r="4305">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4306">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4307">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4308">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4315">
                                       <a:s r="4314">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4312">
                                             <a:s r="4311">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4312">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4313">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4325">
                                    <a:s r="4322">
                                       <a:s>Last(</a:s>
                                       <a:s r="4321">
                                          <a:s>Split(</a:s>
                                          <a:s r="4319">
                                             <a:s r="4318">
                                                <a:s r="4317">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4318">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4319">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4320">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4324">
                                       <a:s r="4323">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4324">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4329">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4329" locator="1820:3-1825:8" path="code" xsi:type="Property">
            <source localId="4328" locator="1820:3-1825:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4327" locator="1821:3-1824:65" xsi:type="Query">
                  <source localId="4302" locator="1821:3-1821:48" alias="SR">
                     <expression localId="4301" locator="1821:3-1821:45" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1821:20-1821:44" name="TB screening ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4326" locator="1822:5-1824:65" xsi:type="And">
                     <operand localId="4316" locator="1822:11-1823:51" xsi:type="And">
                        <operand localId="4310" locator="1822:11-1822:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4304" locator="1822:11-1822:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4309" locator="1822:24-1822:68" xsi:type="List">
                              <element localId="4305" locator="1822:26-1822:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4306" locator="1822:35-1822:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4307" locator="1822:45-1822:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4308" locator="1822:56-1822:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4315" locator="1823:11-1823:51" xsi:type="IsFalse">
                           <operand localId="4314" locator="1823:11-1823:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4312" locator="1823:20-1823:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4313" locator="1823:37-1823:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4325" locator="1824:11-1824:65" xsi:type="Equal">
                        <operand localId="4322" locator="1824:11-1824:50" xsi:type="Last">
                           <source localId="4321" locator="1824:16-1824:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4319" locator="1824:22-1824:43" path="reference" xsi:type="Property">
                                    <source localId="4318" locator="1824:22-1824:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4320" locator="1824:46-1824:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4324" locator="1824:54-1824:65" path="id" xsi:type="Property">
                              <source localId="4323" locator="1824:54-1824:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4351" locator="1833:1-1837:19" name="Reason TB screening not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4351">
               <a:s>/*
  @dataElement: ANC.B9.DE196 Reason TB screening not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why TB screening was not done
*/
define &quot;Reason TB screening not done&quot;:
  </a:s>
               <a:s r="4350">
                  <a:s>
                     <a:s r="4332">
                        <a:s r="4331">
                           <a:s r="4331">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason TB screening not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4346">
                     <a:s>where </a:s>
                     <a:s r="4346">
                        <a:s r="4336">
                           <a:s r="4334">
                              <a:s r="4333">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4334">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4335">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="4345">
                           <a:s r="4342">
                              <a:s>Last(</a:s>
                              <a:s r="4341">
                                 <a:s>Split(</a:s>
                                 <a:s r="4339">
                                    <a:s r="4338">
                                       <a:s r="4337">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4338">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="4339">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="4340">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4344">
                              <a:s r="4343">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4344">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4349">
                     <a:s>return </a:s>
                     <a:s r="4348">
                        <a:s r="4347">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4348">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4350" locator="1834:3-1837:19" xsi:type="Query">
            <source localId="4332" locator="1834:3-1834:52" alias="PND">
               <expression localId="4331" locator="1834:3-1834:48" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1834:15-1834:47" name="Reason TB screening not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="4346" locator="1835:5-1836:66" xsi:type="And">
               <operand localId="4336" locator="1835:11-1835:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4334" locator="1835:11-1835:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="4335" locator="1835:24-1835:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="4345" locator="1836:11-1836:66" xsi:type="Equal">
                  <operand localId="4342" locator="1836:11-1836:51" xsi:type="Last">
                     <source localId="4341" locator="1836:16-1836:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4339" locator="1836:22-1836:44" path="reference" xsi:type="Property">
                              <source localId="4338" locator="1836:22-1836:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="4340" locator="1836:47-1836:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4344" locator="1836:55-1836:66" path="id" xsi:type="Property">
                        <source localId="4343" locator="1836:55-1836:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="4349" locator="1837:5-1837:19">
               <expression localId="4348" locator="1837:12-1837:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="4382" locator="1845:1-1851:8" name="Ultrasound scan ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4382">
               <a:s>/*
  @dataElement: ANC.B9.DE2 Ultrasound scan ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: An ultrasound scan has been ordered
*/
define &quot;Ultrasound scan ordered&quot;:
  </a:s>
               <a:s r="4381">
                  <a:s r="4380">
                     <a:s r="4352">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4380">
                        <a:s>Only(
  </a:s>
                        <a:s r="4379">
                           <a:s>
                              <a:s r="4354">
                                 <a:s r="4353">
                                    <a:s r="4353">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Ultrasound scan ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4378">
                              <a:s>where </a:s>
                              <a:s r="4378">
                                 <a:s r="4368">
                                    <a:s r="4362">
                                       <a:s r="4356">
                                          <a:s r="4355">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4356">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4361">
                                          <a:s>{ </a:s>
                                          <a:s r="4357">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4358">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4359">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4360">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4367">
                                       <a:s r="4366">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4364">
                                             <a:s r="4363">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4364">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4365">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4377">
                                    <a:s r="4374">
                                       <a:s>Last(</a:s>
                                       <a:s r="4373">
                                          <a:s>Split(</a:s>
                                          <a:s r="4371">
                                             <a:s r="4370">
                                                <a:s r="4369">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4370">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4371">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4372">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4376">
                                       <a:s r="4375">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4376">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4381">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4381" locator="1846:3-1851:8" path="code" xsi:type="Property">
            <source localId="4380" locator="1846:3-1851:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4379" locator="1847:3-1850:65" xsi:type="Query">
                  <source localId="4354" locator="1847:3-1847:51" alias="SR">
                     <expression localId="4353" locator="1847:3-1847:48" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1847:20-1847:47" name="Ultrasound scan ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4378" locator="1848:5-1850:65" xsi:type="And">
                     <operand localId="4368" locator="1848:11-1849:51" xsi:type="And">
                        <operand localId="4362" locator="1848:11-1848:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4356" locator="1848:11-1848:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4361" locator="1848:24-1848:68" xsi:type="List">
                              <element localId="4357" locator="1848:26-1848:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4358" locator="1848:35-1848:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4359" locator="1848:45-1848:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4360" locator="1848:56-1848:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4367" locator="1849:11-1849:51" xsi:type="IsFalse">
                           <operand localId="4366" locator="1849:11-1849:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4364" locator="1849:20-1849:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4365" locator="1849:37-1849:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4377" locator="1850:11-1850:65" xsi:type="Equal">
                        <operand localId="4374" locator="1850:11-1850:50" xsi:type="Last">
                           <source localId="4373" locator="1850:16-1850:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4371" locator="1850:22-1850:43" path="reference" xsi:type="Property">
                                    <source localId="4370" locator="1850:22-1850:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4372" locator="1850:46-1850:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4376" locator="1850:54-1850:65" path="id" xsi:type="Property">
                              <source localId="4375" locator="1850:54-1850:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4417" locator="1859:1-1865:33" name="TB screening result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4417">
               <a:s>/*
  @dataElement: ANC.B9.DE206 TB screening result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Record the result of the TB screening
*/
define &quot;TB screening result&quot;:
  </a:s>
               <a:s r="4416">
                  <a:s r="4414">
                     <a:s r="4413">
                        <a:s r="4383">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4413">
                           <a:s>Only(
  </a:s>
                           <a:s r="4412">
                              <a:s>
                                 <a:s r="4385">
                                    <a:s r="4384">
                                       <a:s r="4384">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;TB screening result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4411">
                                 <a:s>where </a:s>
                                 <a:s r="4411">
                                    <a:s r="4401">
                                       <a:s r="4392">
                                          <a:s r="4387">
                                             <a:s r="4386">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4387">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4391">
                                             <a:s>{ </a:s>
                                             <a:s r="4388">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4389">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4390">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4400">
                                          <a:s r="4399">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4397">
                                                <a:s r="4396">
                                                   <a:s r="4393">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4396">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4394">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4395">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4397">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4398">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4410">
                                       <a:s r="4407">
                                          <a:s>Last(</a:s>
                                          <a:s r="4406">
                                             <a:s>Split(</a:s>
                                             <a:s r="4404">
                                                <a:s r="4403">
                                                   <a:s r="4402">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4403">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4404">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4405">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4409">
                                          <a:s r="4408">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4409">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4414">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4415">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4416" locator="1860:3-1865:33" strict="false" xsi:type="As">
            <operand localId="4414" locator="1860:3-1865:9" path="value" xsi:type="Property">
               <source localId="4413" locator="1860:3-1865:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4412" locator="1861:3-1864:64" xsi:type="Query">
                     <source localId="4385" locator="1861:3-1861:43" alias="O">
                        <expression localId="4384" locator="1861:3-1861:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1861:17-1861:40" name="TB screening result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4411" locator="1862:5-1864:64" xsi:type="And">
                        <operand localId="4401" locator="1862:11-1863:80" xsi:type="And">
                           <operand localId="4392" locator="1862:11-1862:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4387" locator="1862:11-1862:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4391" locator="1862:23-1862:57" xsi:type="List">
                                 <element localId="4388" locator="1862:25-1862:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4389" locator="1862:34-1862:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4390" locator="1862:45-1862:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4400" locator="1863:11-1863:80" xsi:type="IsFalse">
                              <operand localId="4399" locator="1863:11-1863:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4397" locator="1863:20-1863:63" path="value" xsi:type="Property">
                                          <source localId="4396" locator="1863:20-1863:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4394" locator="1863:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4395" locator="1863:44-1863:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4398" locator="1863:66-1863:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4410" locator="1864:11-1864:64" xsi:type="Equal">
                           <operand localId="4407" locator="1864:11-1864:49" xsi:type="Last">
                              <source localId="4406" locator="1864:16-1864:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4404" locator="1864:22-1864:42" path="reference" xsi:type="Property">
                                       <source localId="4403" locator="1864:22-1864:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4405" locator="1864:45-1864:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4409" locator="1864:53-1864:64" path="id" xsi:type="Property">
                                 <source localId="4408" locator="1864:53-1864:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4415" locator="1865:14-1865:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4448" locator="1873:1-1879:8" name="Blood type test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4448">
               <a:s>/*
  @dataElement: ANC.B9.DE21 Blood type test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Blood type test has been ordered
*/
define &quot;Blood type test ordered&quot;:
  </a:s>
               <a:s r="4447">
                  <a:s r="4446">
                     <a:s r="4418">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4446">
                        <a:s>Only(
  </a:s>
                        <a:s r="4445">
                           <a:s>
                              <a:s r="4420">
                                 <a:s r="4419">
                                    <a:s r="4419">
                                       <a:s>[ServiceRequest]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4444">
                              <a:s>where </a:s>
                              <a:s r="4444">
                                 <a:s r="4434">
                                    <a:s r="4428">
                                       <a:s r="4422">
                                          <a:s r="4421">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4422">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4427">
                                          <a:s>{ </a:s>
                                          <a:s r="4423">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4424">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4425">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4426">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4433">
                                       <a:s r="4432">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4430">
                                             <a:s r="4429">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4430">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4431">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4443">
                                    <a:s r="4440">
                                       <a:s>Last(</a:s>
                                       <a:s r="4439">
                                          <a:s>Split(</a:s>
                                          <a:s r="4437">
                                             <a:s r="4436">
                                                <a:s r="4435">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4436">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4437">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4438">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4442">
                                       <a:s r="4441">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4442">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4447">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4447" locator="1874:3-1879:8" path="code" xsi:type="Property">
            <source localId="4446" locator="1874:3-1879:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4445" locator="1875:3-1878:65" xsi:type="Query">
                  <source localId="4420" locator="1875:3-1875:21" alias="SR">
                     <expression localId="4419" locator="1875:3-1875:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
                  </source>
                  <where localId="4444" locator="1876:5-1878:65" xsi:type="And">
                     <operand localId="4434" locator="1876:11-1877:51" xsi:type="And">
                        <operand localId="4428" locator="1876:11-1876:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4422" locator="1876:11-1876:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4427" locator="1876:24-1876:68" xsi:type="List">
                              <element localId="4423" locator="1876:26-1876:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4424" locator="1876:35-1876:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4425" locator="1876:45-1876:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4426" locator="1876:56-1876:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4433" locator="1877:11-1877:51" xsi:type="IsFalse">
                           <operand localId="4432" locator="1877:11-1877:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4430" locator="1877:20-1877:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4431" locator="1877:37-1877:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4443" locator="1878:11-1878:65" xsi:type="Equal">
                        <operand localId="4440" locator="1878:11-1878:50" xsi:type="Last">
                           <source localId="4439" locator="1878:16-1878:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4437" locator="1878:22-1878:43" path="reference" xsi:type="Property">
                                    <source localId="4436" locator="1878:22-1878:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4438" locator="1878:46-1878:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4442" locator="1878:54-1878:65" path="id" xsi:type="Property">
                              <source localId="4441" locator="1878:54-1878:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4483" locator="1887:1-1893:33" name="Other test(s) result(s)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4483">
               <a:s>/*
  @dataElement: ANC.B9.DE214 Other test(s) result(s)
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Input the result from the test(s)
*/
define &quot;Other test(s) result(s)&quot;:
  </a:s>
               <a:s r="4482">
                  <a:s r="4480">
                     <a:s r="4479">
                        <a:s r="4449">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4479">
                           <a:s>Only(
  </a:s>
                           <a:s r="4478">
                              <a:s>
                                 <a:s r="4451">
                                    <a:s r="4450">
                                       <a:s r="4450">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Other test(s) result(s)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4477">
                                 <a:s>where </a:s>
                                 <a:s r="4477">
                                    <a:s r="4467">
                                       <a:s r="4458">
                                          <a:s r="4453">
                                             <a:s r="4452">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4453">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4457">
                                             <a:s>{ </a:s>
                                             <a:s r="4454">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4455">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4456">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4466">
                                          <a:s r="4465">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4463">
                                                <a:s r="4462">
                                                   <a:s r="4459">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4462">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4460">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4461">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4463">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4464">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4476">
                                       <a:s r="4473">
                                          <a:s>Last(</a:s>
                                          <a:s r="4472">
                                             <a:s>Split(</a:s>
                                             <a:s r="4470">
                                                <a:s r="4469">
                                                   <a:s r="4468">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4469">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4470">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4471">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4475">
                                          <a:s r="4474">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4475">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4480">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4481">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4482" locator="1888:3-1893:33" strict="false" xsi:type="As">
            <operand localId="4480" locator="1888:3-1893:9" path="value" xsi:type="Property">
               <source localId="4479" locator="1888:3-1893:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4478" locator="1889:3-1892:64" xsi:type="Query">
                     <source localId="4451" locator="1889:3-1889:47" alias="O">
                        <expression localId="4450" locator="1889:3-1889:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1889:17-1889:44" name="Other test(s) result(s)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4477" locator="1890:5-1892:64" xsi:type="And">
                        <operand localId="4467" locator="1890:11-1891:80" xsi:type="And">
                           <operand localId="4458" locator="1890:11-1890:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4453" locator="1890:11-1890:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4457" locator="1890:23-1890:57" xsi:type="List">
                                 <element localId="4454" locator="1890:25-1890:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4455" locator="1890:34-1890:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4456" locator="1890:45-1890:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4466" locator="1891:11-1891:80" xsi:type="IsFalse">
                              <operand localId="4465" locator="1891:11-1891:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4463" locator="1891:20-1891:63" path="value" xsi:type="Property">
                                          <source localId="4462" locator="1891:20-1891:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4460" locator="1891:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4461" locator="1891:44-1891:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4464" locator="1891:66-1891:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4476" locator="1892:11-1892:64" xsi:type="Equal">
                           <operand localId="4473" locator="1892:11-1892:49" xsi:type="Last">
                              <source localId="4472" locator="1892:16-1892:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4470" locator="1892:22-1892:42" path="reference" xsi:type="Property">
                                       <source localId="4469" locator="1892:22-1892:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4471" locator="1892:45-1892:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4475" locator="1892:53-1892:64" path="id" xsi:type="Property">
                                 <source localId="4474" locator="1892:53-1892:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4481" locator="1893:14-1893:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4518" locator="1901:1-1907:33" name="Blood type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4518">
               <a:s>/*
  @dataElement: ANC.B9.DE24 Blood type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: The client's blood type
*/
define &quot;Blood type&quot;:
  </a:s>
               <a:s r="4517">
                  <a:s r="4515">
                     <a:s r="4514">
                        <a:s r="4484">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4514">
                           <a:s>Only(
  </a:s>
                           <a:s r="4513">
                              <a:s>
                                 <a:s r="4486">
                                    <a:s r="4485">
                                       <a:s r="4485">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Blood type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4512">
                                 <a:s>where </a:s>
                                 <a:s r="4512">
                                    <a:s r="4502">
                                       <a:s r="4493">
                                          <a:s r="4488">
                                             <a:s r="4487">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4488">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4492">
                                             <a:s>{ </a:s>
                                             <a:s r="4489">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4490">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4491">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4501">
                                          <a:s r="4500">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4498">
                                                <a:s r="4497">
                                                   <a:s r="4494">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4497">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4495">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4496">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4498">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4499">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4511">
                                       <a:s r="4508">
                                          <a:s>Last(</a:s>
                                          <a:s r="4507">
                                             <a:s>Split(</a:s>
                                             <a:s r="4505">
                                                <a:s r="4504">
                                                   <a:s r="4503">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4504">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4505">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4506">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4510">
                                          <a:s r="4509">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4510">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4515">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4516">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4517" locator="1902:3-1907:33" strict="false" xsi:type="As">
            <operand localId="4515" locator="1902:3-1907:9" path="value" xsi:type="Property">
               <source localId="4514" locator="1902:3-1907:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4513" locator="1903:3-1906:64" xsi:type="Query">
                     <source localId="4486" locator="1903:3-1903:34" alias="O">
                        <expression localId="4485" locator="1903:3-1903:32" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1903:17-1903:31" name="Blood type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4512" locator="1904:5-1906:64" xsi:type="And">
                        <operand localId="4502" locator="1904:11-1905:80" xsi:type="And">
                           <operand localId="4493" locator="1904:11-1904:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4488" locator="1904:11-1904:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4492" locator="1904:23-1904:57" xsi:type="List">
                                 <element localId="4489" locator="1904:25-1904:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4490" locator="1904:34-1904:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4491" locator="1904:45-1904:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4501" locator="1905:11-1905:80" xsi:type="IsFalse">
                              <operand localId="4500" locator="1905:11-1905:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4498" locator="1905:20-1905:63" path="value" xsi:type="Property">
                                          <source localId="4497" locator="1905:20-1905:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4495" locator="1905:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4496" locator="1905:44-1905:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4499" locator="1905:66-1905:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4511" locator="1906:11-1906:64" xsi:type="Equal">
                           <operand localId="4508" locator="1906:11-1906:49" xsi:type="Last">
                              <source localId="4507" locator="1906:16-1906:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4505" locator="1906:22-1906:42" path="reference" xsi:type="Property">
                                       <source localId="4504" locator="1906:22-1906:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4506" locator="1906:45-1906:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4510" locator="1906:53-1906:64" path="id" xsi:type="Property">
                                 <source localId="4509" locator="1906:53-1906:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4516" locator="1907:14-1907:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4553" locator="1915:1-1921:33" name="Rh factor" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4553">
               <a:s>/*
  @dataElement: ANC.B9.DE29 Rh factor
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: The client's Rhesus (Rh) factor
*/
define &quot;Rh factor&quot;:
  </a:s>
               <a:s r="4552">
                  <a:s r="4550">
                     <a:s r="4549">
                        <a:s r="4519">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4549">
                           <a:s>Only(
  </a:s>
                           <a:s r="4548">
                              <a:s>
                                 <a:s r="4521">
                                    <a:s r="4520">
                                       <a:s r="4520">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Rh factor&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4547">
                                 <a:s>where </a:s>
                                 <a:s r="4547">
                                    <a:s r="4537">
                                       <a:s r="4528">
                                          <a:s r="4523">
                                             <a:s r="4522">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4523">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4527">
                                             <a:s>{ </a:s>
                                             <a:s r="4524">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4525">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4526">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4536">
                                          <a:s r="4535">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4533">
                                                <a:s r="4532">
                                                   <a:s r="4529">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4532">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4530">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4531">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4533">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4534">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4546">
                                       <a:s r="4543">
                                          <a:s>Last(</a:s>
                                          <a:s r="4542">
                                             <a:s>Split(</a:s>
                                             <a:s r="4540">
                                                <a:s r="4539">
                                                   <a:s r="4538">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4539">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4540">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4541">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4545">
                                          <a:s r="4544">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4545">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4550">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4551">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4552" locator="1916:3-1921:33" strict="false" xsi:type="As">
            <operand localId="4550" locator="1916:3-1921:9" path="value" xsi:type="Property">
               <source localId="4549" locator="1916:3-1921:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4548" locator="1917:3-1920:64" xsi:type="Query">
                     <source localId="4521" locator="1917:3-1917:33" alias="O">
                        <expression localId="4520" locator="1917:3-1917:31" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1917:17-1917:30" name="Rh factor" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4547" locator="1918:5-1920:64" xsi:type="And">
                        <operand localId="4537" locator="1918:11-1919:80" xsi:type="And">
                           <operand localId="4528" locator="1918:11-1918:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4523" locator="1918:11-1918:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4527" locator="1918:23-1918:57" xsi:type="List">
                                 <element localId="4524" locator="1918:25-1918:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4525" locator="1918:34-1918:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4526" locator="1918:45-1918:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4536" locator="1919:11-1919:80" xsi:type="IsFalse">
                              <operand localId="4535" locator="1919:11-1919:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4533" locator="1919:20-1919:63" path="value" xsi:type="Property">
                                          <source localId="4532" locator="1919:20-1919:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4530" locator="1919:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4531" locator="1919:44-1919:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4534" locator="1919:66-1919:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4546" locator="1920:11-1920:64" xsi:type="Equal">
                           <operand localId="4543" locator="1920:11-1920:49" xsi:type="Last">
                              <source localId="4542" locator="1920:16-1920:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4540" locator="1920:22-1920:42" path="reference" xsi:type="Property">
                                       <source localId="4539" locator="1920:22-1920:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4541" locator="1920:45-1920:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4545" locator="1920:53-1920:64" path="id" xsi:type="Property">
                                 <source localId="4544" locator="1920:53-1920:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4551" locator="1921:14-1921:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4588" locator="1929:1-1935:25" name="HIV test required" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4588">
               <a:s>/*
  @dataElement: ANC.B9.DE33 HIV test required
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: HIV test is required
*/
define &quot;HIV test required&quot;:
  </a:s>
               <a:s r="4587">
                  <a:s r="4585">
                     <a:s r="4584">
                        <a:s r="4554">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4584">
                           <a:s>Only(
  </a:s>
                           <a:s r="4583">
                              <a:s>
                                 <a:s r="4556">
                                    <a:s r="4555">
                                       <a:s r="4555">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;HIV test required&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4582">
                                 <a:s>where </a:s>
                                 <a:s r="4582">
                                    <a:s r="4572">
                                       <a:s r="4563">
                                          <a:s r="4558">
                                             <a:s r="4557">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4558">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4562">
                                             <a:s>{ </a:s>
                                             <a:s r="4559">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4560">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4561">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4571">
                                          <a:s r="4570">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4568">
                                                <a:s r="4567">
                                                   <a:s r="4564">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4567">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4565">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4566">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4568">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4569">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4581">
                                       <a:s r="4578">
                                          <a:s>Last(</a:s>
                                          <a:s r="4577">
                                             <a:s>Split(</a:s>
                                             <a:s r="4575">
                                                <a:s r="4574">
                                                   <a:s r="4573">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4574">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4575">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4576">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4580">
                                          <a:s r="4579">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4580">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4585">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4586">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4587" locator="1930:3-1935:25" strict="false" xsi:type="As">
            <operand localId="4585" locator="1930:3-1935:9" path="value" xsi:type="Property">
               <source localId="4584" locator="1930:3-1935:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4583" locator="1931:3-1934:64" xsi:type="Query">
                     <source localId="4556" locator="1931:3-1931:41" alias="O">
                        <expression localId="4555" locator="1931:3-1931:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1931:17-1931:38" name="HIV test required" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4582" locator="1932:5-1934:64" xsi:type="And">
                        <operand localId="4572" locator="1932:11-1933:80" xsi:type="And">
                           <operand localId="4563" locator="1932:11-1932:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4558" locator="1932:11-1932:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4562" locator="1932:23-1932:57" xsi:type="List">
                                 <element localId="4559" locator="1932:25-1932:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4560" locator="1932:34-1932:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4561" locator="1932:45-1932:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4571" locator="1933:11-1933:80" xsi:type="IsFalse">
                              <operand localId="4570" locator="1933:11-1933:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4568" locator="1933:20-1933:63" path="value" xsi:type="Property">
                                          <source localId="4567" locator="1933:20-1933:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4565" locator="1933:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4566" locator="1933:44-1933:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4569" locator="1933:66-1933:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4581" locator="1934:11-1934:64" xsi:type="Equal">
                           <operand localId="4578" locator="1934:11-1934:49" xsi:type="Last">
                              <source localId="4577" locator="1934:16-1934:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4575" locator="1934:22-1934:42" path="reference" xsi:type="Property">
                                       <source localId="4574" locator="1934:22-1934:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4576" locator="1934:45-1934:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4580" locator="1934:53-1934:64" path="id" xsi:type="Property">
                                 <source localId="4579" locator="1934:53-1934:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4586" locator="1935:14-1935:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4619" locator="1943:1-1949:8" name="HIV test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4619">
               <a:s>/*
  @dataElement: ANC.B9.DE34 HIV test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: HIV test has been ordered
*/
define &quot;HIV test ordered&quot;:
  </a:s>
               <a:s r="4618">
                  <a:s r="4617">
                     <a:s r="4589">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4617">
                        <a:s>Only(
  </a:s>
                        <a:s r="4616">
                           <a:s>
                              <a:s r="4591">
                                 <a:s r="4590">
                                    <a:s r="4590">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;HIV test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4615">
                              <a:s>where </a:s>
                              <a:s r="4615">
                                 <a:s r="4605">
                                    <a:s r="4599">
                                       <a:s r="4593">
                                          <a:s r="4592">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4593">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4598">
                                          <a:s>{ </a:s>
                                          <a:s r="4594">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4595">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4596">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4597">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4604">
                                       <a:s r="4603">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4601">
                                             <a:s r="4600">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4601">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4602">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4614">
                                    <a:s r="4611">
                                       <a:s>Last(</a:s>
                                       <a:s r="4610">
                                          <a:s>Split(</a:s>
                                          <a:s r="4608">
                                             <a:s r="4607">
                                                <a:s r="4606">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4607">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4608">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4609">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4613">
                                       <a:s r="4612">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4613">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4618">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4618" locator="1944:3-1949:8" path="code" xsi:type="Property">
            <source localId="4617" locator="1944:3-1949:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4616" locator="1945:3-1948:65" xsi:type="Query">
                  <source localId="4591" locator="1945:3-1945:44" alias="SR">
                     <expression localId="4590" locator="1945:3-1945:41" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="1945:20-1945:40" name="HIV test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4615" locator="1946:5-1948:65" xsi:type="And">
                     <operand localId="4605" locator="1946:11-1947:51" xsi:type="And">
                        <operand localId="4599" locator="1946:11-1946:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4593" locator="1946:11-1946:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4598" locator="1946:24-1946:68" xsi:type="List">
                              <element localId="4594" locator="1946:26-1946:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4595" locator="1946:35-1946:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4596" locator="1946:45-1946:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4597" locator="1946:56-1946:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4604" locator="1947:11-1947:51" xsi:type="IsFalse">
                           <operand localId="4603" locator="1947:11-1947:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4601" locator="1947:20-1947:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4602" locator="1947:37-1947:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4614" locator="1948:11-1948:65" xsi:type="Equal">
                        <operand localId="4611" locator="1948:11-1948:50" xsi:type="Last">
                           <source localId="4610" locator="1948:16-1948:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4608" locator="1948:22-1948:43" path="reference" xsi:type="Property">
                                    <source localId="4607" locator="1948:22-1948:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4609" locator="1948:46-1948:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4613" locator="1948:54-1948:65" path="id" xsi:type="Property">
                              <source localId="4612" locator="1948:54-1948:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4640" locator="1957:1-1961:19" name="Reason HIV test not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4640">
               <a:s>/*
  @dataElement: ANC.B9.DE36 Reason HIV test not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why an HIV test was not done
*/
define &quot;Reason HIV test not done&quot;:
  </a:s>
               <a:s r="4639">
                  <a:s>
                     <a:s r="4621">
                        <a:s r="4620">
                           <a:s r="4620">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason HIV test not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4635">
                     <a:s>where </a:s>
                     <a:s r="4635">
                        <a:s r="4625">
                           <a:s r="4623">
                              <a:s r="4622">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4623">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4624">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="4634">
                           <a:s r="4631">
                              <a:s>Last(</a:s>
                              <a:s r="4630">
                                 <a:s>Split(</a:s>
                                 <a:s r="4628">
                                    <a:s r="4627">
                                       <a:s r="4626">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4627">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="4628">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="4629">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4633">
                              <a:s r="4632">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4633">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4638">
                     <a:s>return </a:s>
                     <a:s r="4637">
                        <a:s r="4636">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4637">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4639" locator="1958:3-1961:19" xsi:type="Query">
            <source localId="4621" locator="1958:3-1958:48" alias="PND">
               <expression localId="4620" locator="1958:3-1958:44" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="1958:15-1958:43" name="Reason HIV test not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="4635" locator="1959:5-1960:66" xsi:type="And">
               <operand localId="4625" locator="1959:11-1959:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4623" locator="1959:11-1959:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="4624" locator="1959:24-1959:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="4634" locator="1960:11-1960:66" xsi:type="Equal">
                  <operand localId="4631" locator="1960:11-1960:51" xsi:type="Last">
                     <source localId="4630" locator="1960:16-1960:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4628" locator="1960:22-1960:44" path="reference" xsi:type="Property">
                              <source localId="4627" locator="1960:22-1960:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="4629" locator="1960:47-1960:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4633" locator="1960:55-1960:66" path="id" xsi:type="Property">
                        <source localId="4632" locator="1960:55-1960:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="4638" locator="1961:5-1961:19">
               <expression localId="4637" locator="1961:12-1961:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="4675" locator="1969:1-1975:33" name="HIV test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4675">
               <a:s>/*
  @dataElement: ANC.B9.DE41 HIV test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the result of the HIV test
*/
define &quot;HIV test result&quot;:
  </a:s>
               <a:s r="4674">
                  <a:s r="4672">
                     <a:s r="4671">
                        <a:s r="4641">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4671">
                           <a:s>Only(
  </a:s>
                           <a:s r="4670">
                              <a:s>
                                 <a:s r="4643">
                                    <a:s r="4642">
                                       <a:s r="4642">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;HIV test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4669">
                                 <a:s>where </a:s>
                                 <a:s r="4669">
                                    <a:s r="4659">
                                       <a:s r="4650">
                                          <a:s r="4645">
                                             <a:s r="4644">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4645">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4649">
                                             <a:s>{ </a:s>
                                             <a:s r="4646">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4647">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4648">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4658">
                                          <a:s r="4657">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4655">
                                                <a:s r="4654">
                                                   <a:s r="4651">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4654">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4652">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4653">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4655">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4656">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4668">
                                       <a:s r="4665">
                                          <a:s>Last(</a:s>
                                          <a:s r="4664">
                                             <a:s>Split(</a:s>
                                             <a:s r="4662">
                                                <a:s r="4661">
                                                   <a:s r="4660">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4661">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4662">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4663">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4667">
                                          <a:s r="4666">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4667">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4672">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4673">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4674" locator="1970:3-1975:33" strict="false" xsi:type="As">
            <operand localId="4672" locator="1970:3-1975:9" path="value" xsi:type="Property">
               <source localId="4671" locator="1970:3-1975:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4670" locator="1971:3-1974:64" xsi:type="Query">
                     <source localId="4643" locator="1971:3-1971:39" alias="O">
                        <expression localId="4642" locator="1971:3-1971:37" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1971:17-1971:36" name="HIV test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4669" locator="1972:5-1974:64" xsi:type="And">
                        <operand localId="4659" locator="1972:11-1973:80" xsi:type="And">
                           <operand localId="4650" locator="1972:11-1972:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4645" locator="1972:11-1972:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4649" locator="1972:23-1972:57" xsi:type="List">
                                 <element localId="4646" locator="1972:25-1972:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4647" locator="1972:34-1972:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4648" locator="1972:45-1972:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4658" locator="1973:11-1973:80" xsi:type="IsFalse">
                              <operand localId="4657" locator="1973:11-1973:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4655" locator="1973:20-1973:63" path="value" xsi:type="Property">
                                          <source localId="4654" locator="1973:20-1973:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4652" locator="1973:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4653" locator="1973:44-1973:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4656" locator="1973:66-1973:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4668" locator="1974:11-1974:64" xsi:type="Equal">
                           <operand localId="4665" locator="1974:11-1974:49" xsi:type="Last">
                              <source localId="4664" locator="1974:16-1974:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4662" locator="1974:22-1974:42" path="reference" xsi:type="Property">
                                       <source localId="4661" locator="1974:22-1974:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4663" locator="1974:45-1974:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4667" locator="1974:53-1974:64" path="id" xsi:type="Property">
                                 <source localId="4666" locator="1974:53-1974:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4673" locator="1975:14-1975:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4710" locator="1983:1-1989:33" name="HIV status" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4710">
               <a:s>/*
  @dataElement: ANC.B9.DE45 HIV status
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Calculated field for woman's HIV status
*/
define &quot;HIV status&quot;:
  </a:s>
               <a:s r="4709">
                  <a:s r="4707">
                     <a:s r="4706">
                        <a:s r="4676">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4706">
                           <a:s>Only(
  </a:s>
                           <a:s r="4705">
                              <a:s>
                                 <a:s r="4678">
                                    <a:s r="4677">
                                       <a:s r="4677">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;HIV status&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4704">
                                 <a:s>where </a:s>
                                 <a:s r="4704">
                                    <a:s r="4694">
                                       <a:s r="4685">
                                          <a:s r="4680">
                                             <a:s r="4679">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4680">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4684">
                                             <a:s>{ </a:s>
                                             <a:s r="4681">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4682">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4683">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4693">
                                          <a:s r="4692">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4690">
                                                <a:s r="4689">
                                                   <a:s r="4686">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4689">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4687">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4688">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4690">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4691">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4703">
                                       <a:s r="4700">
                                          <a:s>Last(</a:s>
                                          <a:s r="4699">
                                             <a:s>Split(</a:s>
                                             <a:s r="4697">
                                                <a:s r="4696">
                                                   <a:s r="4695">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4696">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4697">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4698">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4702">
                                          <a:s r="4701">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4702">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4707">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4708">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4709" locator="1984:3-1989:33" strict="false" xsi:type="As">
            <operand localId="4707" locator="1984:3-1989:9" path="value" xsi:type="Property">
               <source localId="4706" locator="1984:3-1989:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4705" locator="1985:3-1988:64" xsi:type="Query">
                     <source localId="4678" locator="1985:3-1985:34" alias="O">
                        <expression localId="4677" locator="1985:3-1985:32" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1985:17-1985:31" name="HIV status" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4704" locator="1986:5-1988:64" xsi:type="And">
                        <operand localId="4694" locator="1986:11-1987:80" xsi:type="And">
                           <operand localId="4685" locator="1986:11-1986:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4680" locator="1986:11-1986:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4684" locator="1986:23-1986:57" xsi:type="List">
                                 <element localId="4681" locator="1986:25-1986:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4682" locator="1986:34-1986:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4683" locator="1986:45-1986:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4693" locator="1987:11-1987:80" xsi:type="IsFalse">
                              <operand localId="4692" locator="1987:11-1987:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4690" locator="1987:20-1987:63" path="value" xsi:type="Property">
                                          <source localId="4689" locator="1987:20-1987:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4687" locator="1987:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4688" locator="1987:44-1987:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4691" locator="1987:66-1987:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4703" locator="1988:11-1988:64" xsi:type="Equal">
                           <operand localId="4700" locator="1988:11-1988:49" xsi:type="Last">
                              <source localId="4699" locator="1988:16-1988:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4697" locator="1988:22-1988:42" path="reference" xsi:type="Property">
                                       <source localId="4696" locator="1988:22-1988:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4698" locator="1988:45-1988:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4702" locator="1988:53-1988:64" path="id" xsi:type="Property">
                                 <source localId="4701" locator="1988:53-1988:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4708" locator="1989:14-1989:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4745" locator="1997:1-2003:33" name="Partner HIV test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4745">
               <a:s>/*
  @dataElement: ANC.B9.DE48 Partner HIV test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the result of her partner's HIV test
*/
define &quot;Partner HIV test result&quot;:
  </a:s>
               <a:s r="4744">
                  <a:s r="4742">
                     <a:s r="4741">
                        <a:s r="4711">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4741">
                           <a:s>Only(
  </a:s>
                           <a:s r="4740">
                              <a:s>
                                 <a:s r="4713">
                                    <a:s r="4712">
                                       <a:s r="4712">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Partner HIV test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4739">
                                 <a:s>where </a:s>
                                 <a:s r="4739">
                                    <a:s r="4729">
                                       <a:s r="4720">
                                          <a:s r="4715">
                                             <a:s r="4714">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4715">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4719">
                                             <a:s>{ </a:s>
                                             <a:s r="4716">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4717">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4718">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4728">
                                          <a:s r="4727">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4725">
                                                <a:s r="4724">
                                                   <a:s r="4721">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4724">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4722">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4723">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4725">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4726">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4738">
                                       <a:s r="4735">
                                          <a:s>Last(</a:s>
                                          <a:s r="4734">
                                             <a:s>Split(</a:s>
                                             <a:s r="4732">
                                                <a:s r="4731">
                                                   <a:s r="4730">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4731">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4732">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4733">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4737">
                                          <a:s r="4736">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4737">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4742">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4743">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4744" locator="1998:3-2003:33" strict="false" xsi:type="As">
            <operand localId="4742" locator="1998:3-2003:9" path="value" xsi:type="Property">
               <source localId="4741" locator="1998:3-2003:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4740" locator="1999:3-2002:64" xsi:type="Query">
                     <source localId="4713" locator="1999:3-1999:47" alias="O">
                        <expression localId="4712" locator="1999:3-1999:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="1999:17-1999:44" name="Partner HIV test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4739" locator="2000:5-2002:64" xsi:type="And">
                        <operand localId="4729" locator="2000:11-2001:80" xsi:type="And">
                           <operand localId="4720" locator="2000:11-2000:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4715" locator="2000:11-2000:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4719" locator="2000:23-2000:57" xsi:type="List">
                                 <element localId="4716" locator="2000:25-2000:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4717" locator="2000:34-2000:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4718" locator="2000:45-2000:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4728" locator="2001:11-2001:80" xsi:type="IsFalse">
                              <operand localId="4727" locator="2001:11-2001:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4725" locator="2001:20-2001:63" path="value" xsi:type="Property">
                                          <source localId="4724" locator="2001:20-2001:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4722" locator="2001:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4723" locator="2001:44-2001:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4726" locator="2001:66-2001:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4738" locator="2002:11-2002:64" xsi:type="Equal">
                           <operand localId="4735" locator="2002:11-2002:49" xsi:type="Last">
                              <source localId="4734" locator="2002:16-2002:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4732" locator="2002:22-2002:42" path="reference" xsi:type="Property">
                                       <source localId="4731" locator="2002:22-2002:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4733" locator="2002:45-2002:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4737" locator="2002:53-2002:64" path="id" xsi:type="Property">
                                 <source localId="4736" locator="2002:53-2002:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4743" locator="2003:14-2003:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4776" locator="2011:1-2017:8" name="Partner HIV test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4776">
               <a:s>/*
  @dataElement: ANC.B9.DE49 Partner HIV test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: An HIV test for the woman's partner has been ordered
*/
define &quot;Partner HIV test ordered&quot;:
  </a:s>
               <a:s r="4775">
                  <a:s r="4774">
                     <a:s r="4746">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4774">
                        <a:s>Only(
  </a:s>
                        <a:s r="4773">
                           <a:s>
                              <a:s r="4748">
                                 <a:s r="4747">
                                    <a:s r="4747">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Partner HIV test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4772">
                              <a:s>where </a:s>
                              <a:s r="4772">
                                 <a:s r="4762">
                                    <a:s r="4756">
                                       <a:s r="4750">
                                          <a:s r="4749">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4750">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4755">
                                          <a:s>{ </a:s>
                                          <a:s r="4751">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4752">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4753">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4754">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4761">
                                       <a:s r="4760">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4758">
                                             <a:s r="4757">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4758">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4759">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4771">
                                    <a:s r="4768">
                                       <a:s>Last(</a:s>
                                       <a:s r="4767">
                                          <a:s>Split(</a:s>
                                          <a:s r="4765">
                                             <a:s r="4764">
                                                <a:s r="4763">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4764">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4765">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4766">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4770">
                                       <a:s r="4769">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4770">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4775">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4775" locator="2012:3-2017:8" path="code" xsi:type="Property">
            <source localId="4774" locator="2012:3-2017:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4773" locator="2013:3-2016:65" xsi:type="Query">
                  <source localId="4748" locator="2013:3-2013:52" alias="SR">
                     <expression localId="4747" locator="2013:3-2013:49" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2013:20-2013:48" name="Partner HIV test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4772" locator="2014:5-2016:65" xsi:type="And">
                     <operand localId="4762" locator="2014:11-2015:51" xsi:type="And">
                        <operand localId="4756" locator="2014:11-2014:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4750" locator="2014:11-2014:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4755" locator="2014:24-2014:68" xsi:type="List">
                              <element localId="4751" locator="2014:26-2014:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4752" locator="2014:35-2014:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4753" locator="2014:45-2014:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4754" locator="2014:56-2014:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4761" locator="2015:11-2015:51" xsi:type="IsFalse">
                           <operand localId="4760" locator="2015:11-2015:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4758" locator="2015:20-2015:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4759" locator="2015:37-2015:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4771" locator="2016:11-2016:65" xsi:type="Equal">
                        <operand localId="4768" locator="2016:11-2016:50" xsi:type="Last">
                           <source localId="4767" locator="2016:16-2016:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4765" locator="2016:22-2016:43" path="reference" xsi:type="Property">
                                    <source localId="4764" locator="2016:22-2016:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4766" locator="2016:46-2016:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4770" locator="2016:54-2016:65" path="id" xsi:type="Property">
                              <source localId="4769" locator="2016:54-2016:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4797" locator="2025:1-2030:8" name="Reason ultrasound scan not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4797">
               <a:s>/*
  @dataElement: ANC.B9.DE5 Reason ultrasound scan not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why an ultrasound scan was not done
*/
define &quot;Reason ultrasound scan not done&quot;:
  </a:s>
               <a:s r="4796">
                  <a:s r="4795">
                     <a:s r="4777">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4795">
                        <a:s>Only(
  </a:s>
                        <a:s r="4794">
                           <a:s>
                              <a:s r="4779">
                                 <a:s r="4778">
                                    <a:s r="4778">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason ultrasound scan not done&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4793">
                              <a:s>where </a:s>
                              <a:s r="4793">
                                 <a:s r="4783">
                                    <a:s r="4781">
                                       <a:s r="4780">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4781">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4782">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4792">
                                    <a:s r="4789">
                                       <a:s>Last(</a:s>
                                       <a:s r="4788">
                                          <a:s>Split(</a:s>
                                          <a:s r="4786">
                                             <a:s r="4785">
                                                <a:s r="4784">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4785">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4786">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4787">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4791">
                                       <a:s r="4790">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4791">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4796">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4796" locator="2026:3-2030:8" path="code" xsi:type="Property">
            <source localId="4795" locator="2026:3-2030:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4794" locator="2027:3-2029:66" xsi:type="Query">
                  <source localId="4779" locator="2027:3-2027:55" alias="PND">
                     <expression localId="4778" locator="2027:3-2027:51" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2027:15-2027:50" name="Reason ultrasound scan not done" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4793" locator="2028:5-2029:66" xsi:type="And">
                     <operand localId="4783" locator="2028:11-2028:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4781" locator="2028:11-2028:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="4782" locator="2028:24-2028:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="4792" locator="2029:11-2029:66" xsi:type="Equal">
                        <operand localId="4789" locator="2029:11-2029:51" xsi:type="Last">
                           <source localId="4788" locator="2029:16-2029:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4786" locator="2029:22-2029:44" path="reference" xsi:type="Property">
                                    <source localId="4785" locator="2029:22-2029:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4787" locator="2029:47-2029:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4791" locator="2029:55-2029:66" path="id" xsi:type="Property">
                              <source localId="4790" locator="2029:55-2029:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4832" locator="2038:1-2044:33" name="Partner HIV status (confirmed)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4832">
               <a:s>/*
  @dataElement: ANC.B9.DE55 Partner HIV status (confirmed)
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Partner's confirmed HIV status
*/
define &quot;Partner HIV status (confirmed)&quot;:
  </a:s>
               <a:s r="4831">
                  <a:s r="4829">
                     <a:s r="4828">
                        <a:s r="4798">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4828">
                           <a:s>Only(
  </a:s>
                           <a:s r="4827">
                              <a:s>
                                 <a:s r="4800">
                                    <a:s r="4799">
                                       <a:s r="4799">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Partner HIV status (confirmed)&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4826">
                                 <a:s>where </a:s>
                                 <a:s r="4826">
                                    <a:s r="4816">
                                       <a:s r="4807">
                                          <a:s r="4802">
                                             <a:s r="4801">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4802">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4806">
                                             <a:s>{ </a:s>
                                             <a:s r="4803">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4804">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4805">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4815">
                                          <a:s r="4814">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4812">
                                                <a:s r="4811">
                                                   <a:s r="4808">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4811">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4809">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4810">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4812">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4813">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4825">
                                       <a:s r="4822">
                                          <a:s>Last(</a:s>
                                          <a:s r="4821">
                                             <a:s>Split(</a:s>
                                             <a:s r="4819">
                                                <a:s r="4818">
                                                   <a:s r="4817">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4818">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4819">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4820">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4824">
                                          <a:s r="4823">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4824">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4829">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4830">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4831" locator="2039:3-2044:33" strict="false" xsi:type="As">
            <operand localId="4829" locator="2039:3-2044:9" path="value" xsi:type="Property">
               <source localId="4828" locator="2039:3-2044:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4827" locator="2040:3-2043:64" xsi:type="Query">
                     <source localId="4800" locator="2040:3-2040:54" alias="O">
                        <expression localId="4799" locator="2040:3-2040:52" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2040:17-2040:51" name="Partner HIV status (confirmed)" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4826" locator="2041:5-2043:64" xsi:type="And">
                        <operand localId="4816" locator="2041:11-2042:80" xsi:type="And">
                           <operand localId="4807" locator="2041:11-2041:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4802" locator="2041:11-2041:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4806" locator="2041:23-2041:57" xsi:type="List">
                                 <element localId="4803" locator="2041:25-2041:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4804" locator="2041:34-2041:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4805" locator="2041:45-2041:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4815" locator="2042:11-2042:80" xsi:type="IsFalse">
                              <operand localId="4814" locator="2042:11-2042:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4812" locator="2042:20-2042:63" path="value" xsi:type="Property">
                                          <source localId="4811" locator="2042:20-2042:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4809" locator="2042:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4810" locator="2042:44-2042:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4813" locator="2042:66-2042:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4825" locator="2043:11-2043:64" xsi:type="Equal">
                           <operand localId="4822" locator="2043:11-2043:49" xsi:type="Last">
                              <source localId="4821" locator="2043:16-2043:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4819" locator="2043:22-2043:42" path="reference" xsi:type="Property">
                                       <source localId="4818" locator="2043:22-2043:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4820" locator="2043:45-2043:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4824" locator="2043:53-2043:64" path="id" xsi:type="Property">
                                 <source localId="4823" locator="2043:53-2043:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4830" locator="2044:14-2044:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4867" locator="2052:1-2058:25" name="High risk for HIV" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4867">
               <a:s>/*
  @dataElement: ANC.B9.DE58 High risk for HIV
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: If the woman lives in a setting with a generalized HIV epidemic, or her partner is HIV positive, or she injects drugs, or she has an employment at increased risk for HIV, then she is at high risk for HIV
*/
define &quot;High risk for HIV&quot;:
  </a:s>
               <a:s r="4866">
                  <a:s r="4864">
                     <a:s r="4863">
                        <a:s r="4833">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4863">
                           <a:s>Only(
  </a:s>
                           <a:s r="4862">
                              <a:s>
                                 <a:s r="4835">
                                    <a:s r="4834">
                                       <a:s r="4834">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;High risk for HIV&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4861">
                                 <a:s>where </a:s>
                                 <a:s r="4861">
                                    <a:s r="4851">
                                       <a:s r="4842">
                                          <a:s r="4837">
                                             <a:s r="4836">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4837">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4841">
                                             <a:s>{ </a:s>
                                             <a:s r="4838">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4839">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4840">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4850">
                                          <a:s r="4849">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4847">
                                                <a:s r="4846">
                                                   <a:s r="4843">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4846">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4844">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4845">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4847">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4848">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4860">
                                       <a:s r="4857">
                                          <a:s>Last(</a:s>
                                          <a:s r="4856">
                                             <a:s>Split(</a:s>
                                             <a:s r="4854">
                                                <a:s r="4853">
                                                   <a:s r="4852">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4853">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4854">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4855">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4859">
                                          <a:s r="4858">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4859">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4864">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4865">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4866" locator="2053:3-2058:25" strict="false" xsi:type="As">
            <operand localId="4864" locator="2053:3-2058:9" path="value" xsi:type="Property">
               <source localId="4863" locator="2053:3-2058:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4862" locator="2054:3-2057:64" xsi:type="Query">
                     <source localId="4835" locator="2054:3-2054:41" alias="O">
                        <expression localId="4834" locator="2054:3-2054:39" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2054:17-2054:38" name="High risk for HIV" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4861" locator="2055:5-2057:64" xsi:type="And">
                        <operand localId="4851" locator="2055:11-2056:80" xsi:type="And">
                           <operand localId="4842" locator="2055:11-2055:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4837" locator="2055:11-2055:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4841" locator="2055:23-2055:57" xsi:type="List">
                                 <element localId="4838" locator="2055:25-2055:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4839" locator="2055:34-2055:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4840" locator="2055:45-2055:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4850" locator="2056:11-2056:80" xsi:type="IsFalse">
                              <operand localId="4849" locator="2056:11-2056:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4847" locator="2056:20-2056:63" path="value" xsi:type="Property">
                                          <source localId="4846" locator="2056:20-2056:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4844" locator="2056:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4845" locator="2056:44-2056:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4848" locator="2056:66-2056:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4860" locator="2057:11-2057:64" xsi:type="Equal">
                           <operand localId="4857" locator="2057:11-2057:49" xsi:type="Last">
                              <source localId="4856" locator="2057:16-2057:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4854" locator="2057:22-2057:42" path="reference" xsi:type="Property">
                                       <source localId="4853" locator="2057:22-2057:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4855" locator="2057:45-2057:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4859" locator="2057:53-2057:64" path="id" xsi:type="Property">
                                 <source localId="4858" locator="2057:53-2057:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4865" locator="2058:14-2058:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4902" locator="2066:1-2072:25" name="Hepatitis B test required" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4902">
               <a:s>/*
  @dataElement: ANC.B9.DE59 Hepatitis B test required
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hepatitis B test is required
*/
define &quot;Hepatitis B test required&quot;:
  </a:s>
               <a:s r="4901">
                  <a:s r="4899">
                     <a:s r="4898">
                        <a:s r="4868">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4898">
                           <a:s>Only(
  </a:s>
                           <a:s r="4897">
                              <a:s>
                                 <a:s r="4870">
                                    <a:s r="4869">
                                       <a:s r="4869">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis B test required&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4896">
                                 <a:s>where </a:s>
                                 <a:s r="4896">
                                    <a:s r="4886">
                                       <a:s r="4877">
                                          <a:s r="4872">
                                             <a:s r="4871">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4872">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4876">
                                             <a:s>{ </a:s>
                                             <a:s r="4873">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4874">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4875">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4885">
                                          <a:s r="4884">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4882">
                                                <a:s r="4881">
                                                   <a:s r="4878">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4881">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4879">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4880">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4882">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4883">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4895">
                                       <a:s r="4892">
                                          <a:s>Last(</a:s>
                                          <a:s r="4891">
                                             <a:s>Split(</a:s>
                                             <a:s r="4889">
                                                <a:s r="4888">
                                                   <a:s r="4887">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4888">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4889">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4890">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4894">
                                          <a:s r="4893">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4894">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4899">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4900">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4901" locator="2067:3-2072:25" strict="false" xsi:type="As">
            <operand localId="4899" locator="2067:3-2072:9" path="value" xsi:type="Property">
               <source localId="4898" locator="2067:3-2072:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4897" locator="2068:3-2071:64" xsi:type="Query">
                     <source localId="4870" locator="2068:3-2068:49" alias="O">
                        <expression localId="4869" locator="2068:3-2068:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2068:17-2068:46" name="Hepatitis B test required" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4896" locator="2069:5-2071:64" xsi:type="And">
                        <operand localId="4886" locator="2069:11-2070:80" xsi:type="And">
                           <operand localId="4877" locator="2069:11-2069:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4872" locator="2069:11-2069:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4876" locator="2069:23-2069:57" xsi:type="List">
                                 <element localId="4873" locator="2069:25-2069:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4874" locator="2069:34-2069:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4875" locator="2069:45-2069:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4885" locator="2070:11-2070:80" xsi:type="IsFalse">
                              <operand localId="4884" locator="2070:11-2070:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4882" locator="2070:20-2070:63" path="value" xsi:type="Property">
                                          <source localId="4881" locator="2070:20-2070:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4879" locator="2070:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4880" locator="2070:44-2070:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4883" locator="2070:66-2070:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4895" locator="2071:11-2071:64" xsi:type="Equal">
                           <operand localId="4892" locator="2071:11-2071:49" xsi:type="Last">
                              <source localId="4891" locator="2071:16-2071:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4889" locator="2071:22-2071:42" path="reference" xsi:type="Property">
                                       <source localId="4888" locator="2071:22-2071:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4890" locator="2071:45-2071:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4894" locator="2071:53-2071:64" path="id" xsi:type="Property">
                                 <source localId="4893" locator="2071:53-2071:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4900" locator="2072:14-2072:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4933" locator="2080:1-2086:8" name="Hepatitis B test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4933">
               <a:s>/*
  @dataElement: ANC.B9.DE61 Hepatitis B test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hepatitis B test has been ordered
*/
define &quot;Hepatitis B test ordered&quot;:
  </a:s>
               <a:s r="4932">
                  <a:s r="4931">
                     <a:s r="4903">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4931">
                        <a:s>Only(
  </a:s>
                        <a:s r="4930">
                           <a:s>
                              <a:s r="4905">
                                 <a:s r="4904">
                                    <a:s r="4904">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis B test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="4929">
                              <a:s>where </a:s>
                              <a:s r="4929">
                                 <a:s r="4919">
                                    <a:s r="4913">
                                       <a:s r="4907">
                                          <a:s r="4906">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4907">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="4912">
                                          <a:s>{ </a:s>
                                          <a:s r="4908">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4909">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4910">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4911">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4918">
                                       <a:s r="4917">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="4915">
                                             <a:s r="4914">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4915">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="4916">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="4928">
                                    <a:s r="4925">
                                       <a:s>Last(</a:s>
                                       <a:s r="4924">
                                          <a:s>Split(</a:s>
                                          <a:s r="4922">
                                             <a:s r="4921">
                                                <a:s r="4920">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4921">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4922">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="4923">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="4927">
                                       <a:s r="4926">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4927">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="4932">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4932" locator="2081:3-2086:8" path="code" xsi:type="Property">
            <source localId="4931" locator="2081:3-2086:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="4930" locator="2082:3-2085:65" xsi:type="Query">
                  <source localId="4905" locator="2082:3-2082:52" alias="SR">
                     <expression localId="4904" locator="2082:3-2082:49" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2082:20-2082:48" name="Hepatitis B test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="4929" locator="2083:5-2085:65" xsi:type="And">
                     <operand localId="4919" locator="2083:11-2084:51" xsi:type="And">
                        <operand localId="4913" locator="2083:11-2083:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4907" locator="2083:11-2083:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="4912" locator="2083:24-2083:68" xsi:type="List">
                              <element localId="4908" locator="2083:26-2083:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="4909" locator="2083:35-2083:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="4910" locator="2083:45-2083:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="4911" locator="2083:56-2083:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="4918" locator="2084:11-2084:51" xsi:type="IsFalse">
                           <operand localId="4917" locator="2084:11-2084:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4915" locator="2084:20-2084:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="4916" locator="2084:37-2084:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="4928" locator="2085:11-2085:65" xsi:type="Equal">
                        <operand localId="4925" locator="2085:11-2085:50" xsi:type="Last">
                           <source localId="4924" locator="2085:16-2085:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4922" locator="2085:22-2085:43" path="reference" xsi:type="Property">
                                    <source localId="4921" locator="2085:22-2085:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="4923" locator="2085:46-2085:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4927" locator="2085:54-2085:65" path="id" xsi:type="Property">
                              <source localId="4926" locator="2085:54-2085:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="4968" locator="2094:1-2100:33" name="Hepatitis B test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4968">
               <a:s>/*
  @dataElement: ANC.B9.DE62 Hepatitis B test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of Hep B test done
*/
define &quot;Hepatitis B test type&quot;:
  </a:s>
               <a:s r="4967">
                  <a:s r="4965">
                     <a:s r="4964">
                        <a:s r="4934">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4964">
                           <a:s>Only(
  </a:s>
                           <a:s r="4963">
                              <a:s>
                                 <a:s r="4936">
                                    <a:s r="4935">
                                       <a:s r="4935">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis B test type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="4962">
                                 <a:s>where </a:s>
                                 <a:s r="4962">
                                    <a:s r="4952">
                                       <a:s r="4943">
                                          <a:s r="4938">
                                             <a:s r="4937">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4938">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4942">
                                             <a:s>{ </a:s>
                                             <a:s r="4939">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4940">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4941">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="4951">
                                          <a:s r="4950">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="4948">
                                                <a:s r="4947">
                                                   <a:s r="4944">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4947">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="4945">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="4946">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4948">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="4949">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="4961">
                                       <a:s r="4958">
                                          <a:s>Last(</a:s>
                                          <a:s r="4957">
                                             <a:s>Split(</a:s>
                                             <a:s r="4955">
                                                <a:s r="4954">
                                                   <a:s r="4953">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="4954">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="4955">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4956">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="4960">
                                          <a:s r="4959">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="4960">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="4965">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="4966">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4967" locator="2095:3-2100:33" strict="false" xsi:type="As">
            <operand localId="4965" locator="2095:3-2100:9" path="value" xsi:type="Property">
               <source localId="4964" locator="2095:3-2100:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="4963" locator="2096:3-2099:64" xsi:type="Query">
                     <source localId="4936" locator="2096:3-2096:45" alias="O">
                        <expression localId="4935" locator="2096:3-2096:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2096:17-2096:42" name="Hepatitis B test type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="4962" locator="2097:5-2099:64" xsi:type="And">
                        <operand localId="4952" locator="2097:11-2098:80" xsi:type="And">
                           <operand localId="4943" locator="2097:11-2097:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4938" locator="2097:11-2097:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4942" locator="2097:23-2097:57" xsi:type="List">
                                 <element localId="4939" locator="2097:25-2097:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4940" locator="2097:34-2097:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4941" locator="2097:45-2097:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="4951" locator="2098:11-2098:80" xsi:type="IsFalse">
                              <operand localId="4950" locator="2098:11-2098:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="4948" locator="2098:20-2098:63" path="value" xsi:type="Property">
                                          <source localId="4947" locator="2098:20-2098:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="4945" locator="2098:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="4946" locator="2098:44-2098:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="4949" locator="2098:66-2098:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="4961" locator="2099:11-2099:64" xsi:type="Equal">
                           <operand localId="4958" locator="2099:11-2099:49" xsi:type="Last">
                              <source localId="4957" locator="2099:16-2099:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="4955" locator="2099:22-2099:42" path="reference" xsi:type="Property">
                                       <source localId="4954" locator="2099:22-2099:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="4956" locator="2099:45-2099:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="4960" locator="2099:53-2099:64" path="id" xsi:type="Property">
                                 <source localId="4959" locator="2099:53-2099:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="4966" locator="2100:14-2100:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="4989" locator="2108:1-2112:19" name="Hepatitis B test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4989">
               <a:s>/*
  @dataElement: ANC.B9.DE66 Hepatitis B test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why a Hep B test was not done
*/
define &quot;Hepatitis B test result&quot;:
  </a:s>
               <a:s r="4988">
                  <a:s>
                     <a:s r="4970">
                        <a:s r="4969">
                           <a:s r="4969">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Hepatitis B test result&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4984">
                     <a:s>where </a:s>
                     <a:s r="4984">
                        <a:s r="4974">
                           <a:s r="4972">
                              <a:s r="4971">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4972">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4973">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="4983">
                           <a:s r="4980">
                              <a:s>Last(</a:s>
                              <a:s r="4979">
                                 <a:s>Split(</a:s>
                                 <a:s r="4977">
                                    <a:s r="4976">
                                       <a:s r="4975">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="4976">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="4977">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="4978">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="4982">
                              <a:s r="4981">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="4982">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="4987">
                     <a:s>return </a:s>
                     <a:s r="4986">
                        <a:s r="4985">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="4986">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="4988" locator="2109:3-2112:19" xsi:type="Query">
            <source localId="4970" locator="2109:3-2109:47" alias="PND">
               <expression localId="4969" locator="2109:3-2109:43" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2109:15-2109:42" name="Hepatitis B test result" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="4984" locator="2110:5-2111:66" xsi:type="And">
               <operand localId="4974" locator="2110:11-2110:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4972" locator="2110:11-2110:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="4973" locator="2110:24-2110:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="4983" locator="2111:11-2111:66" xsi:type="Equal">
                  <operand localId="4980" locator="2111:11-2111:51" xsi:type="Last">
                     <source localId="4979" locator="2111:16-2111:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="4977" locator="2111:22-2111:44" path="reference" xsi:type="Property">
                              <source localId="4976" locator="2111:22-2111:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="4978" locator="2111:47-2111:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="4982" locator="2111:55-2111:66" path="id" xsi:type="Property">
                        <source localId="4981" locator="2111:55-2111:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="4987" locator="2112:5-2112:19">
               <expression localId="4986" locator="2112:12-2112:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="5024" locator="2120:1-2126:33" name="Hepatitis B diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5024">
               <a:s>/*
  @dataElement: ANC.B9.DE74 Hepatitis B diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: This calculates the woman's Hep B infection status as positive (1) or negative (0), taking into account any of the three methods for Hep B testing
*/
define &quot;Hepatitis B diagnosis&quot;:
  </a:s>
               <a:s r="5023">
                  <a:s r="5021">
                     <a:s r="5020">
                        <a:s r="4990">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5020">
                           <a:s>Only(
  </a:s>
                           <a:s r="5019">
                              <a:s>
                                 <a:s r="4992">
                                    <a:s r="4991">
                                       <a:s r="4991">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis B diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5018">
                                 <a:s>where </a:s>
                                 <a:s r="5018">
                                    <a:s r="5008">
                                       <a:s r="4999">
                                          <a:s r="4994">
                                             <a:s r="4993">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="4994">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="4998">
                                             <a:s>{ </a:s>
                                             <a:s r="4995">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4996">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="4997">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5007">
                                          <a:s r="5006">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5004">
                                                <a:s r="5003">
                                                   <a:s r="5000">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5003">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5001">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5002">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5004">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5005">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5017">
                                       <a:s r="5014">
                                          <a:s>Last(</a:s>
                                          <a:s r="5013">
                                             <a:s>Split(</a:s>
                                             <a:s r="5011">
                                                <a:s r="5010">
                                                   <a:s r="5009">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5010">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5011">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5012">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5016">
                                          <a:s r="5015">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5016">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5021">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5022">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5023" locator="2121:3-2126:33" strict="false" xsi:type="As">
            <operand localId="5021" locator="2121:3-2126:9" path="value" xsi:type="Property">
               <source localId="5020" locator="2121:3-2126:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5019" locator="2122:3-2125:64" xsi:type="Query">
                     <source localId="4992" locator="2122:3-2122:45" alias="O">
                        <expression localId="4991" locator="2122:3-2122:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2122:17-2122:42" name="Hepatitis B diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5018" locator="2123:5-2125:64" xsi:type="And">
                        <operand localId="5008" locator="2123:11-2124:80" xsi:type="And">
                           <operand localId="4999" locator="2123:11-2123:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="4994" locator="2123:11-2123:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="4998" locator="2123:23-2123:57" xsi:type="List">
                                 <element localId="4995" locator="2123:25-2123:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="4996" locator="2123:34-2123:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="4997" locator="2123:45-2123:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5007" locator="2124:11-2124:80" xsi:type="IsFalse">
                              <operand localId="5006" locator="2124:11-2124:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5004" locator="2124:20-2124:63" path="value" xsi:type="Property">
                                          <source localId="5003" locator="2124:20-2124:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5001" locator="2124:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5002" locator="2124:44-2124:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5005" locator="2124:66-2124:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5017" locator="2125:11-2125:64" xsi:type="Equal">
                           <operand localId="5014" locator="2125:11-2125:49" xsi:type="Last">
                              <source localId="5013" locator="2125:16-2125:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5011" locator="2125:22-2125:42" path="reference" xsi:type="Property">
                                       <source localId="5010" locator="2125:22-2125:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5012" locator="2125:45-2125:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5016" locator="2125:53-2125:64" path="id" xsi:type="Property">
                                 <source localId="5015" locator="2125:53-2125:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5022" locator="2126:14-2126:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5059" locator="2134:1-2140:25" name="Hepatitis C test required" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5059">
               <a:s>/*
  @dataElement: ANC.B9.DE77 Hepatitis C test required
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hepatitis C test is required
*/
define &quot;Hepatitis C test required&quot;:
  </a:s>
               <a:s r="5058">
                  <a:s r="5056">
                     <a:s r="5055">
                        <a:s r="5025">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5055">
                           <a:s>Only(
  </a:s>
                           <a:s r="5054">
                              <a:s>
                                 <a:s r="5027">
                                    <a:s r="5026">
                                       <a:s r="5026">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis C test required&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5053">
                                 <a:s>where </a:s>
                                 <a:s r="5053">
                                    <a:s r="5043">
                                       <a:s r="5034">
                                          <a:s r="5029">
                                             <a:s r="5028">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5029">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5033">
                                             <a:s>{ </a:s>
                                             <a:s r="5030">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5031">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5032">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5042">
                                          <a:s r="5041">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5039">
                                                <a:s r="5038">
                                                   <a:s r="5035">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5038">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5036">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5037">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5039">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5040">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5052">
                                       <a:s r="5049">
                                          <a:s>Last(</a:s>
                                          <a:s r="5048">
                                             <a:s>Split(</a:s>
                                             <a:s r="5046">
                                                <a:s r="5045">
                                                   <a:s r="5044">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5045">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5046">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5047">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5051">
                                          <a:s r="5050">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5051">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5056">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5057">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5058" locator="2135:3-2140:25" strict="false" xsi:type="As">
            <operand localId="5056" locator="2135:3-2140:9" path="value" xsi:type="Property">
               <source localId="5055" locator="2135:3-2140:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5054" locator="2136:3-2139:64" xsi:type="Query">
                     <source localId="5027" locator="2136:3-2136:49" alias="O">
                        <expression localId="5026" locator="2136:3-2136:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2136:17-2136:46" name="Hepatitis C test required" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5053" locator="2137:5-2139:64" xsi:type="And">
                        <operand localId="5043" locator="2137:11-2138:80" xsi:type="And">
                           <operand localId="5034" locator="2137:11-2137:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5029" locator="2137:11-2137:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5033" locator="2137:23-2137:57" xsi:type="List">
                                 <element localId="5030" locator="2137:25-2137:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5031" locator="2137:34-2137:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5032" locator="2137:45-2137:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5042" locator="2138:11-2138:80" xsi:type="IsFalse">
                              <operand localId="5041" locator="2138:11-2138:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5039" locator="2138:20-2138:63" path="value" xsi:type="Property">
                                          <source localId="5038" locator="2138:20-2138:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5036" locator="2138:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5037" locator="2138:44-2138:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5040" locator="2138:66-2138:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5052" locator="2139:11-2139:64" xsi:type="Equal">
                           <operand localId="5049" locator="2139:11-2139:49" xsi:type="Last">
                              <source localId="5048" locator="2139:16-2139:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5046" locator="2139:22-2139:42" path="reference" xsi:type="Property">
                                       <source localId="5045" locator="2139:22-2139:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5047" locator="2139:45-2139:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5051" locator="2139:53-2139:64" path="id" xsi:type="Property">
                                 <source localId="5050" locator="2139:53-2139:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5057" locator="2140:14-2140:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5087" locator="2148:1-2152:65" name="Hepatitis C test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5087">
               <a:s>/*
  @dataElement: ANC.B9.DE79 Hepatitis C test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hepatitis C test has been ordered
*/
define &quot;Hepatitis C test ordered&quot;:
  </a:s>
               <a:s r="5086">
                  <a:s>
                     <a:s r="5061">
                        <a:s r="5060">
                           <a:s r="5060">
                              <a:s>[ServiceRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Hepatitis C test ordered&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5085">
                     <a:s>where </a:s>
                     <a:s r="5085">
                        <a:s r="5075">
                           <a:s r="5069">
                              <a:s r="5063">
                                 <a:s r="5062">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="5063">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="5068">
                                 <a:s>{ </a:s>
                                 <a:s r="5064">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5065">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5066">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5067">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="5074">
                              <a:s r="5073">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="5071">
                                    <a:s r="5070">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5071">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="5072">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5084">
                           <a:s r="5081">
                              <a:s>Last(</a:s>
                              <a:s r="5080">
                                 <a:s>Split(</a:s>
                                 <a:s r="5078">
                                    <a:s r="5077">
                                       <a:s r="5076">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5077">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5078">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5079">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5083">
                              <a:s r="5082">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5083">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5086" locator="2149:3-2152:65" xsi:type="Query">
            <source localId="5061" locator="2149:3-2149:52" alias="SR">
               <expression localId="5060" locator="2149:3-2149:49" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2149:20-2149:48" name="Hepatitis C test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="5085" locator="2150:5-2152:65" xsi:type="And">
               <operand localId="5075" locator="2150:11-2151:51" xsi:type="And">
                  <operand localId="5069" locator="2150:11-2150:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="5063" locator="2150:11-2150:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="5068" locator="2150:24-2150:68" xsi:type="List">
                        <element localId="5064" locator="2150:26-2150:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="5065" locator="2150:35-2150:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="5066" locator="2150:45-2150:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="5067" locator="2150:56-2150:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="5074" locator="2151:11-2151:51" xsi:type="IsFalse">
                     <operand localId="5073" locator="2151:11-2151:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5071" locator="2151:20-2151:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="5072" locator="2151:37-2151:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="5084" locator="2152:11-2152:65" xsi:type="Equal">
                  <operand localId="5081" locator="2152:11-2152:50" xsi:type="Last">
                     <source localId="5080" locator="2152:16-2152:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5078" locator="2152:22-2152:43" path="reference" xsi:type="Property">
                              <source localId="5077" locator="2152:22-2152:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5079" locator="2152:46-2152:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5083" locator="2152:54-2152:65" path="id" xsi:type="Property">
                        <source localId="5082" locator="2152:54-2152:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5122" locator="2160:1-2166:33" name="Hepatitis C test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5122">
               <a:s>/*
  @dataElement: ANC.B9.DE80 Hepatitis C test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of Hep C test that was done
*/
define &quot;Hepatitis C test type&quot;:
  </a:s>
               <a:s r="5121">
                  <a:s r="5119">
                     <a:s r="5118">
                        <a:s r="5088">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5118">
                           <a:s>Only(
  </a:s>
                           <a:s r="5117">
                              <a:s>
                                 <a:s r="5090">
                                    <a:s r="5089">
                                       <a:s r="5089">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis C test type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5116">
                                 <a:s>where </a:s>
                                 <a:s r="5116">
                                    <a:s r="5106">
                                       <a:s r="5097">
                                          <a:s r="5092">
                                             <a:s r="5091">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5092">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5096">
                                             <a:s>{ </a:s>
                                             <a:s r="5093">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5094">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5095">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5105">
                                          <a:s r="5104">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5102">
                                                <a:s r="5101">
                                                   <a:s r="5098">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5101">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5099">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5100">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5102">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5103">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5115">
                                       <a:s r="5112">
                                          <a:s>Last(</a:s>
                                          <a:s r="5111">
                                             <a:s>Split(</a:s>
                                             <a:s r="5109">
                                                <a:s r="5108">
                                                   <a:s r="5107">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5108">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5109">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5110">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5114">
                                          <a:s r="5113">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5114">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5119">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5120">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5121" locator="2161:3-2166:33" strict="false" xsi:type="As">
            <operand localId="5119" locator="2161:3-2166:9" path="value" xsi:type="Property">
               <source localId="5118" locator="2161:3-2166:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5117" locator="2162:3-2165:64" xsi:type="Query">
                     <source localId="5090" locator="2162:3-2162:45" alias="O">
                        <expression localId="5089" locator="2162:3-2162:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2162:17-2162:42" name="Hepatitis C test type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5116" locator="2163:5-2165:64" xsi:type="And">
                        <operand localId="5106" locator="2163:11-2164:80" xsi:type="And">
                           <operand localId="5097" locator="2163:11-2163:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5092" locator="2163:11-2163:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5096" locator="2163:23-2163:57" xsi:type="List">
                                 <element localId="5093" locator="2163:25-2163:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5094" locator="2163:34-2163:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5095" locator="2163:45-2163:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5105" locator="2164:11-2164:80" xsi:type="IsFalse">
                              <operand localId="5104" locator="2164:11-2164:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5102" locator="2164:20-2164:63" path="value" xsi:type="Property">
                                          <source localId="5101" locator="2164:20-2164:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5099" locator="2164:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5100" locator="2164:44-2164:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5103" locator="2164:66-2164:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5115" locator="2165:11-2165:64" xsi:type="Equal">
                           <operand localId="5112" locator="2165:11-2165:49" xsi:type="Last">
                              <source localId="5111" locator="2165:16-2165:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5109" locator="2165:22-2165:42" path="reference" xsi:type="Property">
                                       <source localId="5108" locator="2165:22-2165:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5110" locator="2165:45-2165:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5114" locator="2165:53-2165:64" path="id" xsi:type="Property">
                                 <source localId="5113" locator="2165:53-2165:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5120" locator="2166:14-2166:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5143" locator="2174:1-2178:19" name="Reason Hepatitis C test not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5143">
               <a:s>/*
  @dataElement: ANC.B9.DE84 Reason Hepatitis C test not done
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the reason why a Hep C test was not done
*/
define &quot;Reason Hepatitis C test not done&quot;:
  </a:s>
               <a:s r="5142">
                  <a:s>
                     <a:s r="5124">
                        <a:s r="5123">
                           <a:s r="5123">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason Hepatitis C test not done&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5138">
                     <a:s>where </a:s>
                     <a:s r="5138">
                        <a:s r="5128">
                           <a:s r="5126">
                              <a:s r="5125">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5126">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5127">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5137">
                           <a:s r="5134">
                              <a:s>Last(</a:s>
                              <a:s r="5133">
                                 <a:s>Split(</a:s>
                                 <a:s r="5131">
                                    <a:s r="5130">
                                       <a:s r="5129">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5130">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5131">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5132">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5136">
                              <a:s r="5135">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5136">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5141">
                     <a:s>return </a:s>
                     <a:s r="5140">
                        <a:s r="5139">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5140">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5142" locator="2175:3-2178:19" xsi:type="Query">
            <source localId="5124" locator="2175:3-2175:56" alias="PND">
               <expression localId="5123" locator="2175:3-2175:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2175:15-2175:51" name="Reason Hepatitis C test not done" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="5138" locator="2176:5-2177:66" xsi:type="And">
               <operand localId="5128" locator="2176:11-2176:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5126" locator="2176:11-2176:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="5127" locator="2176:24-2176:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="5137" locator="2177:11-2177:66" xsi:type="Equal">
                  <operand localId="5134" locator="2177:11-2177:51" xsi:type="Last">
                     <source localId="5133" locator="2177:16-2177:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5131" locator="2177:22-2177:44" path="reference" xsi:type="Property">
                              <source localId="5130" locator="2177:22-2177:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5132" locator="2177:47-2177:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5136" locator="2177:55-2177:66" path="id" xsi:type="Property">
                        <source localId="5135" locator="2177:55-2177:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="5141" locator="2178:5-2178:19">
               <expression localId="5140" locator="2178:12-2178:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="5178" locator="2186:1-2192:33" name="Hepatitis C test result" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5178">
               <a:s>/*
  @dataElement: ANC.B9.DE89 Hepatitis C test result
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Hepatitis C test result
*/
define &quot;Hepatitis C test result&quot;:
  </a:s>
               <a:s r="5177">
                  <a:s r="5175">
                     <a:s r="5174">
                        <a:s r="5144">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5174">
                           <a:s>Only(
  </a:s>
                           <a:s r="5173">
                              <a:s>
                                 <a:s r="5146">
                                    <a:s r="5145">
                                       <a:s r="5145">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis C test result&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5172">
                                 <a:s>where </a:s>
                                 <a:s r="5172">
                                    <a:s r="5162">
                                       <a:s r="5153">
                                          <a:s r="5148">
                                             <a:s r="5147">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5148">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5152">
                                             <a:s>{ </a:s>
                                             <a:s r="5149">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5150">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5151">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5161">
                                          <a:s r="5160">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5158">
                                                <a:s r="5157">
                                                   <a:s r="5154">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5157">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5155">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5156">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5158">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5159">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5171">
                                       <a:s r="5168">
                                          <a:s>Last(</a:s>
                                          <a:s r="5167">
                                             <a:s>Split(</a:s>
                                             <a:s r="5165">
                                                <a:s r="5164">
                                                   <a:s r="5163">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5164">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5165">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5166">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5170">
                                          <a:s r="5169">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5170">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5175">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5176">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5177" locator="2187:3-2192:33" strict="false" xsi:type="As">
            <operand localId="5175" locator="2187:3-2192:9" path="value" xsi:type="Property">
               <source localId="5174" locator="2187:3-2192:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5173" locator="2188:3-2191:64" xsi:type="Query">
                     <source localId="5146" locator="2188:3-2188:47" alias="O">
                        <expression localId="5145" locator="2188:3-2188:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2188:17-2188:44" name="Hepatitis C test result" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5172" locator="2189:5-2191:64" xsi:type="And">
                        <operand localId="5162" locator="2189:11-2190:80" xsi:type="And">
                           <operand localId="5153" locator="2189:11-2189:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5148" locator="2189:11-2189:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5152" locator="2189:23-2189:57" xsi:type="List">
                                 <element localId="5149" locator="2189:25-2189:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5150" locator="2189:34-2189:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5151" locator="2189:45-2189:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5161" locator="2190:11-2190:80" xsi:type="IsFalse">
                              <operand localId="5160" locator="2190:11-2190:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5158" locator="2190:20-2190:63" path="value" xsi:type="Property">
                                          <source localId="5157" locator="2190:20-2190:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5155" locator="2190:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5156" locator="2190:44-2190:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5159" locator="2190:66-2190:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5171" locator="2191:11-2191:64" xsi:type="Equal">
                           <operand localId="5168" locator="2191:11-2191:49" xsi:type="Last">
                              <source localId="5167" locator="2191:16-2191:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5165" locator="2191:22-2191:42" path="reference" xsi:type="Property">
                                       <source localId="5164" locator="2191:22-2191:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5166" locator="2191:45-2191:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5170" locator="2191:53-2191:64" path="id" xsi:type="Property">
                                 <source localId="5169" locator="2191:53-2191:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5176" locator="2192:14-2192:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5213" locator="2200:1-2206:33" name="Amniotic fluid level" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5213">
               <a:s>/*
  @dataElement: ANC.B9.DE9 Amniotic fluid level
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Amniotic fluid level detected during ultrasound
*/
define &quot;Amniotic fluid level&quot;:
  </a:s>
               <a:s r="5212">
                  <a:s r="5210">
                     <a:s r="5209">
                        <a:s r="5179">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5209">
                           <a:s>Only(
  </a:s>
                           <a:s r="5208">
                              <a:s>
                                 <a:s r="5181">
                                    <a:s r="5180">
                                       <a:s r="5180">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Amniotic fluid level&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5207">
                                 <a:s>where </a:s>
                                 <a:s r="5207">
                                    <a:s r="5197">
                                       <a:s r="5188">
                                          <a:s r="5183">
                                             <a:s r="5182">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5183">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5187">
                                             <a:s>{ </a:s>
                                             <a:s r="5184">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5185">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5186">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5196">
                                          <a:s r="5195">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5193">
                                                <a:s r="5192">
                                                   <a:s r="5189">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5192">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5190">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5191">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5193">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5194">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5206">
                                       <a:s r="5203">
                                          <a:s>Last(</a:s>
                                          <a:s r="5202">
                                             <a:s>Split(</a:s>
                                             <a:s r="5200">
                                                <a:s r="5199">
                                                   <a:s r="5198">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5199">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5200">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5201">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5205">
                                          <a:s r="5204">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5205">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5210">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5211">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5212" locator="2201:3-2206:33" strict="false" xsi:type="As">
            <operand localId="5210" locator="2201:3-2206:9" path="value" xsi:type="Property">
               <source localId="5209" locator="2201:3-2206:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5208" locator="2202:3-2205:64" xsi:type="Query">
                     <source localId="5181" locator="2202:3-2202:44" alias="O">
                        <expression localId="5180" locator="2202:3-2202:42" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2202:17-2202:41" name="Amniotic fluid level" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5207" locator="2203:5-2205:64" xsi:type="And">
                        <operand localId="5197" locator="2203:11-2204:80" xsi:type="And">
                           <operand localId="5188" locator="2203:11-2203:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5183" locator="2203:11-2203:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5187" locator="2203:23-2203:57" xsi:type="List">
                                 <element localId="5184" locator="2203:25-2203:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5185" locator="2203:34-2203:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5186" locator="2203:45-2203:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5196" locator="2204:11-2204:80" xsi:type="IsFalse">
                              <operand localId="5195" locator="2204:11-2204:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5193" locator="2204:20-2204:63" path="value" xsi:type="Property">
                                          <source localId="5192" locator="2204:20-2204:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5190" locator="2204:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5191" locator="2204:44-2204:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5194" locator="2204:66-2204:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5206" locator="2205:11-2205:64" xsi:type="Equal">
                           <operand localId="5203" locator="2205:11-2205:49" xsi:type="Last">
                              <source localId="5202" locator="2205:16-2205:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5200" locator="2205:22-2205:42" path="reference" xsi:type="Property">
                                       <source localId="5199" locator="2205:22-2205:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5201" locator="2205:45-2205:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5205" locator="2205:53-2205:64" path="id" xsi:type="Property">
                                 <source localId="5204" locator="2205:53-2205:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5211" locator="2206:14-2206:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5248" locator="2214:1-2220:33" name="Hepatitis C diagnosis" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5248">
               <a:s>/*
  @dataElement: ANC.B9.DE92 Hepatitis C diagnosis
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: This calculates the woman's Hep C infection status as positive (1) or negative (0), taking into account any of the three methods for Hep C testing
*/
define &quot;Hepatitis C diagnosis&quot;:
  </a:s>
               <a:s r="5247">
                  <a:s r="5245">
                     <a:s r="5244">
                        <a:s r="5214">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5244">
                           <a:s>Only(
  </a:s>
                           <a:s r="5243">
                              <a:s>
                                 <a:s r="5216">
                                    <a:s r="5215">
                                       <a:s r="5215">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Hepatitis C diagnosis&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5242">
                                 <a:s>where </a:s>
                                 <a:s r="5242">
                                    <a:s r="5232">
                                       <a:s r="5223">
                                          <a:s r="5218">
                                             <a:s r="5217">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5218">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5222">
                                             <a:s>{ </a:s>
                                             <a:s r="5219">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5220">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5221">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5231">
                                          <a:s r="5230">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5228">
                                                <a:s r="5227">
                                                   <a:s r="5224">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5227">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5225">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5226">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5228">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5229">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5241">
                                       <a:s r="5238">
                                          <a:s>Last(</a:s>
                                          <a:s r="5237">
                                             <a:s>Split(</a:s>
                                             <a:s r="5235">
                                                <a:s r="5234">
                                                   <a:s r="5233">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5234">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5235">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5236">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5240">
                                          <a:s r="5239">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5240">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5245">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5246">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5247" locator="2215:3-2220:33" strict="false" xsi:type="As">
            <operand localId="5245" locator="2215:3-2220:9" path="value" xsi:type="Property">
               <source localId="5244" locator="2215:3-2220:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5243" locator="2216:3-2219:64" xsi:type="Query">
                     <source localId="5216" locator="2216:3-2216:45" alias="O">
                        <expression localId="5215" locator="2216:3-2216:43" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2216:17-2216:42" name="Hepatitis C diagnosis" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5242" locator="2217:5-2219:64" xsi:type="And">
                        <operand localId="5232" locator="2217:11-2218:80" xsi:type="And">
                           <operand localId="5223" locator="2217:11-2217:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5218" locator="2217:11-2217:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5222" locator="2217:23-2217:57" xsi:type="List">
                                 <element localId="5219" locator="2217:25-2217:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5220" locator="2217:34-2217:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5221" locator="2217:45-2217:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5231" locator="2218:11-2218:80" xsi:type="IsFalse">
                              <operand localId="5230" locator="2218:11-2218:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5228" locator="2218:20-2218:63" path="value" xsi:type="Property">
                                          <source localId="5227" locator="2218:20-2218:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5225" locator="2218:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5226" locator="2218:44-2218:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5229" locator="2218:66-2218:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5241" locator="2219:11-2219:64" xsi:type="Equal">
                           <operand localId="5238" locator="2219:11-2219:49" xsi:type="Last">
                              <source localId="5237" locator="2219:16-2219:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5235" locator="2219:22-2219:42" path="reference" xsi:type="Property">
                                       <source localId="5234" locator="2219:22-2219:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5236" locator="2219:45-2219:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5240" locator="2219:53-2219:64" path="id" xsi:type="Property">
                                 <source localId="5239" locator="2219:53-2219:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5246" locator="2220:14-2220:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5279" locator="2228:1-2234:8" name="Syphilis test ordered" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5279">
               <a:s>/*
  @dataElement: ANC.B9.DE97 Syphilis test ordered
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Syphilis test has been ordered
*/
define &quot;Syphilis test ordered&quot;:
  </a:s>
               <a:s r="5278">
                  <a:s r="5277">
                     <a:s r="5249">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5277">
                        <a:s>Only(
  </a:s>
                        <a:s r="5276">
                           <a:s>
                              <a:s r="5251">
                                 <a:s r="5250">
                                    <a:s r="5250">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Syphilis test ordered&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5275">
                              <a:s>where </a:s>
                              <a:s r="5275">
                                 <a:s r="5265">
                                    <a:s r="5259">
                                       <a:s r="5253">
                                          <a:s r="5252">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5253">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5258">
                                          <a:s>{ </a:s>
                                          <a:s r="5254">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5255">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5256">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5257">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5264">
                                       <a:s r="5263">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="5261">
                                             <a:s r="5260">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5261">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="5262">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5274">
                                    <a:s r="5271">
                                       <a:s>Last(</a:s>
                                       <a:s r="5270">
                                          <a:s>Split(</a:s>
                                          <a:s r="5268">
                                             <a:s r="5267">
                                                <a:s r="5266">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5267">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5268">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5269">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5273">
                                       <a:s r="5272">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5273">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5278">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5278" locator="2229:3-2234:8" path="code" xsi:type="Property">
            <source localId="5277" locator="2229:3-2234:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5276" locator="2230:3-2233:65" xsi:type="Query">
                  <source localId="5251" locator="2230:3-2230:49" alias="SR">
                     <expression localId="5250" locator="2230:3-2230:46" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2230:20-2230:45" name="Syphilis test ordered" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5275" locator="2231:5-2233:65" xsi:type="And">
                     <operand localId="5265" locator="2231:11-2232:51" xsi:type="And">
                        <operand localId="5259" locator="2231:11-2231:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5253" locator="2231:11-2231:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="5258" locator="2231:24-2231:68" xsi:type="List">
                              <element localId="5254" locator="2231:26-2231:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="5255" locator="2231:35-2231:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="5256" locator="2231:45-2231:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5257" locator="2231:56-2231:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5264" locator="2232:11-2232:51" xsi:type="IsFalse">
                           <operand localId="5263" locator="2232:11-2232:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5261" locator="2232:20-2232:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="5262" locator="2232:37-2232:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="5274" locator="2233:11-2233:65" xsi:type="Equal">
                        <operand localId="5271" locator="2233:11-2233:50" xsi:type="Last">
                           <source localId="5270" locator="2233:16-2233:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5268" locator="2233:22-2233:43" path="reference" xsi:type="Property">
                                    <source localId="5267" locator="2233:22-2233:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5269" locator="2233:46-2233:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5273" locator="2233:54-2233:65" path="id" xsi:type="Property">
                              <source localId="5272" locator="2233:54-2233:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5314" locator="2242:1-2248:33" name="Syphilis test type" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5314">
               <a:s>/*
  @dataElement: ANC.B9.DE98 Syphilis test type
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the type of syphilis test that was done
*/
define &quot;Syphilis test type&quot;:
  </a:s>
               <a:s r="5313">
                  <a:s r="5311">
                     <a:s r="5310">
                        <a:s r="5280">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5310">
                           <a:s>Only(
  </a:s>
                           <a:s r="5309">
                              <a:s>
                                 <a:s r="5282">
                                    <a:s r="5281">
                                       <a:s r="5281">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Syphilis test type&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5308">
                                 <a:s>where </a:s>
                                 <a:s r="5308">
                                    <a:s r="5298">
                                       <a:s r="5289">
                                          <a:s r="5284">
                                             <a:s r="5283">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5284">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="5288">
                                             <a:s>{ </a:s>
                                             <a:s r="5285">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5286">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5287">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="5297">
                                          <a:s r="5296">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="5294">
                                                <a:s r="5293">
                                                   <a:s r="5290">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5293">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="5291">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="5292">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5294">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="5295">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5307">
                                       <a:s r="5304">
                                          <a:s>Last(</a:s>
                                          <a:s r="5303">
                                             <a:s>Split(</a:s>
                                             <a:s r="5301">
                                                <a:s r="5300">
                                                   <a:s r="5299">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5300">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5301">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5302">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5306">
                                          <a:s r="5305">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5306">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5311">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5312">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5313" locator="2243:3-2248:33" strict="false" xsi:type="As">
            <operand localId="5311" locator="2243:3-2248:9" path="value" xsi:type="Property">
               <source localId="5310" locator="2243:3-2248:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5309" locator="2244:3-2247:64" xsi:type="Query">
                     <source localId="5282" locator="2244:3-2244:42" alias="O">
                        <expression localId="5281" locator="2244:3-2244:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="2244:17-2244:39" name="Syphilis test type" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="5308" locator="2245:5-2247:64" xsi:type="And">
                        <operand localId="5298" locator="2245:11-2246:80" xsi:type="And">
                           <operand localId="5289" locator="2245:11-2245:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5284" locator="2245:11-2245:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="5288" locator="2245:23-2245:57" xsi:type="List">
                                 <element localId="5285" locator="2245:25-2245:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="5286" locator="2245:34-2245:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="5287" locator="2245:45-2245:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="5297" locator="2246:11-2246:80" xsi:type="IsFalse">
                              <operand localId="5296" locator="2246:11-2246:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="5294" locator="2246:20-2246:63" path="value" xsi:type="Property">
                                          <source localId="5293" locator="2246:20-2246:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="5291" locator="2246:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="5292" locator="2246:44-2246:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="5295" locator="2246:66-2246:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="5307" locator="2247:11-2247:64" xsi:type="Equal">
                           <operand localId="5304" locator="2247:11-2247:49" xsi:type="Last">
                              <source localId="5303" locator="2247:16-2247:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5301" locator="2247:22-2247:42" path="reference" xsi:type="Property">
                                       <source localId="5300" locator="2247:22-2247:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5302" locator="2247:45-2247:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5306" locator="2247:53-2247:64" path="id" xsi:type="Property">
                                 <source localId="5305" locator="2247:53-2247:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5312" locator="2248:14-2248:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5341" locator="2256:1-2261:30" name="Blood glucose test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5341">
               <a:s>/*
  @dataElement: ANC.B9.DE161 Blood glucose test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the glucose test
*/
define &quot;Blood glucose test date&quot;:
  </a:s>
               <a:s r="5340">
                  <a:s r="5338">
                     <a:s r="5337">
                        <a:s r="5315">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5337">
                           <a:s>Only(
  </a:s>
                           <a:s r="5336">
                              <a:s>
                                 <a:s r="5317">
                                    <a:s r="5316">
                                       <a:s r="5316">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5335">
                                 <a:s>where </a:s>
                                 <a:s r="5335">
                                    <a:s r="5325">
                                       <a:s r="5319">
                                          <a:s r="5318">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5319">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5324">
                                          <a:s>{ </a:s>
                                          <a:s r="5320">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5321">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5322">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5323">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5334">
                                       <a:s r="5331">
                                          <a:s>Last(</a:s>
                                          <a:s r="5330">
                                             <a:s>Split(</a:s>
                                             <a:s r="5328">
                                                <a:s r="5327">
                                                   <a:s r="5326">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5327">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5328">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5329">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5333">
                                          <a:s r="5332">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5333">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5338">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5339">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5340" locator="2257:3-2261:30" strict="false" xsi:type="As">
            <operand localId="5338" locator="2257:3-2261:13" path="performed" xsi:type="Property">
               <source localId="5337" locator="2257:3-2261:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5336" locator="2258:3-2260:64" xsi:type="Query">
                     <source localId="5317" locator="2258:3-2258:15" alias="P">
                        <expression localId="5316" locator="2258:3-2258:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5335" locator="2259:5-2260:64" xsi:type="And">
                        <operand localId="5325" locator="2259:11-2259:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5319" locator="2259:11-2259:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5324" locator="2259:23-2259:78" xsi:type="List">
                              <element localId="5320" locator="2259:25-2259:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5321" locator="2259:40-2259:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5322" locator="2259:55-2259:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5323" locator="2259:66-2259:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5334" locator="2260:11-2260:64" xsi:type="Equal">
                           <operand localId="5331" locator="2260:11-2260:49" xsi:type="Last">
                              <source localId="5330" locator="2260:16-2260:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5328" locator="2260:22-2260:42" path="reference" xsi:type="Property">
                                       <source localId="5327" locator="2260:22-2260:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5329" locator="2260:45-2260:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5333" locator="2260:53-2260:64" path="id" xsi:type="Property">
                                 <source localId="5332" locator="2260:53-2260:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5339" locator="2261:18-2261:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5366" locator="2269:1-2274:8" name="Blood haemoglobin test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5366">
               <a:s>/*
  @dataElement: ANC.B9.DE175 Blood haemoglobin test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: A blood haemoglobin test (Hb test) is required for all women multiple times during pregnancy to determine whether she's anaemic
*/
define &quot;Blood haemoglobin test conducted&quot;:
  </a:s>
               <a:s r="5365">
                  <a:s r="5364">
                     <a:s r="5342">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5364">
                        <a:s>Only(
  </a:s>
                        <a:s r="5363">
                           <a:s>
                              <a:s r="5344">
                                 <a:s r="5343">
                                    <a:s r="5343">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Blood haemoglobin test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5362">
                              <a:s>where </a:s>
                              <a:s r="5362">
                                 <a:s r="5352">
                                    <a:s r="5346">
                                       <a:s r="5345">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5346">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5351">
                                       <a:s>{ </a:s>
                                       <a:s r="5347">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5348">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5349">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5350">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5361">
                                    <a:s r="5358">
                                       <a:s>Last(</a:s>
                                       <a:s r="5357">
                                          <a:s>Split(</a:s>
                                          <a:s r="5355">
                                             <a:s r="5354">
                                                <a:s r="5353">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5354">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5355">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5356">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5360">
                                       <a:s r="5359">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5360">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5365">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5365" locator="2270:3-2274:8" path="code" xsi:type="Property">
            <source localId="5364" locator="2270:3-2274:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5363" locator="2271:3-2273:64" xsi:type="Query">
                  <source localId="5344" locator="2271:3-2271:54" alias="P">
                     <expression localId="5343" locator="2271:3-2271:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2271:15-2271:51" name="Blood haemoglobin test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5362" locator="2272:5-2273:64" xsi:type="And">
                     <operand localId="5352" locator="2272:11-2272:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5346" locator="2272:11-2272:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5351" locator="2272:23-2272:78" xsi:type="List">
                           <element localId="5347" locator="2272:25-2272:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5348" locator="2272:40-2272:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5349" locator="2272:55-2272:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5350" locator="2272:66-2272:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5361" locator="2273:11-2273:64" xsi:type="Equal">
                        <operand localId="5358" locator="2273:11-2273:49" xsi:type="Last">
                           <source localId="5357" locator="2273:16-2273:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5355" locator="2273:22-2273:42" path="reference" xsi:type="Property">
                                    <source localId="5354" locator="2273:22-2273:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5356" locator="2273:45-2273:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5360" locator="2273:53-2273:64" path="id" xsi:type="Property">
                              <source localId="5359" locator="2273:53-2273:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5393" locator="2282:1-2287:30" name="Blood haemoglobin test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5393">
               <a:s>/*
  @dataElement: ANC.B9.DE185 Blood haemoglobin test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the Hb test
*/
define &quot;Blood haemoglobin test date&quot;:
  </a:s>
               <a:s r="5392">
                  <a:s r="5390">
                     <a:s r="5389">
                        <a:s r="5367">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5389">
                           <a:s>Only(
  </a:s>
                           <a:s r="5388">
                              <a:s>
                                 <a:s r="5369">
                                    <a:s r="5368">
                                       <a:s r="5368">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5387">
                                 <a:s>where </a:s>
                                 <a:s r="5387">
                                    <a:s r="5377">
                                       <a:s r="5371">
                                          <a:s r="5370">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5371">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5376">
                                          <a:s>{ </a:s>
                                          <a:s r="5372">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5373">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5374">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5375">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5386">
                                       <a:s r="5383">
                                          <a:s>Last(</a:s>
                                          <a:s r="5382">
                                             <a:s>Split(</a:s>
                                             <a:s r="5380">
                                                <a:s r="5379">
                                                   <a:s r="5378">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5379">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5380">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5381">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5385">
                                          <a:s r="5384">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5385">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5390">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5391">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5392" locator="2283:3-2287:30" strict="false" xsi:type="As">
            <operand localId="5390" locator="2283:3-2287:13" path="performed" xsi:type="Property">
               <source localId="5389" locator="2283:3-2287:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5388" locator="2284:3-2286:64" xsi:type="Query">
                     <source localId="5369" locator="2284:3-2284:15" alias="P">
                        <expression localId="5368" locator="2284:3-2284:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5387" locator="2285:5-2286:64" xsi:type="And">
                        <operand localId="5377" locator="2285:11-2285:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5371" locator="2285:11-2285:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5376" locator="2285:23-2285:78" xsi:type="List">
                              <element localId="5372" locator="2285:25-2285:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5373" locator="2285:40-2285:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5374" locator="2285:55-2285:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5375" locator="2285:66-2285:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5386" locator="2286:11-2286:64" xsi:type="Equal">
                           <operand localId="5383" locator="2286:11-2286:49" xsi:type="Last">
                              <source localId="5382" locator="2286:16-2286:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5380" locator="2286:22-2286:42" path="reference" xsi:type="Property">
                                       <source localId="5379" locator="2286:22-2286:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5381" locator="2286:45-2286:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5385" locator="2286:53-2286:64" path="id" xsi:type="Property">
                                 <source localId="5384" locator="2286:53-2286:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5391" locator="2287:18-2287:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5418" locator="2295:1-2300:8" name="Blood type test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5418">
               <a:s>/*
  @dataElement: ANC.B9.DE22 Blood type test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Blood type test has been conducted
*/
define &quot;Blood type test conducted&quot;:
  </a:s>
               <a:s r="5417">
                  <a:s r="5416">
                     <a:s r="5394">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5416">
                        <a:s>Only(
  </a:s>
                        <a:s r="5415">
                           <a:s>
                              <a:s r="5396">
                                 <a:s r="5395">
                                    <a:s r="5395">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Blood type test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5414">
                              <a:s>where </a:s>
                              <a:s r="5414">
                                 <a:s r="5404">
                                    <a:s r="5398">
                                       <a:s r="5397">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5398">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5403">
                                       <a:s>{ </a:s>
                                       <a:s r="5399">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5400">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5401">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5402">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5413">
                                    <a:s r="5410">
                                       <a:s>Last(</a:s>
                                       <a:s r="5409">
                                          <a:s>Split(</a:s>
                                          <a:s r="5407">
                                             <a:s r="5406">
                                                <a:s r="5405">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5406">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5407">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5408">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5412">
                                       <a:s r="5411">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5412">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5417">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5417" locator="2296:3-2300:8" path="code" xsi:type="Property">
            <source localId="5416" locator="2296:3-2300:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5415" locator="2297:3-2299:64" xsi:type="Query">
                  <source localId="5396" locator="2297:3-2297:47" alias="P">
                     <expression localId="5395" locator="2297:3-2297:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2297:15-2297:44" name="Blood type test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5414" locator="2298:5-2299:64" xsi:type="And">
                     <operand localId="5404" locator="2298:11-2298:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5398" locator="2298:11-2298:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5403" locator="2298:23-2298:78" xsi:type="List">
                           <element localId="5399" locator="2298:25-2298:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5400" locator="2298:40-2298:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5401" locator="2298:55-2298:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5402" locator="2298:66-2298:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5413" locator="2299:11-2299:64" xsi:type="Equal">
                        <operand localId="5410" locator="2299:11-2299:49" xsi:type="Last">
                           <source localId="5409" locator="2299:16-2299:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5407" locator="2299:22-2299:42" path="reference" xsi:type="Property">
                                    <source localId="5406" locator="2299:22-2299:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5408" locator="2299:45-2299:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5412" locator="2299:53-2299:64" path="id" xsi:type="Property">
                              <source localId="5411" locator="2299:53-2299:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5445" locator="2308:1-2313:30" name="Blood type test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5445">
               <a:s>/*
  @dataElement: ANC.B9.DE23 Blood type test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Date of the blood type test
*/
define &quot;Blood type test date&quot;:
  </a:s>
               <a:s r="5444">
                  <a:s r="5442">
                     <a:s r="5441">
                        <a:s r="5419">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5441">
                           <a:s>Only(
  </a:s>
                           <a:s r="5440">
                              <a:s>
                                 <a:s r="5421">
                                    <a:s r="5420">
                                       <a:s r="5420">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5439">
                                 <a:s>where </a:s>
                                 <a:s r="5439">
                                    <a:s r="5429">
                                       <a:s r="5423">
                                          <a:s r="5422">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5423">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5428">
                                          <a:s>{ </a:s>
                                          <a:s r="5424">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5425">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5426">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5427">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5438">
                                       <a:s r="5435">
                                          <a:s>Last(</a:s>
                                          <a:s r="5434">
                                             <a:s>Split(</a:s>
                                             <a:s r="5432">
                                                <a:s r="5431">
                                                   <a:s r="5430">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5431">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5432">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5433">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5437">
                                          <a:s r="5436">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5437">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5442">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5443">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5444" locator="2309:3-2313:30" strict="false" xsi:type="As">
            <operand localId="5442" locator="2309:3-2313:13" path="performed" xsi:type="Property">
               <source localId="5441" locator="2309:3-2313:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5440" locator="2310:3-2312:64" xsi:type="Query">
                     <source localId="5421" locator="2310:3-2310:15" alias="P">
                        <expression localId="5420" locator="2310:3-2310:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5439" locator="2311:5-2312:64" xsi:type="And">
                        <operand localId="5429" locator="2311:11-2311:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5423" locator="2311:11-2311:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5428" locator="2311:23-2311:78" xsi:type="List">
                              <element localId="5424" locator="2311:25-2311:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5425" locator="2311:40-2311:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5426" locator="2311:55-2311:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5427" locator="2311:66-2311:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5438" locator="2312:11-2312:64" xsi:type="Equal">
                           <operand localId="5435" locator="2312:11-2312:49" xsi:type="Last">
                              <source localId="5434" locator="2312:16-2312:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5432" locator="2312:22-2312:42" path="reference" xsi:type="Property">
                                       <source localId="5431" locator="2312:22-2312:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5433" locator="2312:45-2312:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5437" locator="2312:53-2312:64" path="id" xsi:type="Property">
                                 <source localId="5436" locator="2312:53-2312:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5443" locator="2313:18-2313:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5470" locator="2321:1-2326:8" name="Hepatitis B test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5470">
               <a:s>/*
  @dataElement: ANC.B9.DE60 Hepatitis B test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the status of the Hep B test â€“ record result, ordered (pending) or not done
*/
define &quot;Hepatitis B test conducted&quot;:
  </a:s>
               <a:s r="5469">
                  <a:s r="5468">
                     <a:s r="5446">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5468">
                        <a:s>Only(
  </a:s>
                        <a:s r="5467">
                           <a:s>
                              <a:s r="5448">
                                 <a:s r="5447">
                                    <a:s r="5447">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis B test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5466">
                              <a:s>where </a:s>
                              <a:s r="5466">
                                 <a:s r="5456">
                                    <a:s r="5450">
                                       <a:s r="5449">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5450">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5455">
                                       <a:s>{ </a:s>
                                       <a:s r="5451">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5452">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5453">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5454">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5465">
                                    <a:s r="5462">
                                       <a:s>Last(</a:s>
                                       <a:s r="5461">
                                          <a:s>Split(</a:s>
                                          <a:s r="5459">
                                             <a:s r="5458">
                                                <a:s r="5457">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5458">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5459">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5460">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5464">
                                       <a:s r="5463">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5464">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5469">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5469" locator="2322:3-2326:8" path="code" xsi:type="Property">
            <source localId="5468" locator="2322:3-2326:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5467" locator="2323:3-2325:64" xsi:type="Query">
                  <source localId="5448" locator="2323:3-2323:48" alias="P">
                     <expression localId="5447" locator="2323:3-2323:46" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2323:15-2323:45" name="Hepatitis B test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5466" locator="2324:5-2325:64" xsi:type="And">
                     <operand localId="5456" locator="2324:11-2324:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5450" locator="2324:11-2324:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5455" locator="2324:23-2324:78" xsi:type="List">
                           <element localId="5451" locator="2324:25-2324:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5452" locator="2324:40-2324:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5453" locator="2324:55-2324:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5454" locator="2324:66-2324:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5465" locator="2325:11-2325:64" xsi:type="Equal">
                        <operand localId="5462" locator="2325:11-2325:49" xsi:type="Last">
                           <source localId="5461" locator="2325:16-2325:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5459" locator="2325:22-2325:42" path="reference" xsi:type="Property">
                                    <source localId="5458" locator="2325:22-2325:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5460" locator="2325:45-2325:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5464" locator="2325:53-2325:64" path="id" xsi:type="Property">
                              <source localId="5463" locator="2325:53-2325:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5492" locator="2334:1-2337:64" name="Hepatitis B test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5492">
               <a:s>/*
  @dataElement: ANC.B9.DE70 Hepatitis B test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the hepatitis B test
*/
define &quot;Hepatitis B test date&quot;:
  </a:s>
               <a:s r="5491">
                  <a:s>
                     <a:s r="5472">
                        <a:s r="5471">
                           <a:s r="5471">
                              <a:s>[Procedure]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5490">
                     <a:s>where </a:s>
                     <a:s r="5490">
                        <a:s r="5480">
                           <a:s r="5474">
                              <a:s r="5473">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5474">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="5479">
                              <a:s>{ </a:s>
                              <a:s r="5475">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5476">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5477">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5478">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5489">
                           <a:s r="5486">
                              <a:s>Last(</a:s>
                              <a:s r="5485">
                                 <a:s>Split(</a:s>
                                 <a:s r="5483">
                                    <a:s r="5482">
                                       <a:s r="5481">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5482">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5483">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5484">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5488">
                              <a:s r="5487">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5488">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5491" locator="2335:3-2337:64" xsi:type="Query">
            <source localId="5472" locator="2335:3-2335:15" alias="P">
               <expression localId="5471" locator="2335:3-2335:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
            </source>
            <where localId="5490" locator="2336:5-2337:64" xsi:type="And">
               <operand localId="5480" locator="2336:11-2336:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5474" locator="2336:11-2336:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="5479" locator="2336:23-2336:78" xsi:type="List">
                     <element localId="5475" locator="2336:25-2336:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="5476" locator="2336:40-2336:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="5477" locator="2336:55-2336:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="5478" locator="2336:66-2336:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="5489" locator="2337:11-2337:64" xsi:type="Equal">
                  <operand localId="5486" locator="2337:11-2337:49" xsi:type="Last">
                     <source localId="5485" locator="2337:16-2337:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5483" locator="2337:22-2337:42" path="reference" xsi:type="Property">
                              <source localId="5482" locator="2337:22-2337:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5484" locator="2337:45-2337:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5488" locator="2337:53-2337:64" path="id" xsi:type="Property">
                        <source localId="5487" locator="2337:53-2337:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5517" locator="2345:1-2350:8" name="Hepatitis C test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5517">
               <a:s>/*
  @dataElement: ANC.B9.DE78 Hepatitis C test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: In a setting where the proportion of HCV antibody seroprevalence in the general population is â‰¥ 2% or the woman is HIV positive, injects drugs or is a sex worker, then a Hep C test is required
*/
define &quot;Hepatitis C test conducted&quot;:
  </a:s>
               <a:s r="5516">
                  <a:s r="5515">
                     <a:s r="5493">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5515">
                        <a:s>Only(
  </a:s>
                        <a:s r="5514">
                           <a:s>
                              <a:s r="5495">
                                 <a:s r="5494">
                                    <a:s r="5494">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis C test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5513">
                              <a:s>where </a:s>
                              <a:s r="5513">
                                 <a:s r="5503">
                                    <a:s r="5497">
                                       <a:s r="5496">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5497">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5502">
                                       <a:s>{ </a:s>
                                       <a:s r="5498">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5499">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5500">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5501">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5512">
                                    <a:s r="5509">
                                       <a:s>Last(</a:s>
                                       <a:s r="5508">
                                          <a:s>Split(</a:s>
                                          <a:s r="5506">
                                             <a:s r="5505">
                                                <a:s r="5504">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5505">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5506">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5507">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5511">
                                       <a:s r="5510">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5511">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5516">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5516" locator="2346:3-2350:8" path="code" xsi:type="Property">
            <source localId="5515" locator="2346:3-2350:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5514" locator="2347:3-2349:64" xsi:type="Query">
                  <source localId="5495" locator="2347:3-2347:48" alias="P">
                     <expression localId="5494" locator="2347:3-2347:46" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2347:15-2347:45" name="Hepatitis C test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5513" locator="2348:5-2349:64" xsi:type="And">
                     <operand localId="5503" locator="2348:11-2348:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5497" locator="2348:11-2348:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5502" locator="2348:23-2348:78" xsi:type="List">
                           <element localId="5498" locator="2348:25-2348:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5499" locator="2348:40-2348:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5500" locator="2348:55-2348:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5501" locator="2348:66-2348:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5512" locator="2349:11-2349:64" xsi:type="Equal">
                        <operand localId="5509" locator="2349:11-2349:49" xsi:type="Last">
                           <source localId="5508" locator="2349:16-2349:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5506" locator="2349:22-2349:42" path="reference" xsi:type="Property">
                                    <source localId="5505" locator="2349:22-2349:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5507" locator="2349:45-2349:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5511" locator="2349:53-2349:64" path="id" xsi:type="Property">
                              <source localId="5510" locator="2349:53-2349:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5539" locator="2358:1-2361:64" name="Hepatitis C test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5539">
               <a:s>/*
  @dataElement: ANC.B9.DE88 Hepatitis C test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the hepatitis C test
*/
define &quot;Hepatitis C test date&quot;:
  </a:s>
               <a:s r="5538">
                  <a:s>
                     <a:s r="5519">
                        <a:s r="5518">
                           <a:s r="5518">
                              <a:s>[Procedure]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5537">
                     <a:s>where </a:s>
                     <a:s r="5537">
                        <a:s r="5527">
                           <a:s r="5521">
                              <a:s r="5520">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5521">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="5526">
                              <a:s>{ </a:s>
                              <a:s r="5522">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5523">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5524">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5525">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5536">
                           <a:s r="5533">
                              <a:s>Last(</a:s>
                              <a:s r="5532">
                                 <a:s>Split(</a:s>
                                 <a:s r="5530">
                                    <a:s r="5529">
                                       <a:s r="5528">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5529">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5530">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5531">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5535">
                              <a:s r="5534">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5535">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5538" locator="2359:3-2361:64" xsi:type="Query">
            <source localId="5519" locator="2359:3-2359:15" alias="P">
               <expression localId="5518" locator="2359:3-2359:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
            </source>
            <where localId="5537" locator="2360:5-2361:64" xsi:type="And">
               <operand localId="5527" locator="2360:11-2360:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5521" locator="2360:11-2360:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="5526" locator="2360:23-2360:78" xsi:type="List">
                     <element localId="5522" locator="2360:25-2360:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="5523" locator="2360:40-2360:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="5524" locator="2360:55-2360:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="5525" locator="2360:66-2360:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="5536" locator="2361:11-2361:64" xsi:type="Equal">
                  <operand localId="5533" locator="2361:11-2361:49" xsi:type="Last">
                     <source localId="5532" locator="2361:16-2361:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5530" locator="2361:22-2361:42" path="reference" xsi:type="Property">
                              <source localId="5529" locator="2361:22-2361:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5531" locator="2361:45-2361:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5535" locator="2361:53-2361:64" path="id" xsi:type="Property">
                        <source localId="5534" locator="2361:53-2361:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5561" locator="2369:1-2372:64" name="Syphilis test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5561">
               <a:s>/*
  @dataElement: ANC.B9.DE106 Syphilis test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the syphilis test
*/
define &quot;Syphilis test date&quot;:
  </a:s>
               <a:s r="5560">
                  <a:s>
                     <a:s r="5541">
                        <a:s r="5540">
                           <a:s r="5540">
                              <a:s>[Procedure]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5559">
                     <a:s>where </a:s>
                     <a:s r="5559">
                        <a:s r="5549">
                           <a:s r="5543">
                              <a:s r="5542">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5543">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="5548">
                              <a:s>{ </a:s>
                              <a:s r="5544">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5545">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5546">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5547">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5558">
                           <a:s r="5555">
                              <a:s>Last(</a:s>
                              <a:s r="5554">
                                 <a:s>Split(</a:s>
                                 <a:s r="5552">
                                    <a:s r="5551">
                                       <a:s r="5550">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5551">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5552">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5553">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5557">
                              <a:s r="5556">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5557">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5560" locator="2370:3-2372:64" xsi:type="Query">
            <source localId="5541" locator="2370:3-2370:15" alias="P">
               <expression localId="5540" locator="2370:3-2370:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
            </source>
            <where localId="5559" locator="2371:5-2372:64" xsi:type="And">
               <operand localId="5549" locator="2371:11-2371:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5543" locator="2371:11-2371:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="5548" locator="2371:23-2371:78" xsi:type="List">
                     <element localId="5544" locator="2371:25-2371:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="5545" locator="2371:40-2371:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="5546" locator="2371:55-2371:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="5547" locator="2371:66-2371:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="5558" locator="2372:11-2372:64" xsi:type="Equal">
                  <operand localId="5555" locator="2372:11-2372:49" xsi:type="Last">
                     <source localId="5554" locator="2372:16-2372:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5552" locator="2372:22-2372:42" path="reference" xsi:type="Property">
                              <source localId="5551" locator="2372:22-2372:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5553" locator="2372:45-2372:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5557" locator="2372:53-2372:64" path="id" xsi:type="Property">
                        <source localId="5556" locator="2372:53-2372:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5586" locator="2380:1-2385:8" name="HIV test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5586">
               <a:s>/*
  @dataElement: ANC.B9.DE35 HIV test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: An HIV test is required for all pregnant women at the first contact in pregnancy and again at the first contact of the 3rd trimester if the HIV prevalence in the pregnant woman population is â‰¥ 5%. A test is not required if the woman is already confirmed HIV+.
*/
define &quot;HIV test conducted&quot;:
  </a:s>
               <a:s r="5585">
                  <a:s r="5584">
                     <a:s r="5562">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5584">
                        <a:s>Only(
  </a:s>
                        <a:s r="5583">
                           <a:s>
                              <a:s r="5564">
                                 <a:s r="5563">
                                    <a:s r="5563">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;HIV test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5582">
                              <a:s>where </a:s>
                              <a:s r="5582">
                                 <a:s r="5572">
                                    <a:s r="5566">
                                       <a:s r="5565">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5566">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5571">
                                       <a:s>{ </a:s>
                                       <a:s r="5567">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5568">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5569">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5570">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5581">
                                    <a:s r="5578">
                                       <a:s>Last(</a:s>
                                       <a:s r="5577">
                                          <a:s>Split(</a:s>
                                          <a:s r="5575">
                                             <a:s r="5574">
                                                <a:s r="5573">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5574">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5575">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5576">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5580">
                                       <a:s r="5579">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5580">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5585">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5585" locator="2381:3-2385:8" path="code" xsi:type="Property">
            <source localId="5584" locator="2381:3-2385:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5583" locator="2382:3-2384:64" xsi:type="Query">
                  <source localId="5564" locator="2382:3-2382:40" alias="P">
                     <expression localId="5563" locator="2382:3-2382:38" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2382:15-2382:37" name="HIV test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5582" locator="2383:5-2384:64" xsi:type="And">
                     <operand localId="5572" locator="2383:11-2383:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5566" locator="2383:11-2383:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5571" locator="2383:23-2383:78" xsi:type="List">
                           <element localId="5567" locator="2383:25-2383:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5568" locator="2383:40-2383:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5569" locator="2383:55-2383:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5570" locator="2383:66-2383:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5581" locator="2384:11-2384:64" xsi:type="Equal">
                        <operand localId="5578" locator="2384:11-2384:49" xsi:type="Last">
                           <source localId="5577" locator="2384:16-2384:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5575" locator="2384:22-2384:42" path="reference" xsi:type="Property">
                                    <source localId="5574" locator="2384:22-2384:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5576" locator="2384:45-2384:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5580" locator="2384:53-2384:64" path="id" xsi:type="Property">
                              <source localId="5579" locator="2384:53-2384:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5613" locator="2393:1-2398:30" name="HIV test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5613">
               <a:s>/*
  @dataElement: ANC.B9.DE40 HIV test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Date of the HIV test
*/
define &quot;HIV test date&quot;:
  </a:s>
               <a:s r="5612">
                  <a:s r="5610">
                     <a:s r="5609">
                        <a:s r="5587">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5609">
                           <a:s>Only(
  </a:s>
                           <a:s r="5608">
                              <a:s>
                                 <a:s r="5589">
                                    <a:s r="5588">
                                       <a:s r="5588">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5607">
                                 <a:s>where </a:s>
                                 <a:s r="5607">
                                    <a:s r="5597">
                                       <a:s r="5591">
                                          <a:s r="5590">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5591">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5596">
                                          <a:s>{ </a:s>
                                          <a:s r="5592">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5593">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5594">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5595">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5606">
                                       <a:s r="5603">
                                          <a:s>Last(</a:s>
                                          <a:s r="5602">
                                             <a:s>Split(</a:s>
                                             <a:s r="5600">
                                                <a:s r="5599">
                                                   <a:s r="5598">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5599">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5600">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5601">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5605">
                                          <a:s r="5604">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5605">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5610">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5611">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5612" locator="2394:3-2398:30" strict="false" xsi:type="As">
            <operand localId="5610" locator="2394:3-2398:13" path="performed" xsi:type="Property">
               <source localId="5609" locator="2394:3-2398:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5608" locator="2395:3-2397:64" xsi:type="Query">
                     <source localId="5589" locator="2395:3-2395:15" alias="P">
                        <expression localId="5588" locator="2395:3-2395:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5607" locator="2396:5-2397:64" xsi:type="And">
                        <operand localId="5597" locator="2396:11-2396:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5591" locator="2396:11-2396:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5596" locator="2396:23-2396:78" xsi:type="List">
                              <element localId="5592" locator="2396:25-2396:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5593" locator="2396:40-2396:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5594" locator="2396:55-2396:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5595" locator="2396:66-2396:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5606" locator="2397:11-2397:64" xsi:type="Equal">
                           <operand localId="5603" locator="2397:11-2397:49" xsi:type="Last">
                              <source localId="5602" locator="2397:16-2397:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5600" locator="2397:22-2397:42" path="reference" xsi:type="Property">
                                       <source localId="5599" locator="2397:22-2397:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5601" locator="2397:45-2397:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5605" locator="2397:53-2397:64" path="id" xsi:type="Property">
                                 <source localId="5604" locator="2397:53-2397:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5611" locator="2398:18-2398:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5638" locator="2406:1-2411:8" name="Other tests conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5638">
               <a:s>/*
  @dataElement: ANC.B9.DE211 Other tests conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: If the health worker performed other tests on the woman that are not explicitly listed in the application, select &quot;yes&quot; here and fill in the details below
*/
define &quot;Other tests conducted&quot;:
  </a:s>
               <a:s r="5637">
                  <a:s r="5636">
                     <a:s r="5614">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5636">
                        <a:s>Only(
  </a:s>
                        <a:s r="5635">
                           <a:s>
                              <a:s r="5616">
                                 <a:s r="5615">
                                    <a:s r="5615">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Other tests conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5634">
                              <a:s>where </a:s>
                              <a:s r="5634">
                                 <a:s r="5624">
                                    <a:s r="5618">
                                       <a:s r="5617">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5618">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5623">
                                       <a:s>{ </a:s>
                                       <a:s r="5619">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5620">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5621">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5622">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5633">
                                    <a:s r="5630">
                                       <a:s>Last(</a:s>
                                       <a:s r="5629">
                                          <a:s>Split(</a:s>
                                          <a:s r="5627">
                                             <a:s r="5626">
                                                <a:s r="5625">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5626">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5627">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5628">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5632">
                                       <a:s r="5631">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5632">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5637">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5637" locator="2407:3-2411:8" path="code" xsi:type="Property">
            <source localId="5636" locator="2407:3-2411:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5635" locator="2408:3-2410:64" xsi:type="Query">
                  <source localId="5616" locator="2408:3-2408:43" alias="P">
                     <expression localId="5615" locator="2408:3-2408:41" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2408:15-2408:40" name="Other tests conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5634" locator="2409:5-2410:64" xsi:type="And">
                     <operand localId="5624" locator="2409:11-2409:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5618" locator="2409:11-2409:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5623" locator="2409:23-2409:78" xsi:type="List">
                           <element localId="5619" locator="2409:25-2409:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5620" locator="2409:40-2409:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5621" locator="2409:55-2409:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5622" locator="2409:66-2409:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5633" locator="2410:11-2410:64" xsi:type="Equal">
                        <operand localId="5630" locator="2410:11-2410:49" xsi:type="Last">
                           <source localId="5629" locator="2410:16-2410:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5627" locator="2410:22-2410:42" path="reference" xsi:type="Property">
                                    <source localId="5626" locator="2410:22-2410:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5628" locator="2410:45-2410:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5632" locator="2410:53-2410:64" path="id" xsi:type="Property">
                              <source localId="5631" locator="2410:53-2410:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5664" locator="2419:1-2424:13" name="Other test(s) name" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5664">
               <a:s>/*
  @dataElement: ANC.B9.DE212 Other test(s) name
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Input the name of other test(s) that were done
*/
define &quot;Other test(s) name&quot;:
  </a:s>
               <a:s r="5663">
                  <a:s r="5662">
                     <a:s r="5661">
                        <a:s r="5639">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5661">
                           <a:s>Only(
  </a:s>
                           <a:s r="5660">
                              <a:s>
                                 <a:s r="5641">
                                    <a:s r="5640">
                                       <a:s r="5640">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5659">
                                 <a:s>where </a:s>
                                 <a:s r="5659">
                                    <a:s r="5649">
                                       <a:s r="5643">
                                          <a:s r="5642">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5643">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5648">
                                          <a:s>{ </a:s>
                                          <a:s r="5644">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5645">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5646">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5647">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5658">
                                       <a:s r="5655">
                                          <a:s>Last(</a:s>
                                          <a:s r="5654">
                                             <a:s>Split(</a:s>
                                             <a:s r="5652">
                                                <a:s r="5651">
                                                   <a:s r="5650">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5651">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5652">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5653">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5657">
                                          <a:s r="5656">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5657">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5662">
                        <a:s>code</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5663">
                     <a:s>text</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5663" locator="2420:3-2424:13" path="text" xsi:type="Property">
            <source localId="5662" locator="2420:3-2424:8" path="code" xsi:type="Property">
               <source localId="5661" locator="2420:3-2424:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5660" locator="2421:3-2423:64" xsi:type="Query">
                     <source localId="5641" locator="2421:3-2421:15" alias="P">
                        <expression localId="5640" locator="2421:3-2421:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5659" locator="2422:5-2423:64" xsi:type="And">
                        <operand localId="5649" locator="2422:11-2422:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5643" locator="2422:11-2422:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5648" locator="2422:23-2422:78" xsi:type="List">
                              <element localId="5644" locator="2422:25-2422:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5645" locator="2422:40-2422:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5646" locator="2422:55-2422:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5647" locator="2422:66-2422:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5658" locator="2423:11-2423:64" xsi:type="Equal">
                           <operand localId="5655" locator="2423:11-2423:49" xsi:type="Last">
                              <source localId="5654" locator="2423:16-2423:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5652" locator="2423:22-2423:42" path="reference" xsi:type="Property">
                                       <source localId="5651" locator="2423:22-2423:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5653" locator="2423:45-2423:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5657" locator="2423:53-2423:64" path="id" xsi:type="Property">
                                 <source localId="5656" locator="2423:53-2423:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </source>
         </expression>
      </def>
      <def localId="5691" locator="2432:1-2437:30" name="Other test(s) date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5691">
               <a:s>/*
  @dataElement: ANC.B9.DE213 Other test(s) date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Input the date of other test(s) that were done
*/
define &quot;Other test(s) date&quot;:
  </a:s>
               <a:s r="5690">
                  <a:s r="5688">
                     <a:s r="5687">
                        <a:s r="5665">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5687">
                           <a:s>Only(
  </a:s>
                           <a:s r="5686">
                              <a:s>
                                 <a:s r="5667">
                                    <a:s r="5666">
                                       <a:s r="5666">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5685">
                                 <a:s>where </a:s>
                                 <a:s r="5685">
                                    <a:s r="5675">
                                       <a:s r="5669">
                                          <a:s r="5668">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5669">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5674">
                                          <a:s>{ </a:s>
                                          <a:s r="5670">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5671">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5672">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5673">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5684">
                                       <a:s r="5681">
                                          <a:s>Last(</a:s>
                                          <a:s r="5680">
                                             <a:s>Split(</a:s>
                                             <a:s r="5678">
                                                <a:s r="5677">
                                                   <a:s r="5676">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5677">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5678">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5679">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5683">
                                          <a:s r="5682">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5683">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5688">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5689">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5690" locator="2433:3-2437:30" strict="false" xsi:type="As">
            <operand localId="5688" locator="2433:3-2437:13" path="performed" xsi:type="Property">
               <source localId="5687" locator="2433:3-2437:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5686" locator="2434:3-2436:64" xsi:type="Query">
                     <source localId="5667" locator="2434:3-2434:15" alias="P">
                        <expression localId="5666" locator="2434:3-2434:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5685" locator="2435:5-2436:64" xsi:type="And">
                        <operand localId="5675" locator="2435:11-2435:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5669" locator="2435:11-2435:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5674" locator="2435:23-2435:78" xsi:type="List">
                              <element localId="5670" locator="2435:25-2435:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5671" locator="2435:40-2435:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5672" locator="2435:55-2435:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5673" locator="2435:66-2435:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5684" locator="2436:11-2436:64" xsi:type="Equal">
                           <operand localId="5681" locator="2436:11-2436:49" xsi:type="Last">
                              <source localId="5680" locator="2436:16-2436:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5678" locator="2436:22-2436:42" path="reference" xsi:type="Property">
                                       <source localId="5677" locator="2436:22-2436:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5679" locator="2436:45-2436:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5683" locator="2436:53-2436:64" path="id" xsi:type="Property">
                                 <source localId="5682" locator="2436:53-2436:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5689" locator="2437:18-2437:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5716" locator="2445:1-2450:8" name="Partner HIV test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5716">
               <a:s>/*
  @dataElement: ANC.B9.DE50 Partner HIV test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: If the woman does not know the HIV status of her partner(s), offer to test and add results here
*/
define &quot;Partner HIV test conducted&quot;:
  </a:s>
               <a:s r="5715">
                  <a:s r="5714">
                     <a:s r="5692">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5714">
                        <a:s>Only(
  </a:s>
                        <a:s r="5713">
                           <a:s>
                              <a:s r="5694">
                                 <a:s r="5693">
                                    <a:s r="5693">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Partner HIV test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5712">
                              <a:s>where </a:s>
                              <a:s r="5712">
                                 <a:s r="5702">
                                    <a:s r="5696">
                                       <a:s r="5695">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5696">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5701">
                                       <a:s>{ </a:s>
                                       <a:s r="5697">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5698">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5699">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5700">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5711">
                                    <a:s r="5708">
                                       <a:s>Last(</a:s>
                                       <a:s r="5707">
                                          <a:s>Split(</a:s>
                                          <a:s r="5705">
                                             <a:s r="5704">
                                                <a:s r="5703">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5704">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5705">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5706">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5710">
                                       <a:s r="5709">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5710">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5715">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5715" locator="2446:3-2450:8" path="code" xsi:type="Property">
            <source localId="5714" locator="2446:3-2450:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5713" locator="2447:3-2449:64" xsi:type="Query">
                  <source localId="5694" locator="2447:3-2447:48" alias="P">
                     <expression localId="5693" locator="2447:3-2447:46" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2447:15-2447:45" name="Partner HIV test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5712" locator="2448:5-2449:64" xsi:type="And">
                     <operand localId="5702" locator="2448:11-2448:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5696" locator="2448:11-2448:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5701" locator="2448:23-2448:78" xsi:type="List">
                           <element localId="5697" locator="2448:25-2448:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5698" locator="2448:40-2448:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5699" locator="2448:55-2448:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5700" locator="2448:66-2448:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5711" locator="2449:11-2449:64" xsi:type="Equal">
                        <operand localId="5708" locator="2449:11-2449:49" xsi:type="Last">
                           <source localId="5707" locator="2449:16-2449:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5705" locator="2449:22-2449:42" path="reference" xsi:type="Property">
                                    <source localId="5704" locator="2449:22-2449:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5706" locator="2449:45-2449:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5710" locator="2449:53-2449:64" path="id" xsi:type="Property">
                              <source localId="5709" locator="2449:53-2449:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5743" locator="2458:1-2463:30" name="Partner HIV test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5743">
               <a:s>/*
  @dataElement: ANC.B9.DE51 Partner HIV test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of her partner's HIV test
*/
define &quot;Partner HIV test date&quot;:
  </a:s>
               <a:s r="5742">
                  <a:s r="5740">
                     <a:s r="5739">
                        <a:s r="5717">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5739">
                           <a:s>Only(
  </a:s>
                           <a:s r="5738">
                              <a:s>
                                 <a:s r="5719">
                                    <a:s r="5718">
                                       <a:s r="5718">
                                          <a:s>[Procedure]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> P</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="5737">
                                 <a:s>where </a:s>
                                 <a:s r="5737">
                                    <a:s r="5727">
                                       <a:s r="5721">
                                          <a:s r="5720">
                                             <a:s>P</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5721">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="5726">
                                          <a:s>{ </a:s>
                                          <a:s r="5722">
                                             <a:s>'preparation'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5723">
                                             <a:s>'in-progress'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5724">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5725">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="5736">
                                       <a:s r="5733">
                                          <a:s>Last(</a:s>
                                          <a:s r="5732">
                                             <a:s>Split(</a:s>
                                             <a:s r="5730">
                                                <a:s r="5729">
                                                   <a:s r="5728">
                                                      <a:s>P</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="5729">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5730">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="5731">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="5735">
                                          <a:s r="5734">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="5735">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5740">
                        <a:s>performed</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="5741">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5742" locator="2459:3-2463:30" strict="false" xsi:type="As">
            <operand localId="5740" locator="2459:3-2463:13" path="performed" xsi:type="Property">
               <source localId="5739" locator="2459:3-2463:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="5738" locator="2460:3-2462:64" xsi:type="Query">
                     <source localId="5719" locator="2460:3-2460:15" alias="P">
                        <expression localId="5718" locator="2460:3-2460:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                     </source>
                     <where localId="5737" locator="2461:5-2462:64" xsi:type="And">
                        <operand localId="5727" locator="2461:11-2461:78" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5721" locator="2461:11-2461:18" path="status" scope="P" xsi:type="Property"/>
                           </operand>
                           <operand localId="5726" locator="2461:23-2461:78" xsi:type="List">
                              <element localId="5722" locator="2461:25-2461:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                              <element localId="5723" locator="2461:40-2461:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                              <element localId="5724" locator="2461:55-2461:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="5725" locator="2461:66-2461:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="5736" locator="2462:11-2462:64" xsi:type="Equal">
                           <operand localId="5733" locator="2462:11-2462:49" xsi:type="Last">
                              <source localId="5732" locator="2462:16-2462:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="5730" locator="2462:22-2462:42" path="reference" xsi:type="Property">
                                       <source localId="5729" locator="2462:22-2462:32" path="encounter" scope="P" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="5731" locator="2462:45-2462:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="5735" locator="2462:53-2462:64" path="id" xsi:type="Property">
                                 <source localId="5734" locator="2462:53-2462:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="5741" locator="2463:18-2463:30" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="5768" locator="2471:1-2476:8" name="Syphilis test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5768">
               <a:s>/*
  @dataElement: ANC.B9.DE96 Syphilis test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: A syphilis test is recommended for all pregnant women at the first contact and again at the first contact of 3rd trimester; women who are already confirmed positive for syphilis do not need to be tested
*/
define &quot;Syphilis test conducted&quot;:
  </a:s>
               <a:s r="5767">
                  <a:s r="5766">
                     <a:s r="5744">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5766">
                        <a:s>Only(
  </a:s>
                        <a:s r="5765">
                           <a:s>
                              <a:s r="5746">
                                 <a:s r="5745">
                                    <a:s r="5745">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Syphilis test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5764">
                              <a:s>where </a:s>
                              <a:s r="5764">
                                 <a:s r="5754">
                                    <a:s r="5748">
                                       <a:s r="5747">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5748">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5753">
                                       <a:s>{ </a:s>
                                       <a:s r="5749">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5750">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5751">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5752">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5763">
                                    <a:s r="5760">
                                       <a:s>Last(</a:s>
                                       <a:s r="5759">
                                          <a:s>Split(</a:s>
                                          <a:s r="5757">
                                             <a:s r="5756">
                                                <a:s r="5755">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5756">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5757">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5758">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5762">
                                       <a:s r="5761">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5762">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5767">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5767" locator="2472:3-2476:8" path="code" xsi:type="Property">
            <source localId="5766" locator="2472:3-2476:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5765" locator="2473:3-2475:64" xsi:type="Query">
                  <source localId="5746" locator="2473:3-2473:45" alias="P">
                     <expression localId="5745" locator="2473:3-2473:43" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2473:15-2473:42" name="Syphilis test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5764" locator="2474:5-2475:64" xsi:type="And">
                     <operand localId="5754" locator="2474:11-2474:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5748" locator="2474:11-2474:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5753" locator="2474:23-2474:78" xsi:type="List">
                           <element localId="5749" locator="2474:25-2474:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5750" locator="2474:40-2474:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5751" locator="2474:55-2474:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5752" locator="2474:66-2474:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5763" locator="2475:11-2475:64" xsi:type="Equal">
                        <operand localId="5760" locator="2475:11-2475:49" xsi:type="Last">
                           <source localId="5759" locator="2475:16-2475:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5757" locator="2475:22-2475:42" path="reference" xsi:type="Property">
                                    <source localId="5756" locator="2475:22-2475:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5758" locator="2475:45-2475:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5762" locator="2475:53-2475:64" path="id" xsi:type="Property">
                              <source localId="5761" locator="2475:53-2475:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5793" locator="2484:1-2489:8" name="TB screening conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5793">
               <a:s>/*
  @dataElement: ANC.B9.DE194 TB screening conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: In settings where the tuberculosis (TB) prevalence in the general population is 100/100,000 population or higher or in settings with subpopulations that have very poor access to health care, or if the woman is HIV positive, TB screening is recommended
*/
define &quot;TB screening conducted&quot;:
  </a:s>
               <a:s r="5792">
                  <a:s r="5791">
                     <a:s r="5769">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5791">
                        <a:s>Only(
  </a:s>
                        <a:s r="5790">
                           <a:s>
                              <a:s r="5771">
                                 <a:s r="5770">
                                    <a:s r="5770">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;TB screening conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5789">
                              <a:s>where </a:s>
                              <a:s r="5789">
                                 <a:s r="5779">
                                    <a:s r="5773">
                                       <a:s r="5772">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5773">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5778">
                                       <a:s>{ </a:s>
                                       <a:s r="5774">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5775">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5776">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5777">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5788">
                                    <a:s r="5785">
                                       <a:s>Last(</a:s>
                                       <a:s r="5784">
                                          <a:s>Split(</a:s>
                                          <a:s r="5782">
                                             <a:s r="5781">
                                                <a:s r="5780">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5781">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5782">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5783">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5787">
                                       <a:s r="5786">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5787">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5792">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5792" locator="2485:3-2489:8" path="code" xsi:type="Property">
            <source localId="5791" locator="2485:3-2489:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5790" locator="2486:3-2488:64" xsi:type="Query">
                  <source localId="5771" locator="2486:3-2486:44" alias="P">
                     <expression localId="5770" locator="2486:3-2486:42" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2486:15-2486:41" name="TB screening conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5789" locator="2487:5-2488:64" xsi:type="And">
                     <operand localId="5779" locator="2487:11-2487:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5773" locator="2487:11-2487:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5778" locator="2487:23-2487:78" xsi:type="List">
                           <element localId="5774" locator="2487:25-2487:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5775" locator="2487:40-2487:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5776" locator="2487:55-2487:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5777" locator="2487:66-2487:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5788" locator="2488:11-2488:64" xsi:type="Equal">
                        <operand localId="5785" locator="2488:11-2488:49" xsi:type="Last">
                           <source localId="5784" locator="2488:16-2488:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5782" locator="2488:22-2488:42" path="reference" xsi:type="Property">
                                    <source localId="5781" locator="2488:22-2488:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5783" locator="2488:45-2488:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5787" locator="2488:53-2488:64" path="id" xsi:type="Property">
                              <source localId="5786" locator="2488:53-2488:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5815" locator="2497:1-2500:64" name="TB screening date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5815">
               <a:s>/*
  @dataElement: ANC.B9.DE205 TB screening date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Record the date of the TB screening
*/
define &quot;TB screening date&quot;:
  </a:s>
               <a:s r="5814">
                  <a:s>
                     <a:s r="5795">
                        <a:s r="5794">
                           <a:s r="5794">
                              <a:s>[Procedure]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5813">
                     <a:s>where </a:s>
                     <a:s r="5813">
                        <a:s r="5803">
                           <a:s r="5797">
                              <a:s r="5796">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5797">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="5802">
                              <a:s>{ </a:s>
                              <a:s r="5798">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5799">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5800">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5801">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5812">
                           <a:s r="5809">
                              <a:s>Last(</a:s>
                              <a:s r="5808">
                                 <a:s>Split(</a:s>
                                 <a:s r="5806">
                                    <a:s r="5805">
                                       <a:s r="5804">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5805">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5806">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5807">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5811">
                              <a:s r="5810">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5811">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5814" locator="2498:3-2500:64" xsi:type="Query">
            <source localId="5795" locator="2498:3-2498:15" alias="P">
               <expression localId="5794" locator="2498:3-2498:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
            </source>
            <where localId="5813" locator="2499:5-2500:64" xsi:type="And">
               <operand localId="5803" locator="2499:11-2499:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5797" locator="2499:11-2499:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="5802" locator="2499:23-2499:78" xsi:type="List">
                     <element localId="5798" locator="2499:25-2499:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="5799" locator="2499:40-2499:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="5800" locator="2499:55-2499:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="5801" locator="2499:66-2499:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="5812" locator="2500:11-2500:64" xsi:type="Equal">
                  <operand localId="5809" locator="2500:11-2500:49" xsi:type="Last">
                     <source localId="5808" locator="2500:16-2500:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5806" locator="2500:22-2500:42" path="reference" xsi:type="Property">
                              <source localId="5805" locator="2500:22-2500:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5807" locator="2500:45-2500:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5811" locator="2500:53-2500:64" path="id" xsi:type="Property">
                        <source localId="5810" locator="2500:53-2500:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5840" locator="2508:1-2513:8" name="Urine test conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5840">
               <a:s>/*
  @dataElement: ANC.B9.DE114 Urine test conducted
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: A urine test is required at the first contact, last contact in 2nd trimester, and 2nd contact in 3rd trimester OR anytime the woman reports pain during urination (dysuria). A dipstick test is required if the woman has a repeat high BP reading (140/90 or higher). Otherwise, a urine test is optional. The urine test checks for bacterial or other infections that can lead to adverse outcomes for the neonate. The urine dipstick test can check for proteins in the urine, which can be a sign of pre-eclampsia.
*/
define &quot;Urine test conducted&quot;:
  </a:s>
               <a:s r="5839">
                  <a:s r="5838">
                     <a:s r="5816">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5838">
                        <a:s>Only(
  </a:s>
                        <a:s r="5837">
                           <a:s>
                              <a:s r="5818">
                                 <a:s r="5817">
                                    <a:s r="5817">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Urine test conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5836">
                              <a:s>where </a:s>
                              <a:s r="5836">
                                 <a:s r="5826">
                                    <a:s r="5820">
                                       <a:s r="5819">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5820">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5825">
                                       <a:s>{ </a:s>
                                       <a:s r="5821">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5822">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5823">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5824">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5835">
                                    <a:s r="5832">
                                       <a:s>Last(</a:s>
                                       <a:s r="5831">
                                          <a:s>Split(</a:s>
                                          <a:s r="5829">
                                             <a:s r="5828">
                                                <a:s r="5827">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5828">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5829">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5830">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5834">
                                       <a:s r="5833">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5834">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5839">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5839" locator="2509:3-2513:8" path="code" xsi:type="Property">
            <source localId="5838" locator="2509:3-2513:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5837" locator="2510:3-2512:64" xsi:type="Query">
                  <source localId="5818" locator="2510:3-2510:42" alias="P">
                     <expression localId="5817" locator="2510:3-2510:40" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2510:15-2510:39" name="Urine test conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5836" locator="2511:5-2512:64" xsi:type="And">
                     <operand localId="5826" locator="2511:11-2511:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5820" locator="2511:11-2511:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5825" locator="2511:23-2511:78" xsi:type="List">
                           <element localId="5821" locator="2511:25-2511:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5822" locator="2511:40-2511:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5823" locator="2511:55-2511:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5824" locator="2511:66-2511:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5835" locator="2512:11-2512:64" xsi:type="Equal">
                        <operand localId="5832" locator="2512:11-2512:49" xsi:type="Last">
                           <source localId="5831" locator="2512:16-2512:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5829" locator="2512:22-2512:42" path="reference" xsi:type="Property">
                                    <source localId="5828" locator="2512:22-2512:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5830" locator="2512:45-2512:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5834" locator="2512:53-2512:64" path="id" xsi:type="Property">
                              <source localId="5833" locator="2512:53-2512:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5862" locator="2521:1-2524:64" name="Urine test date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5862">
               <a:s>/*
  @dataElement: ANC.B9.DE125 Urine test date
  @activity: ANC.B9. Conduct laboratory tests and imaging
  @description: Select the date of the urine test
*/
define &quot;Urine test date&quot;:
  </a:s>
               <a:s r="5861">
                  <a:s>
                     <a:s r="5842">
                        <a:s r="5841">
                           <a:s r="5841">
                              <a:s>[Procedure]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5860">
                     <a:s>where </a:s>
                     <a:s r="5860">
                        <a:s r="5850">
                           <a:s r="5844">
                              <a:s r="5843">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5844">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="5849">
                              <a:s>{ </a:s>
                              <a:s r="5845">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5846">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5847">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="5848">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5859">
                           <a:s r="5856">
                              <a:s>Last(</a:s>
                              <a:s r="5855">
                                 <a:s>Split(</a:s>
                                 <a:s r="5853">
                                    <a:s r="5852">
                                       <a:s r="5851">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5852">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5853">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5854">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5858">
                              <a:s r="5857">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5858">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5861" locator="2522:3-2524:64" xsi:type="Query">
            <source localId="5842" locator="2522:3-2522:15" alias="P">
               <expression localId="5841" locator="2522:3-2522:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
            </source>
            <where localId="5860" locator="2523:5-2524:64" xsi:type="And">
               <operand localId="5850" locator="2523:11-2523:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5844" locator="2523:11-2523:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="5849" locator="2523:23-2523:78" xsi:type="List">
                     <element localId="5845" locator="2523:25-2523:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="5846" locator="2523:40-2523:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="5847" locator="2523:55-2523:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="5848" locator="2523:66-2523:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="5859" locator="2524:11-2524:64" xsi:type="Equal">
                  <operand localId="5856" locator="2524:11-2524:49" xsi:type="Last">
                     <source localId="5855" locator="2524:16-2524:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5853" locator="2524:22-2524:42" path="reference" xsi:type="Property">
                              <source localId="5852" locator="2524:22-2524:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5854" locator="2524:45-2524:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5858" locator="2524:53-2524:64" path="id" xsi:type="Property">
                        <source localId="5857" locator="2524:53-2524:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="5887" locator="2532:1-2537:8" name="Counselling conducted on caffeine reduction" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5887">
               <a:s>/*
  @dataElement: ANC.B10.DE1 Counselling conducted on caffeine reduction
  @activity: ANC.B10.1 Behaviour counselling
  @description: Whether or not counselling was done on lowering daily caffeine intake
*/
define &quot;Counselling conducted on caffeine reduction&quot;:
  </a:s>
               <a:s r="5886">
                  <a:s r="5885">
                     <a:s r="5863">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5885">
                        <a:s>Only(
  </a:s>
                        <a:s r="5884">
                           <a:s>
                              <a:s r="5865">
                                 <a:s r="5864">
                                    <a:s r="5864">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Caffeine Reduction&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5883">
                              <a:s>where </a:s>
                              <a:s r="5883">
                                 <a:s r="5873">
                                    <a:s r="5867">
                                       <a:s r="5866">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5867">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5872">
                                       <a:s>{ </a:s>
                                       <a:s r="5868">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5869">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5870">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5871">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5882">
                                    <a:s r="5879">
                                       <a:s>Last(</a:s>
                                       <a:s r="5878">
                                          <a:s>Split(</a:s>
                                          <a:s r="5876">
                                             <a:s r="5875">
                                                <a:s r="5874">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5875">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5876">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5877">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5881">
                                       <a:s r="5880">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5881">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5886">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5886" locator="2533:3-2537:8" path="code" xsi:type="Property">
            <source localId="5885" locator="2533:3-2537:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5884" locator="2534:3-2536:64" xsi:type="Query">
                  <source localId="5865" locator="2534:3-2534:55" alias="P">
                     <expression localId="5864" locator="2534:3-2534:53" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2534:15-2534:52" name="Counselling on Caffeine Reduction" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5883" locator="2535:5-2536:64" xsi:type="And">
                     <operand localId="5873" locator="2535:11-2535:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5867" locator="2535:11-2535:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5872" locator="2535:23-2535:78" xsi:type="List">
                           <element localId="5868" locator="2535:25-2535:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5869" locator="2535:40-2535:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5870" locator="2535:55-2535:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5871" locator="2535:66-2535:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5882" locator="2536:11-2536:64" xsi:type="Equal">
                        <operand localId="5879" locator="2536:11-2536:49" xsi:type="Last">
                           <source localId="5878" locator="2536:16-2536:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5876" locator="2536:22-2536:42" path="reference" xsi:type="Property">
                                    <source localId="5875" locator="2536:22-2536:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5877" locator="2536:45-2536:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5881" locator="2536:53-2536:64" path="id" xsi:type="Property">
                              <source localId="5880" locator="2536:53-2536:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5908" locator="2545:1-2549:19" name="Reason counselling on second-hand smoke was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5908">
               <a:s>/*
  @dataElement: ANC.B10.DE10 Reason counselling on second-hand smoke was not conducted
  @activity: ANC.B10.1 Behaviour counselling
  @description: Select the reason why counselling on second-hand smoke cessation was not done
*/
define &quot;Reason counselling on second-hand smoke was not conducted&quot;:
  </a:s>
               <a:s r="5907">
                  <a:s>
                     <a:s r="5889">
                        <a:s r="5888">
                           <a:s r="5888">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Second-Hand Smoke&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5903">
                     <a:s>where </a:s>
                     <a:s r="5903">
                        <a:s r="5893">
                           <a:s r="5891">
                              <a:s r="5890">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5891">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5892">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5902">
                           <a:s r="5899">
                              <a:s>Last(</a:s>
                              <a:s r="5898">
                                 <a:s>Split(</a:s>
                                 <a:s r="5896">
                                    <a:s r="5895">
                                       <a:s r="5894">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5895">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5896">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5897">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5901">
                              <a:s r="5900">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5901">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5906">
                     <a:s>return </a:s>
                     <a:s r="5905">
                        <a:s r="5904">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5905">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5907" locator="2546:3-2549:19" xsi:type="Query">
            <source localId="5889" locator="2546:3-2546:56" alias="PND">
               <expression localId="5888" locator="2546:3-2546:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2546:15-2546:51" name="Counselling on Second-Hand Smoke" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="5903" locator="2547:5-2548:66" xsi:type="And">
               <operand localId="5893" locator="2547:11-2547:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5891" locator="2547:11-2547:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="5892" locator="2547:24-2547:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="5902" locator="2548:11-2548:66" xsi:type="Equal">
                  <operand localId="5899" locator="2548:11-2548:51" xsi:type="Last">
                     <source localId="5898" locator="2548:16-2548:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5896" locator="2548:22-2548:44" path="reference" xsi:type="Property">
                              <source localId="5895" locator="2548:22-2548:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5897" locator="2548:47-2548:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5901" locator="2548:55-2548:66" path="id" xsi:type="Property">
                        <source localId="5900" locator="2548:55-2548:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="5906" locator="2549:5-2549:19">
               <expression localId="5905" locator="2549:12-2549:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="5933" locator="2557:1-2562:8" name="Counselling conducted on condom use" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5933">
               <a:s>/*
  @dataElement: ANC.B10.DE13 Counselling conducted on condom use
  @activity: ANC.B10.1 Behaviour counselling
  @description: Whether or not counselling was done on condom use
*/
define &quot;Counselling conducted on condom use&quot;:
  </a:s>
               <a:s r="5932">
                  <a:s r="5931">
                     <a:s r="5909">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5931">
                        <a:s>Only(
  </a:s>
                        <a:s r="5930">
                           <a:s>
                              <a:s r="5911">
                                 <a:s r="5910">
                                    <a:s r="5910">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Condom Use&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5929">
                              <a:s>where </a:s>
                              <a:s r="5929">
                                 <a:s r="5919">
                                    <a:s r="5913">
                                       <a:s r="5912">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5913">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5918">
                                       <a:s>{ </a:s>
                                       <a:s r="5914">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5915">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5916">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5917">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5928">
                                    <a:s r="5925">
                                       <a:s>Last(</a:s>
                                       <a:s r="5924">
                                          <a:s>Split(</a:s>
                                          <a:s r="5922">
                                             <a:s r="5921">
                                                <a:s r="5920">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5921">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5922">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5923">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5927">
                                       <a:s r="5926">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5927">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5932">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5932" locator="2558:3-2562:8" path="code" xsi:type="Property">
            <source localId="5931" locator="2558:3-2562:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5930" locator="2559:3-2561:64" xsi:type="Query">
                  <source localId="5911" locator="2559:3-2559:47" alias="P">
                     <expression localId="5910" locator="2559:3-2559:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2559:15-2559:44" name="Counselling on Condom Use" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5929" locator="2560:5-2561:64" xsi:type="And">
                     <operand localId="5919" locator="2560:11-2560:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5913" locator="2560:11-2560:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5918" locator="2560:23-2560:78" xsi:type="List">
                           <element localId="5914" locator="2560:25-2560:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5915" locator="2560:40-2560:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5916" locator="2560:55-2560:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5917" locator="2560:66-2560:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5928" locator="2561:11-2561:64" xsi:type="Equal">
                        <operand localId="5925" locator="2561:11-2561:49" xsi:type="Last">
                           <source localId="5924" locator="2561:16-2561:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5922" locator="2561:22-2561:42" path="reference" xsi:type="Property">
                                    <source localId="5921" locator="2561:22-2561:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5923" locator="2561:45-2561:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5927" locator="2561:53-2561:64" path="id" xsi:type="Property">
                              <source localId="5926" locator="2561:53-2561:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="5954" locator="2570:1-2574:19" name="Reason counselling on condom use was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5954">
               <a:s>/*
  @dataElement: ANC.B10.DE14 Reason counselling on condom use was not conducted
  @activity: ANC.B10.1 Behaviour counselling
  @description: Select the reason why counselling on condom use was not done
*/
define &quot;Reason counselling on condom use was not conducted&quot;:
  </a:s>
               <a:s r="5953">
                  <a:s>
                     <a:s r="5935">
                        <a:s r="5934">
                           <a:s r="5934">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Condom Use&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5949">
                     <a:s>where </a:s>
                     <a:s r="5949">
                        <a:s r="5939">
                           <a:s r="5937">
                              <a:s r="5936">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5937">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5938">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5948">
                           <a:s r="5945">
                              <a:s>Last(</a:s>
                              <a:s r="5944">
                                 <a:s>Split(</a:s>
                                 <a:s r="5942">
                                    <a:s r="5941">
                                       <a:s r="5940">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5941">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5942">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5943">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5947">
                              <a:s r="5946">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5947">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5952">
                     <a:s>return </a:s>
                     <a:s r="5951">
                        <a:s r="5950">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5951">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5953" locator="2571:3-2574:19" xsi:type="Query">
            <source localId="5935" locator="2571:3-2571:49" alias="PND">
               <expression localId="5934" locator="2571:3-2571:45" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2571:15-2571:44" name="Counselling on Condom Use" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="5949" locator="2572:5-2573:66" xsi:type="And">
               <operand localId="5939" locator="2572:11-2572:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5937" locator="2572:11-2572:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="5938" locator="2572:24-2572:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="5948" locator="2573:11-2573:66" xsi:type="Equal">
                  <operand localId="5945" locator="2573:11-2573:51" xsi:type="Last">
                     <source localId="5944" locator="2573:16-2573:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5942" locator="2573:22-2573:44" path="reference" xsi:type="Property">
                              <source localId="5941" locator="2573:22-2573:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5943" locator="2573:47-2573:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5947" locator="2573:55-2573:66" path="id" xsi:type="Property">
                        <source localId="5946" locator="2573:55-2573:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="5952" locator="2574:5-2574:19">
               <expression localId="5951" locator="2574:12-2574:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="5979" locator="2582:1-2587:8" name="Counselling conducted on alcohol / substance use" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5979">
               <a:s>/*
  @dataElement: ANC.B10.DE17 Counselling conducted on alcohol / substance use
  @activity: ANC.B10.1 Behaviour counselling
  @description: Whether or not counselling was done on alcohol and substance use cessation
*/
define &quot;Counselling conducted on alcohol / substance use&quot;:
  </a:s>
               <a:s r="5978">
                  <a:s r="5977">
                     <a:s r="5955">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="5977">
                        <a:s>Only(
  </a:s>
                        <a:s r="5976">
                           <a:s>
                              <a:s r="5957">
                                 <a:s r="5956">
                                    <a:s r="5956">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Alcohol Substance Abuse&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="5975">
                              <a:s>where </a:s>
                              <a:s r="5975">
                                 <a:s r="5965">
                                    <a:s r="5959">
                                       <a:s r="5958">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5959">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="5964">
                                       <a:s>{ </a:s>
                                       <a:s r="5960">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5961">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5962">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="5963">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="5974">
                                    <a:s r="5971">
                                       <a:s>Last(</a:s>
                                       <a:s r="5970">
                                          <a:s>Split(</a:s>
                                          <a:s r="5968">
                                             <a:s r="5967">
                                                <a:s r="5966">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="5967">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="5968">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="5969">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="5973">
                                       <a:s r="5972">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5973">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="5978">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5978" locator="2583:3-2587:8" path="code" xsi:type="Property">
            <source localId="5977" locator="2583:3-2587:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="5976" locator="2584:3-2586:64" xsi:type="Query">
                  <source localId="5957" locator="2584:3-2584:60" alias="P">
                     <expression localId="5956" locator="2584:3-2584:58" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2584:15-2584:57" name="Counselling on Alcohol Substance Abuse" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="5975" locator="2585:5-2586:64" xsi:type="And">
                     <operand localId="5965" locator="2585:11-2585:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5959" locator="2585:11-2585:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="5964" locator="2585:23-2585:78" xsi:type="List">
                           <element localId="5960" locator="2585:25-2585:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="5961" locator="2585:40-2585:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="5962" locator="2585:55-2585:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="5963" locator="2585:66-2585:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="5974" locator="2586:11-2586:64" xsi:type="Equal">
                        <operand localId="5971" locator="2586:11-2586:49" xsi:type="Last">
                           <source localId="5970" locator="2586:16-2586:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="5968" locator="2586:22-2586:42" path="reference" xsi:type="Property">
                                    <source localId="5967" locator="2586:22-2586:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="5969" locator="2586:45-2586:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5973" locator="2586:53-2586:64" path="id" xsi:type="Property">
                              <source localId="5972" locator="2586:53-2586:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6000" locator="2595:1-2599:19" name="Reason counselling on alcohol / substance use was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6000">
               <a:s>/*
  @dataElement: ANC.B10.DE18 Reason counselling on alcohol / substance use was not conducted
  @activity: ANC.B10.1 Behaviour counselling
  @description: Select the reason why counselling on alcohol and substance use was not done
*/
define &quot;Reason counselling on alcohol / substance use was not conducted&quot;:
  </a:s>
               <a:s r="5999">
                  <a:s>
                     <a:s r="5981">
                        <a:s r="5980">
                           <a:s r="5980">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Alcohol Substance Abuse&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5995">
                     <a:s>where </a:s>
                     <a:s r="5995">
                        <a:s r="5985">
                           <a:s r="5983">
                              <a:s r="5982">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5983">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5984">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="5994">
                           <a:s r="5991">
                              <a:s>Last(</a:s>
                              <a:s r="5990">
                                 <a:s>Split(</a:s>
                                 <a:s r="5988">
                                    <a:s r="5987">
                                       <a:s r="5986">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="5987">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="5988">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="5989">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="5993">
                              <a:s r="5992">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="5993">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="5998">
                     <a:s>return </a:s>
                     <a:s r="5997">
                        <a:s r="5996">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="5997">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="5999" locator="2596:3-2599:19" xsi:type="Query">
            <source localId="5981" locator="2596:3-2596:62" alias="PND">
               <expression localId="5980" locator="2596:3-2596:58" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2596:15-2596:57" name="Counselling on Alcohol Substance Abuse" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="5995" locator="2597:5-2598:66" xsi:type="And">
               <operand localId="5985" locator="2597:11-2597:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5983" locator="2597:11-2597:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="5984" locator="2597:24-2597:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="5994" locator="2598:11-2598:66" xsi:type="Equal">
                  <operand localId="5991" locator="2598:11-2598:51" xsi:type="Last">
                     <source localId="5990" locator="2598:16-2598:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="5988" locator="2598:22-2598:44" path="reference" xsi:type="Property">
                              <source localId="5987" locator="2598:22-2598:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="5989" locator="2598:47-2598:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="5993" locator="2598:55-2598:66" path="id" xsi:type="Property">
                        <source localId="5992" locator="2598:55-2598:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="5998" locator="2599:5-2599:19">
               <expression localId="5997" locator="2599:12-2599:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6021" locator="2607:1-2611:19" name="Reason counselling on caffeine reduction was not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6021">
               <a:s>/*
  @dataElement: ANC.B10.DE2 Reason counselling on caffeine reduction was not done
  @activity: ANC.B10.1 Behaviour counselling
  @description: The reason why the health worker did not counsel on caffeine reduction
*/
define &quot;Reason counselling on caffeine reduction was not done&quot;:
  </a:s>
               <a:s r="6020">
                  <a:s>
                     <a:s r="6002">
                        <a:s r="6001">
                           <a:s r="6001">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Caffeine Reduction&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6016">
                     <a:s>where </a:s>
                     <a:s r="6016">
                        <a:s r="6006">
                           <a:s r="6004">
                              <a:s r="6003">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6004">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6005">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6015">
                           <a:s r="6012">
                              <a:s>Last(</a:s>
                              <a:s r="6011">
                                 <a:s>Split(</a:s>
                                 <a:s r="6009">
                                    <a:s r="6008">
                                       <a:s r="6007">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6008">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6009">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6010">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6014">
                              <a:s r="6013">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6014">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6019">
                     <a:s>return </a:s>
                     <a:s r="6018">
                        <a:s r="6017">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="6018">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6020" locator="2608:3-2611:19" xsi:type="Query">
            <source localId="6002" locator="2608:3-2608:57" alias="PND">
               <expression localId="6001" locator="2608:3-2608:53" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2608:15-2608:52" name="Counselling on Caffeine Reduction" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6016" locator="2609:5-2610:66" xsi:type="And">
               <operand localId="6006" locator="2609:11-2609:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6004" locator="2609:11-2609:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="6005" locator="2609:24-2609:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="6015" locator="2610:11-2610:66" xsi:type="Equal">
                  <operand localId="6012" locator="2610:11-2610:51" xsi:type="Last">
                     <source localId="6011" locator="2610:16-2610:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6009" locator="2610:22-2610:44" path="reference" xsi:type="Property">
                              <source localId="6008" locator="2610:22-2610:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6010" locator="2610:47-2610:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6014" locator="2610:55-2610:66" path="id" xsi:type="Property">
                        <source localId="6013" locator="2610:55-2610:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="6019" locator="2611:5-2611:19">
               <expression localId="6018" locator="2611:12-2611:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6046" locator="2619:1-2624:8" name="Counselling conducted on tobacco cessation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6046">
               <a:s>/*
  @dataElement: ANC.B10.DE5 Counselling conducted on tobacco cessation
  @activity: ANC.B10.1 Behaviour counselling
  @description: Whether or not counselling was done on tobacco cessation
*/
define &quot;Counselling conducted on tobacco cessation&quot;:
  </a:s>
               <a:s r="6045">
                  <a:s r="6044">
                     <a:s r="6022">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6044">
                        <a:s>Only(
  </a:s>
                        <a:s r="6043">
                           <a:s>
                              <a:s r="6024">
                                 <a:s r="6023">
                                    <a:s r="6023">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Tobacco Cessation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6042">
                              <a:s>where </a:s>
                              <a:s r="6042">
                                 <a:s r="6032">
                                    <a:s r="6026">
                                       <a:s r="6025">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6026">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6031">
                                       <a:s>{ </a:s>
                                       <a:s r="6027">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6028">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6029">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6030">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6041">
                                    <a:s r="6038">
                                       <a:s>Last(</a:s>
                                       <a:s r="6037">
                                          <a:s>Split(</a:s>
                                          <a:s r="6035">
                                             <a:s r="6034">
                                                <a:s r="6033">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6034">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6035">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6036">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6040">
                                       <a:s r="6039">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6040">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6045">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6045" locator="2620:3-2624:8" path="code" xsi:type="Property">
            <source localId="6044" locator="2620:3-2624:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6043" locator="2621:3-2623:64" xsi:type="Query">
                  <source localId="6024" locator="2621:3-2621:54" alias="P">
                     <expression localId="6023" locator="2621:3-2621:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2621:15-2621:51" name="Counselling on Tobacco Cessation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6042" locator="2622:5-2623:64" xsi:type="And">
                     <operand localId="6032" locator="2622:11-2622:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6026" locator="2622:11-2622:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6031" locator="2622:23-2622:78" xsi:type="List">
                           <element localId="6027" locator="2622:25-2622:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6028" locator="2622:40-2622:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6029" locator="2622:55-2622:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6030" locator="2622:66-2622:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6041" locator="2623:11-2623:64" xsi:type="Equal">
                        <operand localId="6038" locator="2623:11-2623:49" xsi:type="Last">
                           <source localId="6037" locator="2623:16-2623:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6035" locator="2623:22-2623:42" path="reference" xsi:type="Property">
                                    <source localId="6034" locator="2623:22-2623:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6036" locator="2623:45-2623:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6040" locator="2623:53-2623:64" path="id" xsi:type="Property">
                              <source localId="6039" locator="2623:53-2623:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6067" locator="2632:1-2636:19" name="Reason counselling on tobacco cessation was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6067">
               <a:s>/*
  @dataElement: ANC.B10.DE6 Reason counselling on tobacco cessation was not conducted
  @activity: ANC.B10.1 Behaviour counselling
  @description: Select the reason why counselling on tobacco cessation was not done
*/
define &quot;Reason counselling on tobacco cessation was not conducted&quot;:
  </a:s>
               <a:s r="6066">
                  <a:s>
                     <a:s r="6048">
                        <a:s r="6047">
                           <a:s r="6047">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Tobacco Cessation&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6062">
                     <a:s>where </a:s>
                     <a:s r="6062">
                        <a:s r="6052">
                           <a:s r="6050">
                              <a:s r="6049">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6050">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6051">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6061">
                           <a:s r="6058">
                              <a:s>Last(</a:s>
                              <a:s r="6057">
                                 <a:s>Split(</a:s>
                                 <a:s r="6055">
                                    <a:s r="6054">
                                       <a:s r="6053">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6054">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6055">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6056">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6060">
                              <a:s r="6059">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6060">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6065">
                     <a:s>return </a:s>
                     <a:s r="6064">
                        <a:s r="6063">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="6064">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6066" locator="2633:3-2636:19" xsi:type="Query">
            <source localId="6048" locator="2633:3-2633:56" alias="PND">
               <expression localId="6047" locator="2633:3-2633:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2633:15-2633:51" name="Counselling on Tobacco Cessation" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6062" locator="2634:5-2635:66" xsi:type="And">
               <operand localId="6052" locator="2634:11-2634:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6050" locator="2634:11-2634:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="6051" locator="2634:24-2634:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="6061" locator="2635:11-2635:66" xsi:type="Equal">
                  <operand localId="6058" locator="2635:11-2635:51" xsi:type="Last">
                     <source localId="6057" locator="2635:16-2635:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6055" locator="2635:22-2635:44" path="reference" xsi:type="Property">
                              <source localId="6054" locator="2635:22-2635:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6056" locator="2635:47-2635:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6060" locator="2635:55-2635:66" path="id" xsi:type="Property">
                        <source localId="6059" locator="2635:55-2635:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="6065" locator="2636:5-2636:19">
               <expression localId="6064" locator="2636:12-2636:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6092" locator="2644:1-2649:8" name="Counselling conducted on second-hand smoke" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6092">
               <a:s>/*
  @dataElement: ANC.B10.DE9 Counselling conducted on second-hand smoke
  @activity: ANC.B10.1 Behaviour counselling
  @description: Whether or not counselling was done on second-hand smoke cessation
*/
define &quot;Counselling conducted on second-hand smoke&quot;:
  </a:s>
               <a:s r="6091">
                  <a:s r="6090">
                     <a:s r="6068">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6090">
                        <a:s>Only(
  </a:s>
                        <a:s r="6089">
                           <a:s>
                              <a:s r="6070">
                                 <a:s r="6069">
                                    <a:s r="6069">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Second-Hand Smoke&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6088">
                              <a:s>where </a:s>
                              <a:s r="6088">
                                 <a:s r="6078">
                                    <a:s r="6072">
                                       <a:s r="6071">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6072">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6077">
                                       <a:s>{ </a:s>
                                       <a:s r="6073">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6074">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6075">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6076">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6087">
                                    <a:s r="6084">
                                       <a:s>Last(</a:s>
                                       <a:s r="6083">
                                          <a:s>Split(</a:s>
                                          <a:s r="6081">
                                             <a:s r="6080">
                                                <a:s r="6079">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6080">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6081">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6082">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6086">
                                       <a:s r="6085">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6086">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6091">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6091" locator="2645:3-2649:8" path="code" xsi:type="Property">
            <source localId="6090" locator="2645:3-2649:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6089" locator="2646:3-2648:64" xsi:type="Query">
                  <source localId="6070" locator="2646:3-2646:54" alias="P">
                     <expression localId="6069" locator="2646:3-2646:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2646:15-2646:51" name="Counselling on Second-Hand Smoke" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6088" locator="2647:5-2648:64" xsi:type="And">
                     <operand localId="6078" locator="2647:11-2647:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6072" locator="2647:11-2647:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6077" locator="2647:23-2647:78" xsi:type="List">
                           <element localId="6073" locator="2647:25-2647:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6074" locator="2647:40-2647:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6075" locator="2647:55-2647:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6076" locator="2647:66-2647:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6087" locator="2648:11-2648:64" xsi:type="Equal">
                        <operand localId="6084" locator="2648:11-2648:49" xsi:type="Last">
                           <source localId="6083" locator="2648:16-2648:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6081" locator="2648:22-2648:42" path="reference" xsi:type="Property">
                                    <source localId="6080" locator="2648:22-2648:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6082" locator="2648:45-2648:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6086" locator="2648:53-2648:64" path="id" xsi:type="Property">
                              <source localId="6085" locator="2648:53-2648:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6117" locator="2657:1-2662:8" name="Counselling conducted on non-pharma measures to relieve nausea and vomiting" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6117">
               <a:s>/*
  @dataElement: ANC.B10.DE21 Counselling conducted on non-pharma measures to relieve nausea and vomiting
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling was conducted on nausea and vomiting
*/
define &quot;Counselling conducted on non-pharma measures to relieve nausea and vomiting&quot;:
  </a:s>
               <a:s r="6116">
                  <a:s r="6115">
                     <a:s r="6093">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6115">
                        <a:s>Only(
  </a:s>
                        <a:s r="6114">
                           <a:s>
                              <a:s r="6095">
                                 <a:s r="6094">
                                    <a:s r="6094">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Non-Pharma Measures to Relieve Nausea and Vomiting&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6113">
                              <a:s>where </a:s>
                              <a:s r="6113">
                                 <a:s r="6103">
                                    <a:s r="6097">
                                       <a:s r="6096">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6097">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6102">
                                       <a:s>{ </a:s>
                                       <a:s r="6098">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6099">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6100">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6101">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6112">
                                    <a:s r="6109">
                                       <a:s>Last(</a:s>
                                       <a:s r="6108">
                                          <a:s>Split(</a:s>
                                          <a:s r="6106">
                                             <a:s r="6105">
                                                <a:s r="6104">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6105">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6106">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6107">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6111">
                                       <a:s r="6110">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6111">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6116">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6116" locator="2658:3-2662:8" path="code" xsi:type="Property">
            <source localId="6115" locator="2658:3-2662:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6114" locator="2659:3-2661:64" xsi:type="Query">
                  <source localId="6095" locator="2659:3-2659:87" alias="P">
                     <expression localId="6094" locator="2659:3-2659:85" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2659:15-2659:84" name="Counselling on Non-Pharma Measures to Relieve Nausea and Vomiting" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6113" locator="2660:5-2661:64" xsi:type="And">
                     <operand localId="6103" locator="2660:11-2660:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6097" locator="2660:11-2660:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6102" locator="2660:23-2660:78" xsi:type="List">
                           <element localId="6098" locator="2660:25-2660:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6099" locator="2660:40-2660:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6100" locator="2660:55-2660:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6101" locator="2660:66-2660:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6112" locator="2661:11-2661:64" xsi:type="Equal">
                        <operand localId="6109" locator="2661:11-2661:49" xsi:type="Last">
                           <source localId="6108" locator="2661:16-2661:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6106" locator="2661:22-2661:42" path="reference" xsi:type="Property">
                                    <source localId="6105" locator="2661:22-2661:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6107" locator="2661:45-2661:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6111" locator="2661:53-2661:64" path="id" xsi:type="Property">
                              <source localId="6110" locator="2661:53-2661:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6138" locator="2670:1-2675:8" name="Reason counselling on non-pharma measures to relieve nausea and vomiting was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6138">
               <a:s>/*
  @dataElement: ANC.B10.DE22 Reason counselling on non-pharma measures to relieve nausea and vomiting was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why non-pharma measures to relieve nausea and vomiting counselling was not done
*/
define &quot;Reason counselling on non-pharma measures to relieve nausea and vomiting was not conducted&quot;:
  </a:s>
               <a:s r="6137">
                  <a:s r="6136">
                     <a:s r="6118">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6136">
                        <a:s>Only(
  </a:s>
                        <a:s r="6135">
                           <a:s>
                              <a:s r="6120">
                                 <a:s r="6119">
                                    <a:s r="6119">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Non-Pharma Measures to Relieve Nausea and Vomiting&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6134">
                              <a:s>where </a:s>
                              <a:s r="6134">
                                 <a:s r="6124">
                                    <a:s r="6122">
                                       <a:s r="6121">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6122">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6123">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6133">
                                    <a:s r="6130">
                                       <a:s>Last(</a:s>
                                       <a:s r="6129">
                                          <a:s>Split(</a:s>
                                          <a:s r="6127">
                                             <a:s r="6126">
                                                <a:s r="6125">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6126">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6127">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6128">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6132">
                                       <a:s r="6131">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6132">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6137">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6137" locator="2671:3-2675:8" path="code" xsi:type="Property">
            <source localId="6136" locator="2671:3-2675:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6135" locator="2672:3-2674:66" xsi:type="Query">
                  <source localId="6120" locator="2672:3-2672:89" alias="PND">
                     <expression localId="6119" locator="2672:3-2672:85" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2672:15-2672:84" name="Counselling on Non-Pharma Measures to Relieve Nausea and Vomiting" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6134" locator="2673:5-2674:66" xsi:type="And">
                     <operand localId="6124" locator="2673:11-2673:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6122" locator="2673:11-2673:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6123" locator="2673:24-2673:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6133" locator="2674:11-2674:66" xsi:type="Equal">
                        <operand localId="6130" locator="2674:11-2674:51" xsi:type="Last">
                           <source localId="6129" locator="2674:16-2674:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6127" locator="2674:22-2674:44" path="reference" xsi:type="Property">
                                    <source localId="6126" locator="2674:22-2674:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6128" locator="2674:47-2674:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6132" locator="2674:55-2674:66" path="id" xsi:type="Property">
                              <source localId="6131" locator="2674:55-2674:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6163" locator="2683:1-2688:8" name="Counselling conducted on pharmacological treatments for nausea and vomiting" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6163">
               <a:s>/*
  @dataElement: ANC.B10.DE25 Counselling conducted on pharmacological treatments for nausea and vomiting
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the repeat symptom &quot;nausea and vomiting&quot; was done
*/
define &quot;Counselling conducted on pharmacological treatments for nausea and vomiting&quot;:
  </a:s>
               <a:s r="6162">
                  <a:s r="6161">
                     <a:s r="6139">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6161">
                        <a:s>Only(
  </a:s>
                        <a:s r="6160">
                           <a:s>
                              <a:s r="6141">
                                 <a:s r="6140">
                                    <a:s r="6140">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Pharmacological Measures to Relieve Nausea and Vomiting&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6159">
                              <a:s>where </a:s>
                              <a:s r="6159">
                                 <a:s r="6149">
                                    <a:s r="6143">
                                       <a:s r="6142">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6143">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6148">
                                       <a:s>{ </a:s>
                                       <a:s r="6144">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6145">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6146">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6147">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6158">
                                    <a:s r="6155">
                                       <a:s>Last(</a:s>
                                       <a:s r="6154">
                                          <a:s>Split(</a:s>
                                          <a:s r="6152">
                                             <a:s r="6151">
                                                <a:s r="6150">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6151">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6152">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6153">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6157">
                                       <a:s r="6156">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6157">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6162">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6162" locator="2684:3-2688:8" path="code" xsi:type="Property">
            <source localId="6161" locator="2684:3-2688:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6160" locator="2685:3-2687:64" xsi:type="Query">
                  <source localId="6141" locator="2685:3-2685:92" alias="P">
                     <expression localId="6140" locator="2685:3-2685:90" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2685:15-2685:89" name="Counselling on Pharmacological Measures to Relieve Nausea and Vomiting" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6159" locator="2686:5-2687:64" xsi:type="And">
                     <operand localId="6149" locator="2686:11-2686:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6143" locator="2686:11-2686:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6148" locator="2686:23-2686:78" xsi:type="List">
                           <element localId="6144" locator="2686:25-2686:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6145" locator="2686:40-2686:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6146" locator="2686:55-2686:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6147" locator="2686:66-2686:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6158" locator="2687:11-2687:64" xsi:type="Equal">
                        <operand localId="6155" locator="2687:11-2687:49" xsi:type="Last">
                           <source localId="6154" locator="2687:16-2687:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6152" locator="2687:22-2687:42" path="reference" xsi:type="Property">
                                    <source localId="6151" locator="2687:22-2687:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6153" locator="2687:45-2687:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6157" locator="2687:53-2687:64" path="id" xsi:type="Property">
                              <source localId="6156" locator="2687:53-2687:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6184" locator="2696:1-2701:8" name="Reason counselling on pharmacological treatments for nausea and vomiting was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6184">
               <a:s>/*
  @dataElement: ANC.B10.DE26 Reason counselling on pharmacological treatments for nausea and vomiting was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling on pharmacological treatments to relieve nausea and vomiting was not done
*/
define &quot;Reason counselling on pharmacological treatments for nausea and vomiting was not conducted&quot;:
  </a:s>
               <a:s r="6183">
                  <a:s r="6182">
                     <a:s r="6164">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6182">
                        <a:s>Only(
  </a:s>
                        <a:s r="6181">
                           <a:s>
                              <a:s r="6166">
                                 <a:s r="6165">
                                    <a:s r="6165">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Pharmacological Measures to Relieve Nausea and Vomiting&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6180">
                              <a:s>where </a:s>
                              <a:s r="6180">
                                 <a:s r="6170">
                                    <a:s r="6168">
                                       <a:s r="6167">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6168">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6169">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6179">
                                    <a:s r="6176">
                                       <a:s>Last(</a:s>
                                       <a:s r="6175">
                                          <a:s>Split(</a:s>
                                          <a:s r="6173">
                                             <a:s r="6172">
                                                <a:s r="6171">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6172">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6173">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6174">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6178">
                                       <a:s r="6177">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6178">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6183">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6183" locator="2697:3-2701:8" path="code" xsi:type="Property">
            <source localId="6182" locator="2697:3-2701:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6181" locator="2698:3-2700:66" xsi:type="Query">
                  <source localId="6166" locator="2698:3-2698:94" alias="PND">
                     <expression localId="6165" locator="2698:3-2698:90" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2698:15-2698:89" name="Counselling on Pharmacological Measures to Relieve Nausea and Vomiting" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6180" locator="2699:5-2700:66" xsi:type="And">
                     <operand localId="6170" locator="2699:11-2699:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6168" locator="2699:11-2699:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6169" locator="2699:24-2699:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6179" locator="2700:11-2700:66" xsi:type="Equal">
                        <operand localId="6176" locator="2700:11-2700:51" xsi:type="Last">
                           <source localId="6175" locator="2700:16-2700:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6173" locator="2700:22-2700:44" path="reference" xsi:type="Property">
                                    <source localId="6172" locator="2700:22-2700:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6174" locator="2700:47-2700:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6178" locator="2700:55-2700:66" path="id" xsi:type="Property">
                              <source localId="6177" locator="2700:55-2700:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6209" locator="2709:1-2714:8" name="Counselling conducted on diet and lifestyle changes to prevent and relieve heartburn" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6209">
               <a:s>/*
  @dataElement: ANC.B10.DE29 Counselling conducted on diet and lifestyle changes to prevent and relieve heartburn
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the symptom &quot;heartburn&quot; was done
*/
define &quot;Counselling conducted on diet and lifestyle changes to prevent and relieve heartburn&quot;:
  </a:s>
               <a:s r="6208">
                  <a:s r="6207">
                     <a:s r="6185">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6207">
                        <a:s>Only(
  </a:s>
                        <a:s r="6206">
                           <a:s>
                              <a:s r="6187">
                                 <a:s r="6186">
                                    <a:s r="6186">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Diet and Lifestyle Changes to Prevent and Relieve Heartburn&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6205">
                              <a:s>where </a:s>
                              <a:s r="6205">
                                 <a:s r="6195">
                                    <a:s r="6189">
                                       <a:s r="6188">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6189">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6194">
                                       <a:s>{ </a:s>
                                       <a:s r="6190">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6191">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6192">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6193">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6204">
                                    <a:s r="6201">
                                       <a:s>Last(</a:s>
                                       <a:s r="6200">
                                          <a:s>Split(</a:s>
                                          <a:s r="6198">
                                             <a:s r="6197">
                                                <a:s r="6196">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6197">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6198">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6199">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6203">
                                       <a:s r="6202">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6203">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6208">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6208" locator="2710:3-2714:8" path="code" xsi:type="Property">
            <source localId="6207" locator="2710:3-2714:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6206" locator="2711:3-2713:64" xsi:type="Query">
                  <source localId="6187" locator="2711:3-2711:96" alias="P">
                     <expression localId="6186" locator="2711:3-2711:94" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2711:15-2711:93" name="Counselling on Diet and Lifestyle Changes to Prevent and Relieve Heartburn" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6205" locator="2712:5-2713:64" xsi:type="And">
                     <operand localId="6195" locator="2712:11-2712:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6189" locator="2712:11-2712:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6194" locator="2712:23-2712:78" xsi:type="List">
                           <element localId="6190" locator="2712:25-2712:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6191" locator="2712:40-2712:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6192" locator="2712:55-2712:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6193" locator="2712:66-2712:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6204" locator="2713:11-2713:64" xsi:type="Equal">
                        <operand localId="6201" locator="2713:11-2713:49" xsi:type="Last">
                           <source localId="6200" locator="2713:16-2713:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6198" locator="2713:22-2713:42" path="reference" xsi:type="Property">
                                    <source localId="6197" locator="2713:22-2713:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6199" locator="2713:45-2713:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6203" locator="2713:53-2713:64" path="id" xsi:type="Property">
                              <source localId="6202" locator="2713:53-2713:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6230" locator="2722:1-2727:8" name="Reason counselling on diet and lifestyle changes to prevent and relieve heartburn was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6230">
               <a:s>/*
  @dataElement: ANC.B10.DE30 Reason counselling on diet and lifestyle changes to prevent and relieve heartburn was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the symptom &quot;Heartburn&quot; was not done
*/
define &quot;Reason counselling on diet and lifestyle changes to prevent and relieve heartburn was not conducted&quot;:
  </a:s>
               <a:s r="6229">
                  <a:s r="6228">
                     <a:s r="6210">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6228">
                        <a:s>Only(
  </a:s>
                        <a:s r="6227">
                           <a:s>
                              <a:s r="6212">
                                 <a:s r="6211">
                                    <a:s r="6211">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Diet and Lifestyle Changes to Prevent and Relieve Heartburn&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6226">
                              <a:s>where </a:s>
                              <a:s r="6226">
                                 <a:s r="6216">
                                    <a:s r="6214">
                                       <a:s r="6213">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6214">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6215">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6225">
                                    <a:s r="6222">
                                       <a:s>Last(</a:s>
                                       <a:s r="6221">
                                          <a:s>Split(</a:s>
                                          <a:s r="6219">
                                             <a:s r="6218">
                                                <a:s r="6217">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6218">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6219">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6220">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6224">
                                       <a:s r="6223">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6224">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6229">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6229" locator="2723:3-2727:8" path="code" xsi:type="Property">
            <source localId="6228" locator="2723:3-2727:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6227" locator="2724:3-2726:66" xsi:type="Query">
                  <source localId="6212" locator="2724:3-2724:98" alias="PND">
                     <expression localId="6211" locator="2724:3-2724:94" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2724:15-2724:93" name="Counselling on Diet and Lifestyle Changes to Prevent and Relieve Heartburn" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6226" locator="2725:5-2726:66" xsi:type="And">
                     <operand localId="6216" locator="2725:11-2725:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6214" locator="2725:11-2725:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6215" locator="2725:24-2725:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6225" locator="2726:11-2726:66" xsi:type="Equal">
                        <operand localId="6222" locator="2726:11-2726:51" xsi:type="Last">
                           <source localId="6221" locator="2726:16-2726:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6219" locator="2726:22-2726:44" path="reference" xsi:type="Property">
                                    <source localId="6218" locator="2726:22-2726:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6220" locator="2726:47-2726:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6224" locator="2726:55-2726:66" path="id" xsi:type="Property">
                              <source localId="6223" locator="2726:55-2726:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6255" locator="2735:1-2740:8" name="Counselling conducted on antacid preparations to relieve heartburn" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6255">
               <a:s>/*
  @dataElement: ANC.B10.DE33 Counselling conducted on antacid preparations to relieve heartburn
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the repeat symptom &quot;Heartburn&quot; was done
*/
define &quot;Counselling conducted on antacid preparations to relieve heartburn&quot;:
  </a:s>
               <a:s r="6254">
                  <a:s r="6253">
                     <a:s r="6231">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6253">
                        <a:s>Only(
  </a:s>
                        <a:s r="6252">
                           <a:s>
                              <a:s r="6233">
                                 <a:s r="6232">
                                    <a:s r="6232">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Antacid Preparations to Relieve Heartburn&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6251">
                              <a:s>where </a:s>
                              <a:s r="6251">
                                 <a:s r="6241">
                                    <a:s r="6235">
                                       <a:s r="6234">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6235">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6240">
                                       <a:s>{ </a:s>
                                       <a:s r="6236">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6237">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6238">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6239">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6250">
                                    <a:s r="6247">
                                       <a:s>Last(</a:s>
                                       <a:s r="6246">
                                          <a:s>Split(</a:s>
                                          <a:s r="6244">
                                             <a:s r="6243">
                                                <a:s r="6242">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6243">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6244">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6245">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6249">
                                       <a:s r="6248">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6249">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6254">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6254" locator="2736:3-2740:8" path="code" xsi:type="Property">
            <source localId="6253" locator="2736:3-2740:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6252" locator="2737:3-2739:64" xsi:type="Query">
                  <source localId="6233" locator="2737:3-2737:78" alias="P">
                     <expression localId="6232" locator="2737:3-2737:76" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2737:15-2737:75" name="Counselling on Antacid Preparations to Relieve Heartburn" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6251" locator="2738:5-2739:64" xsi:type="And">
                     <operand localId="6241" locator="2738:11-2738:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6235" locator="2738:11-2738:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6240" locator="2738:23-2738:78" xsi:type="List">
                           <element localId="6236" locator="2738:25-2738:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6237" locator="2738:40-2738:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6238" locator="2738:55-2738:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6239" locator="2738:66-2738:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6250" locator="2739:11-2739:64" xsi:type="Equal">
                        <operand localId="6247" locator="2739:11-2739:49" xsi:type="Last">
                           <source localId="6246" locator="2739:16-2739:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6244" locator="2739:22-2739:42" path="reference" xsi:type="Property">
                                    <source localId="6243" locator="2739:22-2739:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6245" locator="2739:45-2739:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6249" locator="2739:53-2739:64" path="id" xsi:type="Property">
                              <source localId="6248" locator="2739:53-2739:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6276" locator="2748:1-2753:8" name="Reason counselling on antacid preparations to relieve heartburn was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6276">
               <a:s>/*
  @dataElement: ANC.B10.DE34 Reason counselling on antacid preparations to relieve heartburn was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the repeat symptom &quot;Heartburn&quot; was not done
*/
define &quot;Reason counselling on antacid preparations to relieve heartburn was not conducted&quot;:
  </a:s>
               <a:s r="6275">
                  <a:s r="6274">
                     <a:s r="6256">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6274">
                        <a:s>Only(
  </a:s>
                        <a:s r="6273">
                           <a:s>
                              <a:s r="6258">
                                 <a:s r="6257">
                                    <a:s r="6257">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Antacid Preparations to Relieve Heartburn&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6272">
                              <a:s>where </a:s>
                              <a:s r="6272">
                                 <a:s r="6262">
                                    <a:s r="6260">
                                       <a:s r="6259">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6260">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6261">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6271">
                                    <a:s r="6268">
                                       <a:s>Last(</a:s>
                                       <a:s r="6267">
                                          <a:s>Split(</a:s>
                                          <a:s r="6265">
                                             <a:s r="6264">
                                                <a:s r="6263">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6264">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6265">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6266">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6270">
                                       <a:s r="6269">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6270">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6275">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6275" locator="2749:3-2753:8" path="code" xsi:type="Property">
            <source localId="6274" locator="2749:3-2753:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6273" locator="2750:3-2752:66" xsi:type="Query">
                  <source localId="6258" locator="2750:3-2750:80" alias="PND">
                     <expression localId="6257" locator="2750:3-2750:76" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2750:15-2750:75" name="Counselling on Antacid Preparations to Relieve Heartburn" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6272" locator="2751:5-2752:66" xsi:type="And">
                     <operand localId="6262" locator="2751:11-2751:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6260" locator="2751:11-2751:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6261" locator="2751:24-2751:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6271" locator="2752:11-2752:66" xsi:type="Equal">
                        <operand localId="6268" locator="2752:11-2752:51" xsi:type="Last">
                           <source localId="6267" locator="2752:16-2752:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6265" locator="2752:22-2752:44" path="reference" xsi:type="Property">
                                    <source localId="6264" locator="2752:22-2752:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6266" locator="2752:47-2752:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6270" locator="2752:55-2752:66" path="id" xsi:type="Property">
                              <source localId="6269" locator="2752:55-2752:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6301" locator="2761:1-2766:8" name="Counselling on non-pharmacological treatment for the relief of leg cramps" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6301">
               <a:s>/*
  @dataElement: ANC.B10.DE37 Counselling on non-pharmacological treatment for the relief of leg cramps
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the symptom &quot;Leg cramps&quot; was done
*/
define &quot;Counselling on non-pharmacological treatment for the relief of leg cramps&quot;:
  </a:s>
               <a:s r="6300">
                  <a:s r="6299">
                     <a:s r="6277">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6299">
                        <a:s>Only(
  </a:s>
                        <a:s r="6298">
                           <a:s>
                              <a:s r="6279">
                                 <a:s r="6278">
                                    <a:s r="6278">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Non-Pharmacological Treatment for Relief of Leg Cramps&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6297">
                              <a:s>where </a:s>
                              <a:s r="6297">
                                 <a:s r="6287">
                                    <a:s r="6281">
                                       <a:s r="6280">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6281">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6286">
                                       <a:s>{ </a:s>
                                       <a:s r="6282">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6283">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6284">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6285">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6296">
                                    <a:s r="6293">
                                       <a:s>Last(</a:s>
                                       <a:s r="6292">
                                          <a:s>Split(</a:s>
                                          <a:s r="6290">
                                             <a:s r="6289">
                                                <a:s r="6288">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6289">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6290">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6291">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6295">
                                       <a:s r="6294">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6295">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6300">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6300" locator="2762:3-2766:8" path="code" xsi:type="Property">
            <source localId="6299" locator="2762:3-2766:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6298" locator="2763:3-2765:64" xsi:type="Query">
                  <source localId="6279" locator="2763:3-2763:91" alias="P">
                     <expression localId="6278" locator="2763:3-2763:89" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2763:15-2763:88" name="Counselling on Non-Pharmacological Treatment for Relief of Leg Cramps" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6297" locator="2764:5-2765:64" xsi:type="And">
                     <operand localId="6287" locator="2764:11-2764:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6281" locator="2764:11-2764:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6286" locator="2764:23-2764:78" xsi:type="List">
                           <element localId="6282" locator="2764:25-2764:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6283" locator="2764:40-2764:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6284" locator="2764:55-2764:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6285" locator="2764:66-2764:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6296" locator="2765:11-2765:64" xsi:type="Equal">
                        <operand localId="6293" locator="2765:11-2765:49" xsi:type="Last">
                           <source localId="6292" locator="2765:16-2765:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6290" locator="2765:22-2765:42" path="reference" xsi:type="Property">
                                    <source localId="6289" locator="2765:22-2765:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6291" locator="2765:45-2765:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6295" locator="2765:53-2765:64" path="id" xsi:type="Property">
                              <source localId="6294" locator="2765:53-2765:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6322" locator="2774:1-2779:8" name="Reason counselling on non-pharmacological treatment for the relief of leg cramps was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6322">
               <a:s>/*
  @dataElement: ANC.B10.DE38 Reason counselling on non-pharmacological treatment for the relief of leg cramps was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the symptom &quot;Leg cramps&quot; was not done
*/
define &quot;Reason counselling on non-pharmacological treatment for the relief of leg cramps was not conducted&quot;:
  </a:s>
               <a:s r="6321">
                  <a:s r="6320">
                     <a:s r="6302">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6320">
                        <a:s>Only(
  </a:s>
                        <a:s r="6319">
                           <a:s>
                              <a:s r="6304">
                                 <a:s r="6303">
                                    <a:s r="6303">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Non-Pharmacological Treatment for Relief of Leg Cramps&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6318">
                              <a:s>where </a:s>
                              <a:s r="6318">
                                 <a:s r="6308">
                                    <a:s r="6306">
                                       <a:s r="6305">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6306">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6307">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6317">
                                    <a:s r="6314">
                                       <a:s>Last(</a:s>
                                       <a:s r="6313">
                                          <a:s>Split(</a:s>
                                          <a:s r="6311">
                                             <a:s r="6310">
                                                <a:s r="6309">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6310">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6311">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6312">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6316">
                                       <a:s r="6315">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6316">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6321">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6321" locator="2775:3-2779:8" path="code" xsi:type="Property">
            <source localId="6320" locator="2775:3-2779:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6319" locator="2776:3-2778:66" xsi:type="Query">
                  <source localId="6304" locator="2776:3-2776:93" alias="PND">
                     <expression localId="6303" locator="2776:3-2776:89" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2776:15-2776:88" name="Counselling on Non-Pharmacological Treatment for Relief of Leg Cramps" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6318" locator="2777:5-2778:66" xsi:type="And">
                     <operand localId="6308" locator="2777:11-2777:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6306" locator="2777:11-2777:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6307" locator="2777:24-2777:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6317" locator="2778:11-2778:66" xsi:type="Equal">
                        <operand localId="6314" locator="2778:11-2778:51" xsi:type="Last">
                           <source localId="6313" locator="2778:16-2778:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6311" locator="2778:22-2778:44" path="reference" xsi:type="Property">
                                    <source localId="6310" locator="2778:22-2778:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6312" locator="2778:47-2778:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6316" locator="2778:55-2778:66" path="id" xsi:type="Property">
                              <source localId="6315" locator="2778:55-2778:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6347" locator="2787:1-2792:8" name="Counselling conducted on use of magnesium and calcium to relieve leg cramps" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6347">
               <a:s>/*
  @dataElement: ANC.B10.DE41 Counselling conducted on use of magnesium and calcium to relieve leg cramps
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the repeat symptom &quot;Leg cramps&quot; was done
*/
define &quot;Counselling conducted on use of magnesium and calcium to relieve leg cramps&quot;:
  </a:s>
               <a:s r="6346">
                  <a:s r="6345">
                     <a:s r="6323">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6345">
                        <a:s>Only(
  </a:s>
                        <a:s r="6344">
                           <a:s>
                              <a:s r="6325">
                                 <a:s r="6324">
                                    <a:s r="6324">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Use of Magnesium-and Calcium to Relieve Leg Cramps&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6343">
                              <a:s>where </a:s>
                              <a:s r="6343">
                                 <a:s r="6333">
                                    <a:s r="6327">
                                       <a:s r="6326">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6327">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6332">
                                       <a:s>{ </a:s>
                                       <a:s r="6328">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6329">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6330">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6331">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6342">
                                    <a:s r="6339">
                                       <a:s>Last(</a:s>
                                       <a:s r="6338">
                                          <a:s>Split(</a:s>
                                          <a:s r="6336">
                                             <a:s r="6335">
                                                <a:s r="6334">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6335">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6336">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6337">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6341">
                                       <a:s r="6340">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6341">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6346">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6346" locator="2788:3-2792:8" path="code" xsi:type="Property">
            <source localId="6345" locator="2788:3-2792:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6344" locator="2789:3-2791:64" xsi:type="Query">
                  <source localId="6325" locator="2789:3-2789:87" alias="P">
                     <expression localId="6324" locator="2789:3-2789:85" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2789:15-2789:84" name="Counselling on Use of Magnesium-and Calcium to Relieve Leg Cramps" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6343" locator="2790:5-2791:64" xsi:type="And">
                     <operand localId="6333" locator="2790:11-2790:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6327" locator="2790:11-2790:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6332" locator="2790:23-2790:78" xsi:type="List">
                           <element localId="6328" locator="2790:25-2790:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6329" locator="2790:40-2790:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6330" locator="2790:55-2790:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6331" locator="2790:66-2790:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6342" locator="2791:11-2791:64" xsi:type="Equal">
                        <operand localId="6339" locator="2791:11-2791:49" xsi:type="Last">
                           <source localId="6338" locator="2791:16-2791:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6336" locator="2791:22-2791:42" path="reference" xsi:type="Property">
                                    <source localId="6335" locator="2791:22-2791:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6337" locator="2791:45-2791:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6341" locator="2791:53-2791:64" path="id" xsi:type="Property">
                              <source localId="6340" locator="2791:53-2791:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6368" locator="2800:1-2805:8" name="Reason counselling on use of magnesium and calcium to relieve leg cramps was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6368">
               <a:s>/*
  @dataElement: ANC.B10.DE42 Reason counselling on use of magnesium and calcium to relieve leg cramps was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the repeat symptom &quot;Leg cramps&quot; was not done
*/
define &quot;Reason counselling on use of magnesium and calcium to relieve leg cramps was not conducted&quot;:
  </a:s>
               <a:s r="6367">
                  <a:s r="6366">
                     <a:s r="6348">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6366">
                        <a:s>Only(
  </a:s>
                        <a:s r="6365">
                           <a:s>
                              <a:s r="6350">
                                 <a:s r="6349">
                                    <a:s r="6349">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Use of Magnesium-and Calcium to Relieve Leg Cramps&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6364">
                              <a:s>where </a:s>
                              <a:s r="6364">
                                 <a:s r="6354">
                                    <a:s r="6352">
                                       <a:s r="6351">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6352">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6353">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6363">
                                    <a:s r="6360">
                                       <a:s>Last(</a:s>
                                       <a:s r="6359">
                                          <a:s>Split(</a:s>
                                          <a:s r="6357">
                                             <a:s r="6356">
                                                <a:s r="6355">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6356">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6357">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6358">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6362">
                                       <a:s r="6361">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6362">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6367">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6367" locator="2801:3-2805:8" path="code" xsi:type="Property">
            <source localId="6366" locator="2801:3-2805:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6365" locator="2802:3-2804:66" xsi:type="Query">
                  <source localId="6350" locator="2802:3-2802:89" alias="PND">
                     <expression localId="6349" locator="2802:3-2802:85" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2802:15-2802:84" name="Counselling on Use of Magnesium-and Calcium to Relieve Leg Cramps" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6364" locator="2803:5-2804:66" xsi:type="And">
                     <operand localId="6354" locator="2803:11-2803:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6352" locator="2803:11-2803:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6353" locator="2803:24-2803:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6363" locator="2804:11-2804:66" xsi:type="Equal">
                        <operand localId="6360" locator="2804:11-2804:51" xsi:type="Last">
                           <source localId="6359" locator="2804:16-2804:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6357" locator="2804:22-2804:44" path="reference" xsi:type="Property">
                                    <source localId="6356" locator="2804:22-2804:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6358" locator="2804:47-2804:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6362" locator="2804:55-2804:66" path="id" xsi:type="Property">
                              <source localId="6361" locator="2804:55-2804:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6393" locator="2813:1-2818:8" name="Counselling conducted on dietary modifications to relieve constipation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6393">
               <a:s>/*
  @dataElement: ANC.B10.DE45 Counselling conducted on dietary modifications to relieve constipation
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the symptom &quot;Constipation&quot; was done
*/
define &quot;Counselling conducted on dietary modifications to relieve constipation&quot;:
  </a:s>
               <a:s r="6392">
                  <a:s r="6391">
                     <a:s r="6369">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6391">
                        <a:s>Only(
  </a:s>
                        <a:s r="6390">
                           <a:s>
                              <a:s r="6371">
                                 <a:s r="6370">
                                    <a:s r="6370">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Dietary Modifications to Relieve Constipation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6389">
                              <a:s>where </a:s>
                              <a:s r="6389">
                                 <a:s r="6379">
                                    <a:s r="6373">
                                       <a:s r="6372">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6373">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6378">
                                       <a:s>{ </a:s>
                                       <a:s r="6374">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6375">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6376">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6377">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6388">
                                    <a:s r="6385">
                                       <a:s>Last(</a:s>
                                       <a:s r="6384">
                                          <a:s>Split(</a:s>
                                          <a:s r="6382">
                                             <a:s r="6381">
                                                <a:s r="6380">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6381">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6382">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6383">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6387">
                                       <a:s r="6386">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6387">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6392">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6392" locator="2814:3-2818:8" path="code" xsi:type="Property">
            <source localId="6391" locator="2814:3-2818:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6390" locator="2815:3-2817:64" xsi:type="Query">
                  <source localId="6371" locator="2815:3-2815:82" alias="P">
                     <expression localId="6370" locator="2815:3-2815:80" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2815:15-2815:79" name="Counselling on Dietary Modifications to Relieve Constipation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6389" locator="2816:5-2817:64" xsi:type="And">
                     <operand localId="6379" locator="2816:11-2816:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6373" locator="2816:11-2816:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6378" locator="2816:23-2816:78" xsi:type="List">
                           <element localId="6374" locator="2816:25-2816:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6375" locator="2816:40-2816:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6376" locator="2816:55-2816:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6377" locator="2816:66-2816:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6388" locator="2817:11-2817:64" xsi:type="Equal">
                        <operand localId="6385" locator="2817:11-2817:49" xsi:type="Last">
                           <source localId="6384" locator="2817:16-2817:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6382" locator="2817:22-2817:42" path="reference" xsi:type="Property">
                                    <source localId="6381" locator="2817:22-2817:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6383" locator="2817:45-2817:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6387" locator="2817:53-2817:64" path="id" xsi:type="Property">
                              <source localId="6386" locator="2817:53-2817:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6414" locator="2826:1-2831:8" name="Reason counselling on dietary modifications to relieve constipation was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6414">
               <a:s>/*
  @dataElement: ANC.B10.DE46 Reason counselling on dietary modifications to relieve constipation was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the symptom &quot;Constipation&quot; was not done
*/
define &quot;Reason counselling on dietary modifications to relieve constipation was not conducted&quot;:
  </a:s>
               <a:s r="6413">
                  <a:s r="6412">
                     <a:s r="6394">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6412">
                        <a:s>Only(
  </a:s>
                        <a:s r="6411">
                           <a:s>
                              <a:s r="6396">
                                 <a:s r="6395">
                                    <a:s r="6395">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Dietary Modifications to Relieve Constipation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6410">
                              <a:s>where </a:s>
                              <a:s r="6410">
                                 <a:s r="6400">
                                    <a:s r="6398">
                                       <a:s r="6397">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6398">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6399">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6409">
                                    <a:s r="6406">
                                       <a:s>Last(</a:s>
                                       <a:s r="6405">
                                          <a:s>Split(</a:s>
                                          <a:s r="6403">
                                             <a:s r="6402">
                                                <a:s r="6401">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6402">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6403">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6404">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6408">
                                       <a:s r="6407">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6408">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6413">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6413" locator="2827:3-2831:8" path="code" xsi:type="Property">
            <source localId="6412" locator="2827:3-2831:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6411" locator="2828:3-2830:66" xsi:type="Query">
                  <source localId="6396" locator="2828:3-2828:84" alias="PND">
                     <expression localId="6395" locator="2828:3-2828:80" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2828:15-2828:79" name="Counselling on Dietary Modifications to Relieve Constipation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6410" locator="2829:5-2830:66" xsi:type="And">
                     <operand localId="6400" locator="2829:11-2829:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6398" locator="2829:11-2829:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6399" locator="2829:24-2829:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6409" locator="2830:11-2830:66" xsi:type="Equal">
                        <operand localId="6406" locator="2830:11-2830:51" xsi:type="Last">
                           <source localId="6405" locator="2830:16-2830:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6403" locator="2830:22-2830:44" path="reference" xsi:type="Property">
                                    <source localId="6402" locator="2830:22-2830:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6404" locator="2830:47-2830:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6408" locator="2830:55-2830:66" path="id" xsi:type="Property">
                              <source localId="6407" locator="2830:55-2830:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6439" locator="2839:1-2844:8" name="Counselling conducted on use of wheat bran or other fibre supplements to relieve constipation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6439">
               <a:s>/*
  @dataElement: ANC.B10.DE49 Counselling conducted on use of wheat bran or other fibre supplements to relieve constipation
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the repeat symptom &quot;Constipation&quot; was done
*/
define &quot;Counselling conducted on use of wheat bran or other fibre supplements to relieve constipation&quot;:
  </a:s>
               <a:s r="6438">
                  <a:s r="6437">
                     <a:s r="6415">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6437">
                        <a:s>Only(
  </a:s>
                        <a:s r="6436">
                           <a:s>
                              <a:s r="6417">
                                 <a:s r="6416">
                                    <a:s r="6416">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Use of Wheat Bran or Other Fibre Supplements to Relieve Constipation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6435">
                              <a:s>where </a:s>
                              <a:s r="6435">
                                 <a:s r="6425">
                                    <a:s r="6419">
                                       <a:s r="6418">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6419">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6424">
                                       <a:s>{ </a:s>
                                       <a:s r="6420">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6421">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6422">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6423">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6434">
                                    <a:s r="6431">
                                       <a:s>Last(</a:s>
                                       <a:s r="6430">
                                          <a:s>Split(</a:s>
                                          <a:s r="6428">
                                             <a:s r="6427">
                                                <a:s r="6426">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6427">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6428">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6429">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6433">
                                       <a:s r="6432">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6433">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6438">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6438" locator="2840:3-2844:8" path="code" xsi:type="Property">
            <source localId="6437" locator="2840:3-2844:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6436" locator="2841:3-2843:64" xsi:type="Query">
                  <source localId="6417" locator="2841:3-2841:105" alias="P">
                     <expression localId="6416" locator="2841:3-2841:103" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2841:15-2841:102" name="Counselling on Use of Wheat Bran or Other Fibre Supplements to Relieve Constipation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6435" locator="2842:5-2843:64" xsi:type="And">
                     <operand localId="6425" locator="2842:11-2842:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6419" locator="2842:11-2842:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6424" locator="2842:23-2842:78" xsi:type="List">
                           <element localId="6420" locator="2842:25-2842:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6421" locator="2842:40-2842:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6422" locator="2842:55-2842:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6423" locator="2842:66-2842:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6434" locator="2843:11-2843:64" xsi:type="Equal">
                        <operand localId="6431" locator="2843:11-2843:49" xsi:type="Last">
                           <source localId="6430" locator="2843:16-2843:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6428" locator="2843:22-2843:42" path="reference" xsi:type="Property">
                                    <source localId="6427" locator="2843:22-2843:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6429" locator="2843:45-2843:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6433" locator="2843:53-2843:64" path="id" xsi:type="Property">
                              <source localId="6432" locator="2843:53-2843:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6460" locator="2852:1-2857:8" name="Reason counselling on use of wheat bran or other fibre supplements to relieve constipation was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6460">
               <a:s>/*
  @dataElement: ANC.B10.DE50 Reason counselling on use of wheat bran or other fibre supplements to relieve constipation was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the repeat symptom &quot;Constipation&quot; was not done
*/
define &quot;Reason counselling on use of wheat bran or other fibre supplements to relieve constipation was not conducted&quot;:
  </a:s>
               <a:s r="6459">
                  <a:s r="6458">
                     <a:s r="6440">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6458">
                        <a:s>Only(
  </a:s>
                        <a:s r="6457">
                           <a:s>
                              <a:s r="6442">
                                 <a:s r="6441">
                                    <a:s r="6441">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Use of Wheat Bran or Other Fibre Supplements to Relieve Constipation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6456">
                              <a:s>where </a:s>
                              <a:s r="6456">
                                 <a:s r="6446">
                                    <a:s r="6444">
                                       <a:s r="6443">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6444">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6445">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6455">
                                    <a:s r="6452">
                                       <a:s>Last(</a:s>
                                       <a:s r="6451">
                                          <a:s>Split(</a:s>
                                          <a:s r="6449">
                                             <a:s r="6448">
                                                <a:s r="6447">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6448">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6449">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6450">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6454">
                                       <a:s r="6453">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6454">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6459">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6459" locator="2853:3-2857:8" path="code" xsi:type="Property">
            <source localId="6458" locator="2853:3-2857:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6457" locator="2854:3-2856:66" xsi:type="Query">
                  <source localId="6442" locator="2854:3-2854:107" alias="PND">
                     <expression localId="6441" locator="2854:3-2854:103" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2854:15-2854:102" name="Counselling on Use of Wheat Bran or Other Fibre Supplements to Relieve Constipation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6456" locator="2855:5-2856:66" xsi:type="And">
                     <operand localId="6446" locator="2855:11-2855:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6444" locator="2855:11-2855:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6445" locator="2855:24-2855:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6455" locator="2856:11-2856:66" xsi:type="Equal">
                        <operand localId="6452" locator="2856:11-2856:51" xsi:type="Last">
                           <source localId="6451" locator="2856:16-2856:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6449" locator="2856:22-2856:44" path="reference" xsi:type="Property">
                                    <source localId="6448" locator="2856:22-2856:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6450" locator="2856:47-2856:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6454" locator="2856:55-2856:66" path="id" xsi:type="Property">
                              <source localId="6453" locator="2856:55-2856:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6485" locator="2865:1-2870:8" name="Counselling conducted on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6485">
               <a:s>/*
  @dataElement: ANC.B10.DE53 Counselling conducted on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the symptom &quot;low back and pelvic pain&quot; was done
*/
define &quot;Counselling conducted on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain&quot;:
  </a:s>
               <a:s r="6484">
                  <a:s r="6483">
                     <a:s r="6461">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6483">
                        <a:s>Only(
  </a:s>
                        <a:s r="6482">
                           <a:s>
                              <a:s r="6463">
                                 <a:s r="6462">
                                    <a:s r="6462">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Regular Exercise Physiotherapy Support Belts and Acupuncture to Relieve Low Back and Pelvic Pain&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6481">
                              <a:s>where </a:s>
                              <a:s r="6481">
                                 <a:s r="6471">
                                    <a:s r="6465">
                                       <a:s r="6464">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6465">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6470">
                                       <a:s>{ </a:s>
                                       <a:s r="6466">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6467">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6468">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6469">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6480">
                                    <a:s r="6477">
                                       <a:s>Last(</a:s>
                                       <a:s r="6476">
                                          <a:s>Split(</a:s>
                                          <a:s r="6474">
                                             <a:s r="6473">
                                                <a:s r="6472">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6473">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6474">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6475">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6479">
                                       <a:s r="6478">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6479">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6484">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6484" locator="2866:3-2870:8" path="code" xsi:type="Property">
            <source localId="6483" locator="2866:3-2870:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6482" locator="2867:3-2869:64" xsi:type="Query">
                  <source localId="6463" locator="2867:3-2867:133" alias="P">
                     <expression localId="6462" locator="2867:3-2867:131" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2867:15-2867:130" name="Counselling on Regular Exercise Physiotherapy Support Belts and Acupuncture to Relieve Low Back and Pelvic Pain" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6481" locator="2868:5-2869:64" xsi:type="And">
                     <operand localId="6471" locator="2868:11-2868:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6465" locator="2868:11-2868:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6470" locator="2868:23-2868:78" xsi:type="List">
                           <element localId="6466" locator="2868:25-2868:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6467" locator="2868:40-2868:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6468" locator="2868:55-2868:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6469" locator="2868:66-2868:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6480" locator="2869:11-2869:64" xsi:type="Equal">
                        <operand localId="6477" locator="2869:11-2869:49" xsi:type="Last">
                           <source localId="6476" locator="2869:16-2869:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6474" locator="2869:22-2869:42" path="reference" xsi:type="Property">
                                    <source localId="6473" locator="2869:22-2869:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6475" locator="2869:45-2869:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6479" locator="2869:53-2869:64" path="id" xsi:type="Property">
                              <source localId="6478" locator="2869:53-2869:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6506" locator="2878:1-2883:8" name="Reason counselling on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6506">
               <a:s>/*
  @dataElement: ANC.B10.DE54 Reason counselling on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the symptom &quot;low back and pelvic pain&quot; was not done
*/
define &quot;Reason counselling on regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain was not conducted&quot;:
  </a:s>
               <a:s r="6505">
                  <a:s r="6504">
                     <a:s r="6486">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6504">
                        <a:s>Only(
  </a:s>
                        <a:s r="6503">
                           <a:s>
                              <a:s r="6488">
                                 <a:s r="6487">
                                    <a:s r="6487">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Regular Exercise Physiotherapy Support Belts and Acupuncture to Relieve Low Back and Pelvic Pain&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6502">
                              <a:s>where </a:s>
                              <a:s r="6502">
                                 <a:s r="6492">
                                    <a:s r="6490">
                                       <a:s r="6489">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6490">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6491">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6501">
                                    <a:s r="6498">
                                       <a:s>Last(</a:s>
                                       <a:s r="6497">
                                          <a:s>Split(</a:s>
                                          <a:s r="6495">
                                             <a:s r="6494">
                                                <a:s r="6493">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6494">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6495">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6496">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6500">
                                       <a:s r="6499">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6500">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6505">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6505" locator="2879:3-2883:8" path="code" xsi:type="Property">
            <source localId="6504" locator="2879:3-2883:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6503" locator="2880:3-2882:66" xsi:type="Query">
                  <source localId="6488" locator="2880:3-2880:135" alias="PND">
                     <expression localId="6487" locator="2880:3-2880:131" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2880:15-2880:130" name="Counselling on Regular Exercise Physiotherapy Support Belts and Acupuncture to Relieve Low Back and Pelvic Pain" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6502" locator="2881:5-2882:66" xsi:type="And">
                     <operand localId="6492" locator="2881:11-2881:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6490" locator="2881:11-2881:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6491" locator="2881:24-2881:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6501" locator="2882:11-2882:66" xsi:type="Equal">
                        <operand localId="6498" locator="2882:11-2882:51" xsi:type="Last">
                           <source localId="6497" locator="2882:16-2882:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6495" locator="2882:22-2882:44" path="reference" xsi:type="Property">
                                    <source localId="6494" locator="2882:22-2882:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6496" locator="2882:47-2882:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6500" locator="2882:55-2882:66" path="id" xsi:type="Property">
                              <source localId="6499" locator="2882:55-2882:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6528" locator="2891:1-2894:64" name="Counselling conducted on non-pharmacological options for varicose veins and oedema" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6528">
               <a:s>/*
  @dataElement: ANC.B10.DE57 Counselling conducted on non-pharmacological options for varicose veins and oedema
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Whether or not counselling for the symptom &quot;Varicose veins or oedema&quot; was done
*/
define &quot;Counselling conducted on non-pharmacological options for varicose veins and oedema&quot;:
  </a:s>
               <a:s r="6527">
                  <a:s>
                     <a:s r="6508">
                        <a:s r="6507">
                           <a:s r="6507">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Non-Pharmacological Options for Varicose Veins and Oedema&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6526">
                     <a:s>where </a:s>
                     <a:s r="6526">
                        <a:s r="6516">
                           <a:s r="6510">
                              <a:s r="6509">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6510">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="6515">
                              <a:s>{ </a:s>
                              <a:s r="6511">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="6512">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="6513">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="6514">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6525">
                           <a:s r="6522">
                              <a:s>Last(</a:s>
                              <a:s r="6521">
                                 <a:s>Split(</a:s>
                                 <a:s r="6519">
                                    <a:s r="6518">
                                       <a:s r="6517">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6518">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6519">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6520">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6524">
                              <a:s r="6523">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6524">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6527" locator="2892:3-2894:64" xsi:type="Query">
            <source localId="6508" locator="2892:3-2892:94" alias="P">
               <expression localId="6507" locator="2892:3-2892:92" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2892:15-2892:91" name="Counselling on Non-Pharmacological Options for Varicose Veins and Oedema" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6526" locator="2893:5-2894:64" xsi:type="And">
               <operand localId="6516" locator="2893:11-2893:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6510" locator="2893:11-2893:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="6515" locator="2893:23-2893:78" xsi:type="List">
                     <element localId="6511" locator="2893:25-2893:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="6512" locator="2893:40-2893:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="6513" locator="2893:55-2893:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="6514" locator="2893:66-2893:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="6525" locator="2894:11-2894:64" xsi:type="Equal">
                  <operand localId="6522" locator="2894:11-2894:49" xsi:type="Last">
                     <source localId="6521" locator="2894:16-2894:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6519" locator="2894:22-2894:42" path="reference" xsi:type="Property">
                              <source localId="6518" locator="2894:22-2894:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6520" locator="2894:45-2894:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6524" locator="2894:53-2894:64" path="id" xsi:type="Property">
                        <source localId="6523" locator="2894:53-2894:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="6549" locator="2902:1-2907:8" name="Reason counselling on non-pharmacological options for varicose veins and oedema was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6549">
               <a:s>/*
  @dataElement: ANC.B10.DE58 Reason counselling on non-pharmacological options for varicose veins and oedema was not conducted
  @activity: ANC.B10.2 Physiological symptoms counselling
  @description: Select the reason why counselling for the symptom &quot;Varicose veins or oedema&quot; was not done
*/
define &quot;Reason counselling on non-pharmacological options for varicose veins and oedema was not conducted&quot;:
  </a:s>
               <a:s r="6548">
                  <a:s r="6547">
                     <a:s r="6529">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6547">
                        <a:s>Only(
  </a:s>
                        <a:s r="6546">
                           <a:s>
                              <a:s r="6531">
                                 <a:s r="6530">
                                    <a:s r="6530">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Non-Pharmacological Options for Varicose Veins and Oedema&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6545">
                              <a:s>where </a:s>
                              <a:s r="6545">
                                 <a:s r="6535">
                                    <a:s r="6533">
                                       <a:s r="6532">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6533">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6534">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6544">
                                    <a:s r="6541">
                                       <a:s>Last(</a:s>
                                       <a:s r="6540">
                                          <a:s>Split(</a:s>
                                          <a:s r="6538">
                                             <a:s r="6537">
                                                <a:s r="6536">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6537">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6538">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6539">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6543">
                                       <a:s r="6542">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6543">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6548">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6548" locator="2903:3-2907:8" path="code" xsi:type="Property">
            <source localId="6547" locator="2903:3-2907:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6546" locator="2904:3-2906:66" xsi:type="Query">
                  <source localId="6531" locator="2904:3-2904:96" alias="PND">
                     <expression localId="6530" locator="2904:3-2904:92" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2904:15-2904:91" name="Counselling on Non-Pharmacological Options for Varicose Veins and Oedema" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6545" locator="2905:5-2906:66" xsi:type="And">
                     <operand localId="6535" locator="2905:11-2905:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6533" locator="2905:11-2905:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6534" locator="2905:24-2905:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6544" locator="2906:11-2906:66" xsi:type="Equal">
                        <operand localId="6541" locator="2906:11-2906:51" xsi:type="Last">
                           <source localId="6540" locator="2906:16-2906:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6538" locator="2906:22-2906:44" path="reference" xsi:type="Property">
                                    <source localId="6537" locator="2906:22-2906:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6539" locator="2906:47-2906:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6543" locator="2906:55-2906:66" path="id" xsi:type="Property">
                              <source localId="6542" locator="2906:55-2906:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6574" locator="2915:1-2920:8" name="Counselling conducted on healthy eating and keeping physically active" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6574">
               <a:s>/*
  @dataElement: ANC.B10.DE61 Counselling conducted on healthy eating and keeping physically active
  @activity: ANC.B10.3 Diet counselling
  @description: Whether or not counselling was done on healthy eating and keeping physically active during pregnancy
*/
define &quot;Counselling conducted on healthy eating and keeping physically active&quot;:
  </a:s>
               <a:s r="6573">
                  <a:s r="6572">
                     <a:s r="6550">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6572">
                        <a:s>Only(
  </a:s>
                        <a:s r="6571">
                           <a:s>
                              <a:s r="6552">
                                 <a:s r="6551">
                                    <a:s r="6551">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Healthy Eating and Keeping Physically Active&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6570">
                              <a:s>where </a:s>
                              <a:s r="6570">
                                 <a:s r="6560">
                                    <a:s r="6554">
                                       <a:s r="6553">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6554">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6559">
                                       <a:s>{ </a:s>
                                       <a:s r="6555">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6556">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6557">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6558">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6569">
                                    <a:s r="6566">
                                       <a:s>Last(</a:s>
                                       <a:s r="6565">
                                          <a:s>Split(</a:s>
                                          <a:s r="6563">
                                             <a:s r="6562">
                                                <a:s r="6561">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6562">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6563">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6564">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6568">
                                       <a:s r="6567">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6568">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6573">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6573" locator="2916:3-2920:8" path="code" xsi:type="Property">
            <source localId="6572" locator="2916:3-2920:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6571" locator="2917:3-2919:64" xsi:type="Query">
                  <source localId="6552" locator="2917:3-2917:81" alias="P">
                     <expression localId="6551" locator="2917:3-2917:79" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2917:15-2917:78" name="Counselling on Healthy Eating and Keeping Physically Active" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6570" locator="2918:5-2919:64" xsi:type="And">
                     <operand localId="6560" locator="2918:11-2918:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6554" locator="2918:11-2918:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6559" locator="2918:23-2918:78" xsi:type="List">
                           <element localId="6555" locator="2918:25-2918:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6556" locator="2918:40-2918:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6557" locator="2918:55-2918:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6558" locator="2918:66-2918:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6569" locator="2919:11-2919:64" xsi:type="Equal">
                        <operand localId="6566" locator="2919:11-2919:49" xsi:type="Last">
                           <source localId="6565" locator="2919:16-2919:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6563" locator="2919:22-2919:42" path="reference" xsi:type="Property">
                                    <source localId="6562" locator="2919:22-2919:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6564" locator="2919:45-2919:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6568" locator="2919:53-2919:64" path="id" xsi:type="Property">
                              <source localId="6567" locator="2919:53-2919:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6595" locator="2928:1-2932:19" name="Reason counselling on healthy eating and keeping physically active was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6595">
               <a:s>/*
  @dataElement: ANC.B10.DE62 Reason counselling on healthy eating and keeping physically active was not conducted
  @activity: ANC.B10.3 Diet counselling
  @description: Select the reason why counselling on healthy eating and exercise during pregnancy was not done
*/
define &quot;Reason counselling on healthy eating and keeping physically active was not conducted&quot;:
  </a:s>
               <a:s r="6594">
                  <a:s>
                     <a:s r="6576">
                        <a:s r="6575">
                           <a:s r="6575">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Healthy Eating and Keeping Physically Active&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6590">
                     <a:s>where </a:s>
                     <a:s r="6590">
                        <a:s r="6580">
                           <a:s r="6578">
                              <a:s r="6577">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6578">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6579">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6589">
                           <a:s r="6586">
                              <a:s>Last(</a:s>
                              <a:s r="6585">
                                 <a:s>Split(</a:s>
                                 <a:s r="6583">
                                    <a:s r="6582">
                                       <a:s r="6581">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6582">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6583">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6584">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6588">
                              <a:s r="6587">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6588">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6593">
                     <a:s>return </a:s>
                     <a:s r="6592">
                        <a:s r="6591">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="6592">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6594" locator="2929:3-2932:19" xsi:type="Query">
            <source localId="6576" locator="2929:3-2929:83" alias="PND">
               <expression localId="6575" locator="2929:3-2929:79" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2929:15-2929:78" name="Counselling on Healthy Eating and Keeping Physically Active" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6590" locator="2930:5-2931:66" xsi:type="And">
               <operand localId="6580" locator="2930:11-2930:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6578" locator="2930:11-2930:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="6579" locator="2930:24-2930:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="6589" locator="2931:11-2931:66" xsi:type="Equal">
                  <operand localId="6586" locator="2931:11-2931:51" xsi:type="Last">
                     <source localId="6585" locator="2931:16-2931:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6583" locator="2931:22-2931:44" path="reference" xsi:type="Property">
                              <source localId="6582" locator="2931:22-2931:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6584" locator="2931:47-2931:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6588" locator="2931:55-2931:66" path="id" xsi:type="Property">
                        <source localId="6587" locator="2931:55-2931:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="6593" locator="2932:5-2932:19">
               <expression localId="6592" locator="2932:12-2932:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6620" locator="2940:1-2945:8" name="Counselling conducted on increasing daily energy and protein intake" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6620">
               <a:s>/*
  @dataElement: ANC.B10.DE65 Counselling conducted on increasing daily energy and protein intake
  @activity: ANC.B10.3 Diet counselling
  @description: Whether or not counselling was done on increasing energy and protein intake
*/
define &quot;Counselling conducted on increasing daily energy and protein intake&quot;:
  </a:s>
               <a:s r="6619">
                  <a:s r="6618">
                     <a:s r="6596">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6618">
                        <a:s>Only(
  </a:s>
                        <a:s r="6617">
                           <a:s>
                              <a:s r="6598">
                                 <a:s r="6597">
                                    <a:s r="6597">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Increasing Daily Energy Protein Intake&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6616">
                              <a:s>where </a:s>
                              <a:s r="6616">
                                 <a:s r="6606">
                                    <a:s r="6600">
                                       <a:s r="6599">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6600">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6605">
                                       <a:s>{ </a:s>
                                       <a:s r="6601">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6602">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6603">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6604">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6615">
                                    <a:s r="6612">
                                       <a:s>Last(</a:s>
                                       <a:s r="6611">
                                          <a:s>Split(</a:s>
                                          <a:s r="6609">
                                             <a:s r="6608">
                                                <a:s r="6607">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6608">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6609">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6610">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6614">
                                       <a:s r="6613">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6614">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6619">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6619" locator="2941:3-2945:8" path="code" xsi:type="Property">
            <source localId="6618" locator="2941:3-2945:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6617" locator="2942:3-2944:64" xsi:type="Query">
                  <source localId="6598" locator="2942:3-2942:75" alias="P">
                     <expression localId="6597" locator="2942:3-2942:73" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2942:15-2942:72" name="Counselling on Increasing Daily Energy Protein Intake" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6616" locator="2943:5-2944:64" xsi:type="And">
                     <operand localId="6606" locator="2943:11-2943:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6600" locator="2943:11-2943:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6605" locator="2943:23-2943:78" xsi:type="List">
                           <element localId="6601" locator="2943:25-2943:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6602" locator="2943:40-2943:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6603" locator="2943:55-2943:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6604" locator="2943:66-2943:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6615" locator="2944:11-2944:64" xsi:type="Equal">
                        <operand localId="6612" locator="2944:11-2944:49" xsi:type="Last">
                           <source localId="6611" locator="2944:16-2944:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6609" locator="2944:22-2944:42" path="reference" xsi:type="Property">
                                    <source localId="6608" locator="2944:22-2944:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6610" locator="2944:45-2944:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6614" locator="2944:53-2944:64" path="id" xsi:type="Property">
                              <source localId="6613" locator="2944:53-2944:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6641" locator="2953:1-2957:19" name="Reason counselling on increasing daily energy and protein intake was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6641">
               <a:s>/*
  @dataElement: ANC.B10.DE66 Reason counselling on increasing daily energy and protein intake was not conducted
  @activity: ANC.B10.3 Diet counselling
  @description: Select the reason why counselling on increasing daily energy intake was not done
*/
define &quot;Reason counselling on increasing daily energy and protein intake was not conducted&quot;:
  </a:s>
               <a:s r="6640">
                  <a:s>
                     <a:s r="6622">
                        <a:s r="6621">
                           <a:s r="6621">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Increasing Daily Energy Protein Intake&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6636">
                     <a:s>where </a:s>
                     <a:s r="6636">
                        <a:s r="6626">
                           <a:s r="6624">
                              <a:s r="6623">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6624">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6625">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6635">
                           <a:s r="6632">
                              <a:s>Last(</a:s>
                              <a:s r="6631">
                                 <a:s>Split(</a:s>
                                 <a:s r="6629">
                                    <a:s r="6628">
                                       <a:s r="6627">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6628">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6629">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6630">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6634">
                              <a:s r="6633">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6634">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6639">
                     <a:s>return </a:s>
                     <a:s r="6638">
                        <a:s r="6637">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="6638">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6640" locator="2954:3-2957:19" xsi:type="Query">
            <source localId="6622" locator="2954:3-2954:77" alias="PND">
               <expression localId="6621" locator="2954:3-2954:73" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2954:15-2954:72" name="Counselling on Increasing Daily Energy Protein Intake" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6636" locator="2955:5-2956:66" xsi:type="And">
               <operand localId="6626" locator="2955:11-2955:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6624" locator="2955:11-2955:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="6625" locator="2955:24-2955:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="6635" locator="2956:11-2956:66" xsi:type="Equal">
                  <operand localId="6632" locator="2956:11-2956:51" xsi:type="Last">
                     <source localId="6631" locator="2956:16-2956:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6629" locator="2956:22-2956:44" path="reference" xsi:type="Property">
                              <source localId="6628" locator="2956:22-2956:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6630" locator="2956:47-2956:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6634" locator="2956:55-2956:66" path="id" xsi:type="Property">
                        <source localId="6633" locator="2956:55-2956:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="6639" locator="2957:5-2957:19">
               <expression localId="6638" locator="2957:12-2957:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6666" locator="2965:1-2970:8" name="Counselling conducted on balanced energy and protein dietary supplementation" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6666">
               <a:s>/*
  @dataElement: ANC.B10.DE69 Counselling conducted on balanced energy and protein dietary supplementation
  @activity: ANC.B10.3 Diet counselling
  @description: Whether or not counselling was done on balanced energy and protein dietary supplementation
*/
define &quot;Counselling conducted on balanced energy and protein dietary supplementation&quot;:
  </a:s>
               <a:s r="6665">
                  <a:s r="6664">
                     <a:s r="6642">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6664">
                        <a:s>Only(
  </a:s>
                        <a:s r="6663">
                           <a:s>
                              <a:s r="6644">
                                 <a:s r="6643">
                                    <a:s r="6643">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on Balanced Energy and Protein Dietary Supplementation&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6662">
                              <a:s>where </a:s>
                              <a:s r="6662">
                                 <a:s r="6652">
                                    <a:s r="6646">
                                       <a:s r="6645">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6646">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6651">
                                       <a:s>{ </a:s>
                                       <a:s r="6647">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6648">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6649">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6650">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6661">
                                    <a:s r="6658">
                                       <a:s>Last(</a:s>
                                       <a:s r="6657">
                                          <a:s>Split(</a:s>
                                          <a:s r="6655">
                                             <a:s r="6654">
                                                <a:s r="6653">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6654">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6655">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6656">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6660">
                                       <a:s r="6659">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6660">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6665">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6665" locator="2966:3-2970:8" path="code" xsi:type="Property">
            <source localId="6664" locator="2966:3-2970:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6663" locator="2967:3-2969:64" xsi:type="Query">
                  <source localId="6644" locator="2967:3-2967:88" alias="P">
                     <expression localId="6643" locator="2967:3-2967:86" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2967:15-2967:85" name="Counselling on Balanced Energy and Protein Dietary Supplementation" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6662" locator="2968:5-2969:64" xsi:type="And">
                     <operand localId="6652" locator="2968:11-2968:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6646" locator="2968:11-2968:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6651" locator="2968:23-2968:78" xsi:type="List">
                           <element localId="6647" locator="2968:25-2968:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6648" locator="2968:40-2968:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6649" locator="2968:55-2968:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6650" locator="2968:66-2968:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6661" locator="2969:11-2969:64" xsi:type="Equal">
                        <operand localId="6658" locator="2969:11-2969:49" xsi:type="Last">
                           <source localId="6657" locator="2969:16-2969:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6655" locator="2969:22-2969:42" path="reference" xsi:type="Property">
                                    <source localId="6654" locator="2969:22-2969:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6656" locator="2969:45-2969:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6660" locator="2969:53-2969:64" path="id" xsi:type="Property">
                              <source localId="6659" locator="2969:53-2969:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6687" locator="2978:1-2982:19" name="Reason counselling on balanced energy and protein dietary supplementation was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6687">
               <a:s>/*
  @dataElement: ANC.B10.DE70 Reason counselling on balanced energy and protein dietary supplementation was not conducted
  @activity: ANC.B10.3 Diet counselling
  @description: Select the reason why counselling on balanced energy and protein intake was not done
*/
define &quot;Reason counselling on balanced energy and protein dietary supplementation was not conducted&quot;:
  </a:s>
               <a:s r="6686">
                  <a:s>
                     <a:s r="6668">
                        <a:s r="6667">
                           <a:s r="6667">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling on Balanced Energy and Protein Dietary Supplementation&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> PND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6682">
                     <a:s>where </a:s>
                     <a:s r="6682">
                        <a:s r="6672">
                           <a:s r="6670">
                              <a:s r="6669">
                                 <a:s>PND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6670">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6671">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="6681">
                           <a:s r="6678">
                              <a:s>Last(</a:s>
                              <a:s r="6677">
                                 <a:s>Split(</a:s>
                                 <a:s r="6675">
                                    <a:s r="6674">
                                       <a:s r="6673">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6674">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="6675">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="6676">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="6680">
                              <a:s r="6679">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="6680">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="6685">
                     <a:s>return </a:s>
                     <a:s r="6684">
                        <a:s r="6683">
                           <a:s>PND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="6684">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6686" locator="2979:3-2982:19" xsi:type="Query">
            <source localId="6668" locator="2979:3-2979:90" alias="PND">
               <expression localId="6667" locator="2979:3-2979:86" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="2979:15-2979:85" name="Counselling on Balanced Energy and Protein Dietary Supplementation" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="6682" locator="2980:5-2981:66" xsi:type="And">
               <operand localId="6672" locator="2980:11-2980:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6670" locator="2980:11-2980:20" path="status" scope="PND" xsi:type="Property"/>
                  </operand>
                  <operand localId="6671" locator="2980:24-2980:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="6681" locator="2981:11-2981:66" xsi:type="Equal">
                  <operand localId="6678" locator="2981:11-2981:51" xsi:type="Last">
                     <source localId="6677" locator="2981:16-2981:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6675" locator="2981:22-2981:44" path="reference" xsi:type="Property">
                              <source localId="6674" locator="2981:22-2981:34" path="encounter" scope="PND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="6676" locator="2981:47-2981:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="6680" locator="2981:55-2981:66" path="id" xsi:type="Property">
                        <source localId="6679" locator="2981:55-2981:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="6685" locator="2982:5-2982:19">
               <expression localId="6684" locator="2982:12-2982:19" path="code" scope="PND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="6715" locator="2990:1-2996:8" name="Hypertension" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6715">
               <a:s>/*
  @dataElement: ANC.B10.DE73 Hypertension
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether the client has developed hypertension associated with pregnancy
*/
define &quot;Hypertension&quot;:
  </a:s>
               <a:s r="6714">
                  <a:s r="6713">
                     <a:s r="6688">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6713">
                        <a:s>Only(
  </a:s>
                        <a:s r="6712">
                           <a:s>
                              <a:s r="6690">
                                 <a:s r="6689">
                                    <a:s r="6689">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hypertension&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6711">
                              <a:s>where </a:s>
                              <a:s r="6711">
                                 <a:s r="6701">
                                    <a:s r="6695">
                                       <a:s r="6692">
                                          <a:s r="6691">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6692">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="6694">
                                          <a:s r="6693">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6694">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="6700">
                                       <a:s r="6697">
                                          <a:s r="6696">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6697">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="6699">
                                          <a:s r="6698">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6699">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6710">
                                    <a:s r="6707">
                                       <a:s>Last(</a:s>
                                       <a:s r="6706">
                                          <a:s>Split(</a:s>
                                          <a:s r="6704">
                                             <a:s r="6703">
                                                <a:s r="6702">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6703">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6704">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6705">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6709">
                                       <a:s r="6708">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6709">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6714">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6714" locator="2991:3-2996:8" path="code" xsi:type="Property">
            <source localId="6713" locator="2991:3-2996:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6712" locator="2992:3-2995:64" xsi:type="Query">
                  <source localId="6690" locator="2992:3-2992:34" alias="C">
                     <expression localId="6689" locator="2992:3-2992:32" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="2992:15-2992:31" name="Hypertension" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6711" locator="2993:5-2995:64" xsi:type="And">
                     <operand localId="6701" locator="2993:11-2994:47" xsi:type="And">
                        <operand localId="6695" locator="2993:11-2993:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6692" locator="2993:11-2993:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="6694" locator="2993:31-2993:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="6700" locator="2994:11-2994:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6697" locator="2994:11-2994:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="6699" locator="2994:34-2994:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="6710" locator="2995:11-2995:64" xsi:type="Equal">
                        <operand localId="6707" locator="2995:11-2995:49" xsi:type="Last">
                           <source localId="6706" locator="2995:16-2995:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6704" locator="2995:22-2995:42" path="reference" xsi:type="Property">
                                    <source localId="6703" locator="2995:22-2995:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6705" locator="2995:45-2995:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6709" locator="2995:53-2995:64" path="id" xsi:type="Property">
                              <source localId="6708" locator="2995:53-2995:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6743" locator="3004:1-3010:8" name="Severe hypertension" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6743">
               <a:s>/*
  @dataElement: ANC.B10.DE74 Severe hypertension
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether the client has developed severe hypertension associated with pregnancy, as defined in the decision logic (If SBP is 160 mmHg or higher and/or DBP is 110 mmHg or higher)
*/
define &quot;Severe hypertension&quot;:
  </a:s>
               <a:s r="6742">
                  <a:s r="6741">
                     <a:s r="6716">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6741">
                        <a:s>Only(
  </a:s>
                        <a:s r="6740">
                           <a:s>
                              <a:s r="6718">
                                 <a:s r="6717">
                                    <a:s r="6717">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Severe hypertension&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6739">
                              <a:s>where </a:s>
                              <a:s r="6739">
                                 <a:s r="6729">
                                    <a:s r="6723">
                                       <a:s r="6720">
                                          <a:s r="6719">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6720">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="6722">
                                          <a:s r="6721">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6722">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="6728">
                                       <a:s r="6725">
                                          <a:s r="6724">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6725">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="6727">
                                          <a:s r="6726">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6727">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6738">
                                    <a:s r="6735">
                                       <a:s>Last(</a:s>
                                       <a:s r="6734">
                                          <a:s>Split(</a:s>
                                          <a:s r="6732">
                                             <a:s r="6731">
                                                <a:s r="6730">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6731">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6732">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6733">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6737">
                                       <a:s r="6736">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6737">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6742">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6742" locator="3005:3-3010:8" path="code" xsi:type="Property">
            <source localId="6741" locator="3005:3-3010:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6740" locator="3006:3-3009:64" xsi:type="Query">
                  <source localId="6718" locator="3006:3-3006:41" alias="C">
                     <expression localId="6717" locator="3006:3-3006:39" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3006:15-3006:38" name="Severe hypertension" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6739" locator="3007:5-3009:64" xsi:type="And">
                     <operand localId="6729" locator="3007:11-3008:47" xsi:type="And">
                        <operand localId="6723" locator="3007:11-3007:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6720" locator="3007:11-3007:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="6722" locator="3007:31-3007:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="6728" locator="3008:11-3008:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6725" locator="3008:11-3008:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="6727" locator="3008:34-3008:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="6738" locator="3009:11-3009:64" xsi:type="Equal">
                        <operand localId="6735" locator="3009:11-3009:49" xsi:type="Last">
                           <source localId="6734" locator="3009:16-3009:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6732" locator="3009:22-3009:42" path="reference" xsi:type="Property">
                                    <source localId="6731" locator="3009:22-3009:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6733" locator="3009:45-3009:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6737" locator="3009:53-3009:64" path="id" xsi:type="Property">
                              <source localId="6736" locator="3009:53-3009:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6771" locator="3018:1-3024:8" name="Pre-eclampsia" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6771">
               <a:s>/*
  @dataElement: ANC.B10.DE75 Pre-eclampsia
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether the client has pre-eclampsia
*/
define &quot;Pre-eclampsia&quot;:
  </a:s>
               <a:s r="6770">
                  <a:s r="6769">
                     <a:s r="6744">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6769">
                        <a:s>Only(
  </a:s>
                        <a:s r="6768">
                           <a:s>
                              <a:s r="6746">
                                 <a:s r="6745">
                                    <a:s r="6745">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Pre-eclampsia&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6767">
                              <a:s>where </a:s>
                              <a:s r="6767">
                                 <a:s r="6757">
                                    <a:s r="6751">
                                       <a:s r="6748">
                                          <a:s r="6747">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6748">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="6750">
                                          <a:s r="6749">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6750">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="6756">
                                       <a:s r="6753">
                                          <a:s r="6752">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6753">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="6755">
                                          <a:s r="6754">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6755">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6766">
                                    <a:s r="6763">
                                       <a:s>Last(</a:s>
                                       <a:s r="6762">
                                          <a:s>Split(</a:s>
                                          <a:s r="6760">
                                             <a:s r="6759">
                                                <a:s r="6758">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6759">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6760">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6761">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6765">
                                       <a:s r="6764">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6765">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6770">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6770" locator="3019:3-3024:8" path="code" xsi:type="Property">
            <source localId="6769" locator="3019:3-3024:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6768" locator="3020:3-3023:64" xsi:type="Query">
                  <source localId="6746" locator="3020:3-3020:35" alias="C">
                     <expression localId="6745" locator="3020:3-3020:33" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3020:15-3020:32" name="Pre-eclampsia" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6767" locator="3021:5-3023:64" xsi:type="And">
                     <operand localId="6757" locator="3021:11-3022:47" xsi:type="And">
                        <operand localId="6751" locator="3021:11-3021:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6748" locator="3021:11-3021:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="6750" locator="3021:31-3021:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="6756" locator="3022:11-3022:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6753" locator="3022:11-3022:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="6755" locator="3022:34-3022:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="6766" locator="3023:11-3023:64" xsi:type="Equal">
                        <operand localId="6763" locator="3023:11-3023:49" xsi:type="Last">
                           <source localId="6762" locator="3023:16-3023:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6760" locator="3023:22-3023:42" path="reference" xsi:type="Property">
                                    <source localId="6759" locator="3023:22-3023:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6761" locator="3023:45-3023:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6765" locator="3023:53-3023:64" path="id" xsi:type="Property">
                              <source localId="6764" locator="3023:53-3023:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6799" locator="3032:1-3038:8" name="Severe pre-eclampsia" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6799">
               <a:s>/*
  @dataElement: ANC.B10.DE76 Severe pre-eclampsia
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether the client has severe pre-eclampsia as defined by decision logic and reported symptoms
*/
define &quot;Severe pre-eclampsia&quot;:
  </a:s>
               <a:s r="6798">
                  <a:s r="6797">
                     <a:s r="6772">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6797">
                        <a:s>Only(
  </a:s>
                        <a:s r="6796">
                           <a:s>
                              <a:s r="6774">
                                 <a:s r="6773">
                                    <a:s r="6773">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Severe pre-eclampsia&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6795">
                              <a:s>where </a:s>
                              <a:s r="6795">
                                 <a:s r="6785">
                                    <a:s r="6779">
                                       <a:s r="6776">
                                          <a:s r="6775">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6776">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="6778">
                                          <a:s r="6777">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6778">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="6784">
                                       <a:s r="6781">
                                          <a:s r="6780">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6781">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="6783">
                                          <a:s r="6782">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="6783">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6794">
                                    <a:s r="6791">
                                       <a:s>Last(</a:s>
                                       <a:s r="6790">
                                          <a:s>Split(</a:s>
                                          <a:s r="6788">
                                             <a:s r="6787">
                                                <a:s r="6786">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6787">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6788">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6789">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6793">
                                       <a:s r="6792">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6793">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6798">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6798" locator="3033:3-3038:8" path="code" xsi:type="Property">
            <source localId="6797" locator="3033:3-3038:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6796" locator="3034:3-3037:64" xsi:type="Query">
                  <source localId="6774" locator="3034:3-3034:42" alias="C">
                     <expression localId="6773" locator="3034:3-3034:40" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3034:15-3034:39" name="Severe pre-eclampsia" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6795" locator="3035:5-3037:64" xsi:type="And">
                     <operand localId="6785" locator="3035:11-3036:47" xsi:type="And">
                        <operand localId="6779" locator="3035:11-3035:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6776" locator="3035:11-3035:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="6778" locator="3035:31-3035:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="6784" locator="3036:11-3036:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="6781" locator="3036:11-3036:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="6783" locator="3036:34-3036:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="6794" locator="3037:11-3037:64" xsi:type="Equal">
                        <operand localId="6791" locator="3037:11-3037:49" xsi:type="Last">
                           <source localId="6790" locator="3037:16-3037:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6788" locator="3037:22-3037:42" path="reference" xsi:type="Property">
                                    <source localId="6787" locator="3037:22-3037:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6789" locator="3037:45-3037:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6793" locator="3037:53-3037:64" path="id" xsi:type="Property">
                              <source localId="6792" locator="3037:53-3037:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6824" locator="3046:1-3051:8" name="Counselling conducted on hypertension" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6824">
               <a:s>/*
  @dataElement: ANC.B10.DE77 Counselling conducted on hypertension
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a client who has been diagnosed with hypertension
*/
define &quot;Counselling conducted on hypertension&quot;:
  </a:s>
               <a:s r="6823">
                  <a:s r="6822">
                     <a:s r="6800">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6822">
                        <a:s>Only(
  </a:s>
                        <a:s r="6821">
                           <a:s>
                              <a:s r="6802">
                                 <a:s r="6801">
                                    <a:s r="6801">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on hypertension&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6820">
                              <a:s>where </a:s>
                              <a:s r="6820">
                                 <a:s r="6810">
                                    <a:s r="6804">
                                       <a:s r="6803">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6804">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6809">
                                       <a:s>{ </a:s>
                                       <a:s r="6805">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6806">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6807">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6808">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6819">
                                    <a:s r="6816">
                                       <a:s>Last(</a:s>
                                       <a:s r="6815">
                                          <a:s>Split(</a:s>
                                          <a:s r="6813">
                                             <a:s r="6812">
                                                <a:s r="6811">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6812">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6813">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6814">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6818">
                                       <a:s r="6817">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6818">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6823">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6823" locator="3047:3-3051:8" path="code" xsi:type="Property">
            <source localId="6822" locator="3047:3-3051:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6821" locator="3048:3-3050:64" xsi:type="Query">
                  <source localId="6802" locator="3048:3-3048:59" alias="P">
                     <expression localId="6801" locator="3048:3-3048:57" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3048:15-3048:56" name="Counselling conducted on hypertension" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6820" locator="3049:5-3050:64" xsi:type="And">
                     <operand localId="6810" locator="3049:11-3049:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6804" locator="3049:11-3049:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6809" locator="3049:23-3049:78" xsi:type="List">
                           <element localId="6805" locator="3049:25-3049:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6806" locator="3049:40-3049:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6807" locator="3049:55-3049:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6808" locator="3049:66-3049:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6819" locator="3050:11-3050:64" xsi:type="Equal">
                        <operand localId="6816" locator="3050:11-3050:49" xsi:type="Last">
                           <source localId="6815" locator="3050:16-3050:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6813" locator="3050:22-3050:42" path="reference" xsi:type="Property">
                                    <source localId="6812" locator="3050:22-3050:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6814" locator="3050:45-3050:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6818" locator="3050:53-3050:64" path="id" xsi:type="Property">
                              <source localId="6817" locator="3050:53-3050:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6849" locator="3059:1-3064:8" name="Counselling conducted on HIV positive" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6849">
               <a:s>/*
  @dataElement: ANC.B10.DE78 Counselling conducted on HIV positive
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a client who has been diagnosed with HIV
*/
define &quot;Counselling conducted on HIV positive&quot;:
  </a:s>
               <a:s r="6848">
                  <a:s r="6847">
                     <a:s r="6825">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6847">
                        <a:s>Only(
  </a:s>
                        <a:s r="6846">
                           <a:s>
                              <a:s r="6827">
                                 <a:s r="6826">
                                    <a:s r="6826">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on HIV positive&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6845">
                              <a:s>where </a:s>
                              <a:s r="6845">
                                 <a:s r="6835">
                                    <a:s r="6829">
                                       <a:s r="6828">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6829">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6834">
                                       <a:s>{ </a:s>
                                       <a:s r="6830">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6831">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6832">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6833">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6844">
                                    <a:s r="6841">
                                       <a:s>Last(</a:s>
                                       <a:s r="6840">
                                          <a:s>Split(</a:s>
                                          <a:s r="6838">
                                             <a:s r="6837">
                                                <a:s r="6836">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6837">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6838">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6839">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6843">
                                       <a:s r="6842">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6843">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6848">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6848" locator="3060:3-3064:8" path="code" xsi:type="Property">
            <source localId="6847" locator="3060:3-3064:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6846" locator="3061:3-3063:64" xsi:type="Query">
                  <source localId="6827" locator="3061:3-3061:59" alias="P">
                     <expression localId="6826" locator="3061:3-3061:57" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3061:15-3061:56" name="Counselling conducted on HIV positive" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6845" locator="3062:5-3063:64" xsi:type="And">
                     <operand localId="6835" locator="3062:11-3062:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6829" locator="3062:11-3062:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6834" locator="3062:23-3062:78" xsi:type="List">
                           <element localId="6830" locator="3062:25-3062:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6831" locator="3062:40-3062:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6832" locator="3062:55-3062:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6833" locator="3062:66-3062:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6844" locator="3063:11-3063:64" xsi:type="Equal">
                        <operand localId="6841" locator="3063:11-3063:49" xsi:type="Last">
                           <source localId="6840" locator="3063:16-3063:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6838" locator="3063:22-3063:42" path="reference" xsi:type="Property">
                                    <source localId="6837" locator="3063:22-3063:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6839" locator="3063:45-3063:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6843" locator="3063:53-3063:64" path="id" xsi:type="Property">
                              <source localId="6842" locator="3063:53-3063:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6874" locator="3072:1-3077:8" name="Counselling conducted on hepatitis B positive" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6874">
               <a:s>/*
  @dataElement: ANC.B10.DE79 Counselling conducted on hepatitis B positive
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a client who has been diagnosed with Hepatitis B
*/
define &quot;Counselling conducted on hepatitis B positive&quot;:
  </a:s>
               <a:s r="6873">
                  <a:s r="6872">
                     <a:s r="6850">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6872">
                        <a:s>Only(
  </a:s>
                        <a:s r="6871">
                           <a:s>
                              <a:s r="6852">
                                 <a:s r="6851">
                                    <a:s r="6851">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on hepatitis B positive&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6870">
                              <a:s>where </a:s>
                              <a:s r="6870">
                                 <a:s r="6860">
                                    <a:s r="6854">
                                       <a:s r="6853">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6854">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6859">
                                       <a:s>{ </a:s>
                                       <a:s r="6855">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6856">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6857">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6858">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6869">
                                    <a:s r="6866">
                                       <a:s>Last(</a:s>
                                       <a:s r="6865">
                                          <a:s>Split(</a:s>
                                          <a:s r="6863">
                                             <a:s r="6862">
                                                <a:s r="6861">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6862">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6863">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6864">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6868">
                                       <a:s r="6867">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6868">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6873">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6873" locator="3073:3-3077:8" path="code" xsi:type="Property">
            <source localId="6872" locator="3073:3-3077:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6871" locator="3074:3-3076:64" xsi:type="Query">
                  <source localId="6852" locator="3074:3-3074:67" alias="P">
                     <expression localId="6851" locator="3074:3-3074:65" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3074:15-3074:64" name="Counselling conducted on hepatitis B positive" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6870" locator="3075:5-3076:64" xsi:type="And">
                     <operand localId="6860" locator="3075:11-3075:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6854" locator="3075:11-3075:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6859" locator="3075:23-3075:78" xsi:type="List">
                           <element localId="6855" locator="3075:25-3075:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6856" locator="3075:40-3075:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6857" locator="3075:55-3075:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6858" locator="3075:66-3075:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6869" locator="3076:11-3076:64" xsi:type="Equal">
                        <operand localId="6866" locator="3076:11-3076:49" xsi:type="Last">
                           <source localId="6865" locator="3076:16-3076:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6863" locator="3076:22-3076:42" path="reference" xsi:type="Property">
                                    <source localId="6862" locator="3076:22-3076:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6864" locator="3076:45-3076:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6868" locator="3076:53-3076:64" path="id" xsi:type="Property">
                              <source localId="6867" locator="3076:53-3076:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6899" locator="3085:1-3090:8" name="Counselling conducted on hepatitis C positive" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6899">
               <a:s>/*
  @dataElement: ANC.B10.DE80 Counselling conducted on hepatitis C positive
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a client who has been diagnosed with Hepatitis C
*/
define &quot;Counselling conducted on hepatitis C positive&quot;:
  </a:s>
               <a:s r="6898">
                  <a:s r="6897">
                     <a:s r="6875">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6897">
                        <a:s>Only(
  </a:s>
                        <a:s r="6896">
                           <a:s>
                              <a:s r="6877">
                                 <a:s r="6876">
                                    <a:s r="6876">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on hepatitis C positive&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6895">
                              <a:s>where </a:s>
                              <a:s r="6895">
                                 <a:s r="6885">
                                    <a:s r="6879">
                                       <a:s r="6878">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6879">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6884">
                                       <a:s>{ </a:s>
                                       <a:s r="6880">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6881">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6882">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6883">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6894">
                                    <a:s r="6891">
                                       <a:s>Last(</a:s>
                                       <a:s r="6890">
                                          <a:s>Split(</a:s>
                                          <a:s r="6888">
                                             <a:s r="6887">
                                                <a:s r="6886">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6887">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6888">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6889">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6893">
                                       <a:s r="6892">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6893">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6898">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6898" locator="3086:3-3090:8" path="code" xsi:type="Property">
            <source localId="6897" locator="3086:3-3090:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6896" locator="3087:3-3089:64" xsi:type="Query">
                  <source localId="6877" locator="3087:3-3087:67" alias="P">
                     <expression localId="6876" locator="3087:3-3087:65" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3087:15-3087:64" name="Counselling conducted on hepatitis C positive" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6895" locator="3088:5-3089:64" xsi:type="And">
                     <operand localId="6885" locator="3088:11-3088:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6879" locator="3088:11-3088:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6884" locator="3088:23-3088:78" xsi:type="List">
                           <element localId="6880" locator="3088:25-3088:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6881" locator="3088:40-3088:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6882" locator="3088:55-3088:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6883" locator="3088:66-3088:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6894" locator="3089:11-3089:64" xsi:type="Equal">
                        <operand localId="6891" locator="3089:11-3089:49" xsi:type="Last">
                           <source localId="6890" locator="3089:16-3089:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6888" locator="3089:22-3089:42" path="reference" xsi:type="Property">
                                    <source localId="6887" locator="3089:22-3089:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6889" locator="3089:45-3089:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6893" locator="3089:53-3089:64" path="id" xsi:type="Property">
                              <source localId="6892" locator="3089:53-3089:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6924" locator="3098:1-3103:8" name="Syphilis counselling and treatment" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6924">
               <a:s>/*
  @dataElement: ANC.B10.DE81 Syphilis counselling and treatment
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling and treatment was provided to a client who has been diagnosed with syphilis
*/
define &quot;Syphilis counselling and treatment&quot;:
  </a:s>
               <a:s r="6923">
                  <a:s r="6922">
                     <a:s r="6900">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6922">
                        <a:s>Only(
  </a:s>
                        <a:s r="6921">
                           <a:s>
                              <a:s r="6902">
                                 <a:s r="6901">
                                    <a:s r="6901">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Syphilis counselling and treatment&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6920">
                              <a:s>where </a:s>
                              <a:s r="6920">
                                 <a:s r="6910">
                                    <a:s r="6904">
                                       <a:s r="6903">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6904">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6909">
                                       <a:s>{ </a:s>
                                       <a:s r="6905">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6906">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6907">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6908">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6919">
                                    <a:s r="6916">
                                       <a:s>Last(</a:s>
                                       <a:s r="6915">
                                          <a:s>Split(</a:s>
                                          <a:s r="6913">
                                             <a:s r="6912">
                                                <a:s r="6911">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6912">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6913">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6914">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6918">
                                       <a:s r="6917">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6918">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6923">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6923" locator="3099:3-3103:8" path="code" xsi:type="Property">
            <source localId="6922" locator="3099:3-3103:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6921" locator="3100:3-3102:64" xsi:type="Query">
                  <source localId="6902" locator="3100:3-3100:56" alias="P">
                     <expression localId="6901" locator="3100:3-3100:54" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3100:15-3100:53" name="Syphilis counselling and treatment" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6920" locator="3101:5-3102:64" xsi:type="And">
                     <operand localId="6910" locator="3101:11-3101:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6904" locator="3101:11-3101:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6909" locator="3101:23-3101:78" xsi:type="List">
                           <element localId="6905" locator="3101:25-3101:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6906" locator="3101:40-3101:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6907" locator="3101:55-3101:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6908" locator="3101:66-3101:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6919" locator="3102:11-3102:64" xsi:type="Equal">
                        <operand localId="6916" locator="3102:11-3102:49" xsi:type="Last">
                           <source localId="6915" locator="3102:16-3102:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6913" locator="3102:22-3102:42" path="reference" xsi:type="Property">
                                    <source localId="6912" locator="3102:22-3102:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6914" locator="3102:45-3102:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6918" locator="3102:53-3102:64" path="id" xsi:type="Property">
                              <source localId="6917" locator="3102:53-3102:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6949" locator="3111:1-3116:8" name="Syphilis counselling, treatment and further testing" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6949">
               <a:s>/*
  @dataElement: ANC.B10.DE82 Syphilis counselling, treatment and further testing
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling and treatment was provided to a client who has been diagnosed with syphilis â€“ additional testing (RPR test) recommended
*/
define &quot;Syphilis counselling, treatment and further testing&quot;:
  </a:s>
               <a:s r="6948">
                  <a:s r="6947">
                     <a:s r="6925">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6947">
                        <a:s>Only(
  </a:s>
                        <a:s r="6946">
                           <a:s>
                              <a:s r="6927">
                                 <a:s r="6926">
                                    <a:s r="6926">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Syphilis counselling, treatment and further testing&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6945">
                              <a:s>where </a:s>
                              <a:s r="6945">
                                 <a:s r="6935">
                                    <a:s r="6929">
                                       <a:s r="6928">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6929">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6934">
                                       <a:s>{ </a:s>
                                       <a:s r="6930">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6931">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6932">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6933">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6944">
                                    <a:s r="6941">
                                       <a:s>Last(</a:s>
                                       <a:s r="6940">
                                          <a:s>Split(</a:s>
                                          <a:s r="6938">
                                             <a:s r="6937">
                                                <a:s r="6936">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6937">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6938">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6939">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6943">
                                       <a:s r="6942">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6943">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6948">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6948" locator="3112:3-3116:8" path="code" xsi:type="Property">
            <source localId="6947" locator="3112:3-3116:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6946" locator="3113:3-3115:64" xsi:type="Query">
                  <source localId="6927" locator="3113:3-3113:73" alias="P">
                     <expression localId="6926" locator="3113:3-3113:71" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3113:15-3113:70" name="Syphilis counselling, treatment and further testing" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6945" locator="3114:5-3115:64" xsi:type="And">
                     <operand localId="6935" locator="3114:11-3114:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6929" locator="3114:11-3114:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6934" locator="3114:23-3114:78" xsi:type="List">
                           <element localId="6930" locator="3114:25-3114:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6931" locator="3114:40-3114:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6932" locator="3114:55-3114:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6933" locator="3114:66-3114:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6944" locator="3115:11-3115:64" xsi:type="Equal">
                        <operand localId="6941" locator="3115:11-3115:49" xsi:type="Last">
                           <source localId="6940" locator="3115:16-3115:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6938" locator="3115:22-3115:42" path="reference" xsi:type="Property">
                                    <source localId="6937" locator="3115:22-3115:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6939" locator="3115:45-3115:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6943" locator="3115:53-3115:64" path="id" xsi:type="Property">
                              <source localId="6942" locator="3115:53-3115:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6974" locator="3124:1-3129:8" name="Seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6974">
               <a:s>/*
  @dataElement: ANC.B10.DE83 Seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) provided
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether seven-day antibiotic regimen was provided to a client who has been diagnosed with ASB
*/
define &quot;Seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) provided&quot;:
  </a:s>
               <a:s r="6973">
                  <a:s r="6972">
                     <a:s r="6950">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6972">
                        <a:s>Only(
  </a:s>
                        <a:s r="6971">
                           <a:s>
                              <a:s r="6952">
                                 <a:s r="6951">
                                    <a:s r="6951">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6970">
                              <a:s>where </a:s>
                              <a:s r="6970">
                                 <a:s r="6960">
                                    <a:s r="6954">
                                       <a:s r="6953">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6954">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="6959">
                                       <a:s>{ </a:s>
                                       <a:s r="6955">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6956">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6957">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="6958">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6969">
                                    <a:s r="6966">
                                       <a:s>Last(</a:s>
                                       <a:s r="6965">
                                          <a:s>Split(</a:s>
                                          <a:s r="6963">
                                             <a:s r="6962">
                                                <a:s r="6961">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6962">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6963">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6964">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6968">
                                       <a:s r="6967">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6968">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6973">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6973" locator="3125:3-3129:8" path="code" xsi:type="Property">
            <source localId="6972" locator="3125:3-3129:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6971" locator="3126:3-3128:64" xsi:type="Query">
                  <source localId="6952" locator="3126:3-3126:94" alias="P">
                     <expression localId="6951" locator="3126:3-3126:92" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3126:15-3126:91" name="Seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6970" locator="3127:5-3128:64" xsi:type="And">
                     <operand localId="6960" locator="3127:11-3127:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6954" locator="3127:11-3127:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="6959" locator="3127:23-3127:78" xsi:type="List">
                           <element localId="6955" locator="3127:25-3127:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="6956" locator="3127:40-3127:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="6957" locator="3127:55-3127:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="6958" locator="3127:66-3127:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="6969" locator="3128:11-3128:64" xsi:type="Equal">
                        <operand localId="6966" locator="3128:11-3128:49" xsi:type="Last">
                           <source localId="6965" locator="3128:16-3128:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6963" locator="3128:22-3128:42" path="reference" xsi:type="Property">
                                    <source localId="6962" locator="3128:22-3128:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6964" locator="3128:45-3128:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6968" locator="3128:53-3128:64" path="id" xsi:type="Property">
                              <source localId="6967" locator="3128:53-3128:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="6995" locator="3137:1-3142:8" name="Reason seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6995">
               <a:s>/*
  @dataElement: ANC.B10.DE84 Reason seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) not provided
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Please explain why woman was not provided treatment
*/
define &quot;Reason seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) not provided&quot;:
  </a:s>
               <a:s r="6994">
                  <a:s r="6993">
                     <a:s r="6975">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="6993">
                        <a:s>Only(
  </a:s>
                        <a:s r="6992">
                           <a:s>
                              <a:s r="6977">
                                 <a:s r="6976">
                                    <a:s r="6976">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) not provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="6991">
                              <a:s>where </a:s>
                              <a:s r="6991">
                                 <a:s r="6981">
                                    <a:s r="6979">
                                       <a:s r="6978">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6979">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6980">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="6990">
                                    <a:s r="6987">
                                       <a:s>Last(</a:s>
                                       <a:s r="6986">
                                          <a:s>Split(</a:s>
                                          <a:s r="6984">
                                             <a:s r="6983">
                                                <a:s r="6982">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="6983">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="6984">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="6985">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="6989">
                                       <a:s r="6988">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="6989">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="6994">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="6994" locator="3138:3-3142:8" path="code" xsi:type="Property">
            <source localId="6993" locator="3138:3-3142:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="6992" locator="3139:3-3141:66" xsi:type="Query">
                  <source localId="6977" locator="3139:3-3139:107" alias="PND">
                     <expression localId="6976" locator="3139:3-3139:103" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3139:15-3139:102" name="Reason seven-day antibiotic regimen for asymptomatic bacteriuria (ASB) not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="6991" locator="3140:5-3141:66" xsi:type="And">
                     <operand localId="6981" locator="3140:11-3140:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6979" locator="3140:11-3140:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="6980" locator="3140:24-3140:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="6990" locator="3141:11-3141:66" xsi:type="Equal">
                        <operand localId="6987" locator="3141:11-3141:51" xsi:type="Last">
                           <source localId="6986" locator="3141:16-3141:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="6984" locator="3141:22-3141:44" path="reference" xsi:type="Property">
                                    <source localId="6983" locator="3141:22-3141:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="6985" locator="3141:47-3141:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="6989" locator="3141:55-3141:66" path="id" xsi:type="Property">
                              <source localId="6988" locator="3141:55-3141:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7020" locator="3150:1-3155:8" name="Counselling conducted on TB screening positive" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7020">
               <a:s>/*
  @dataElement: ANC.B10.DE87 Counselling conducted on TB screening positive
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Counselling provided to woman when TB screening result is positive
*/
define &quot;Counselling conducted on TB screening positive&quot;:
  </a:s>
               <a:s r="7019">
                  <a:s r="7018">
                     <a:s r="6996">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7018">
                        <a:s>Only(
  </a:s>
                        <a:s r="7017">
                           <a:s>
                              <a:s r="6998">
                                 <a:s r="6997">
                                    <a:s r="6997">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on TB screening positive&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7016">
                              <a:s>where </a:s>
                              <a:s r="7016">
                                 <a:s r="7006">
                                    <a:s r="7000">
                                       <a:s r="6999">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7000">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7005">
                                       <a:s>{ </a:s>
                                       <a:s r="7001">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7002">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7003">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7004">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7015">
                                    <a:s r="7012">
                                       <a:s>Last(</a:s>
                                       <a:s r="7011">
                                          <a:s>Split(</a:s>
                                          <a:s r="7009">
                                             <a:s r="7008">
                                                <a:s r="7007">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7008">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7009">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7010">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7014">
                                       <a:s r="7013">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7014">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7019">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7019" locator="3151:3-3155:8" path="code" xsi:type="Property">
            <source localId="7018" locator="3151:3-3155:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7017" locator="3152:3-3154:64" xsi:type="Query">
                  <source localId="6998" locator="3152:3-3152:68" alias="P">
                     <expression localId="6997" locator="3152:3-3152:66" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3152:15-3152:65" name="Counselling conducted on TB screening positive" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7016" locator="3153:5-3154:64" xsi:type="And">
                     <operand localId="7006" locator="3153:11-3153:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7000" locator="3153:11-3153:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7005" locator="3153:23-3153:78" xsi:type="List">
                           <element localId="7001" locator="3153:25-3153:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7002" locator="3153:40-3153:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7003" locator="3153:55-3153:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7004" locator="3153:66-3153:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7015" locator="3154:11-3154:64" xsi:type="Equal">
                        <operand localId="7012" locator="3154:11-3154:49" xsi:type="Last">
                           <source localId="7011" locator="3154:16-3154:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7009" locator="3154:22-3154:42" path="reference" xsi:type="Property">
                                    <source localId="7008" locator="3154:22-3154:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7010" locator="3154:45-3154:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7014" locator="3154:53-3154:64" path="id" xsi:type="Property">
                              <source localId="7013" locator="3154:53-3154:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7045" locator="3163:1-3168:8" name="Counselling conducted on gestational diabetes mellitus (GDM)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7045">
               <a:s>/*
  @dataElement: ANC.B10.DE88 Counselling conducted on gestational diabetes mellitus (GDM)
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a woman who has been diagnosed with GDM
*/
define &quot;Counselling conducted on gestational diabetes mellitus (GDM)&quot;:
  </a:s>
               <a:s r="7044">
                  <a:s r="7043">
                     <a:s r="7021">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7043">
                        <a:s>Only(
  </a:s>
                        <a:s r="7042">
                           <a:s>
                              <a:s r="7023">
                                 <a:s r="7022">
                                    <a:s r="7022">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on gestational diabetes mellitus (GDM)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7041">
                              <a:s>where </a:s>
                              <a:s r="7041">
                                 <a:s r="7031">
                                    <a:s r="7025">
                                       <a:s r="7024">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7025">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7030">
                                       <a:s>{ </a:s>
                                       <a:s r="7026">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7027">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7028">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7029">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7040">
                                    <a:s r="7037">
                                       <a:s>Last(</a:s>
                                       <a:s r="7036">
                                          <a:s>Split(</a:s>
                                          <a:s r="7034">
                                             <a:s r="7033">
                                                <a:s r="7032">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7033">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7034">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7035">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7039">
                                       <a:s r="7038">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7039">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7044">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7044" locator="3164:3-3168:8" path="code" xsi:type="Property">
            <source localId="7043" locator="3164:3-3168:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7042" locator="3165:3-3167:64" xsi:type="Query">
                  <source localId="7023" locator="3165:3-3165:82" alias="P">
                     <expression localId="7022" locator="3165:3-3165:80" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3165:15-3165:79" name="Counselling conducted on gestational diabetes mellitus (GDM)" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7041" locator="3166:5-3167:64" xsi:type="And">
                     <operand localId="7031" locator="3166:11-3166:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7025" locator="3166:11-3166:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7030" locator="3166:23-3166:78" xsi:type="List">
                           <element localId="7026" locator="3166:25-3166:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7027" locator="3166:40-3166:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7028" locator="3166:55-3166:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7029" locator="3166:66-3166:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7040" locator="3167:11-3167:64" xsi:type="Equal">
                        <operand localId="7037" locator="3167:11-3167:49" xsi:type="Last">
                           <source localId="7036" locator="3167:16-3167:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7034" locator="3167:22-3167:42" path="reference" xsi:type="Property">
                                    <source localId="7033" locator="3167:22-3167:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7035" locator="3167:45-3167:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7039" locator="3167:53-3167:64" path="id" xsi:type="Property">
                              <source localId="7038" locator="3167:53-3167:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7070" locator="3176:1-3181:8" name="Counselling conducted on diabetes mellitus (DM)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7070">
               <a:s>/*
  @dataElement: ANC.B10.DE89 Counselling conducted on diabetes mellitus (DM)
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a woman who has been diagnosed with DM during pregnancy
*/
define &quot;Counselling conducted on diabetes mellitus (DM)&quot;:
  </a:s>
               <a:s r="7069">
                  <a:s r="7068">
                     <a:s r="7046">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7068">
                        <a:s>Only(
  </a:s>
                        <a:s r="7067">
                           <a:s>
                              <a:s r="7048">
                                 <a:s r="7047">
                                    <a:s r="7047">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on diabetes mellitus (DM)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7066">
                              <a:s>where </a:s>
                              <a:s r="7066">
                                 <a:s r="7056">
                                    <a:s r="7050">
                                       <a:s r="7049">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7050">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7055">
                                       <a:s>{ </a:s>
                                       <a:s r="7051">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7052">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7053">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7054">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7065">
                                    <a:s r="7062">
                                       <a:s>Last(</a:s>
                                       <a:s r="7061">
                                          <a:s>Split(</a:s>
                                          <a:s r="7059">
                                             <a:s r="7058">
                                                <a:s r="7057">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7058">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7059">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7060">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7064">
                                       <a:s r="7063">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7064">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7069">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7069" locator="3177:3-3181:8" path="code" xsi:type="Property">
            <source localId="7068" locator="3177:3-3181:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7067" locator="3178:3-3180:64" xsi:type="Query">
                  <source localId="7048" locator="3178:3-3178:69" alias="P">
                     <expression localId="7047" locator="3178:3-3178:67" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3178:15-3178:66" name="Counselling conducted on diabetes mellitus (DM)" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7066" locator="3179:5-3180:64" xsi:type="And">
                     <operand localId="7056" locator="3179:11-3179:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7050" locator="3179:11-3179:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7055" locator="3179:23-3179:78" xsi:type="List">
                           <element localId="7051" locator="3179:25-3179:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7052" locator="3179:40-3179:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7053" locator="3179:55-3179:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7054" locator="3179:66-3179:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7065" locator="3180:11-3180:64" xsi:type="Equal">
                        <operand localId="7062" locator="3180:11-3180:49" xsi:type="Last">
                           <source localId="7061" locator="3180:16-3180:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7059" locator="3180:22-3180:42" path="reference" xsi:type="Property">
                                    <source localId="7058" locator="3180:22-3180:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7060" locator="3180:45-3180:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7064" locator="3180:53-3180:64" path="id" xsi:type="Property">
                              <source localId="7063" locator="3180:53-3180:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7095" locator="3189:1-3194:8" name="Counselling conducted on anaemia" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7095">
               <a:s>/*
  @dataElement: ANC.B10.DE90 Counselling conducted on anaemia
  @activity: ANC.B10.4 Diagnosis &amp; treatment
  @description: Whether counselling was provided to a woman who has been diagnosed with anaemia
*/
define &quot;Counselling conducted on anaemia&quot;:
  </a:s>
               <a:s r="7094">
                  <a:s r="7093">
                     <a:s r="7071">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7093">
                        <a:s>Only(
  </a:s>
                        <a:s r="7092">
                           <a:s>
                              <a:s r="7073">
                                 <a:s r="7072">
                                    <a:s r="7072">
                                       <a:s>[Procedure]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7091">
                              <a:s>where </a:s>
                              <a:s r="7091">
                                 <a:s r="7081">
                                    <a:s r="7075">
                                       <a:s r="7074">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7075">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7080">
                                       <a:s>{ </a:s>
                                       <a:s r="7076">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7077">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7078">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7079">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7090">
                                    <a:s r="7087">
                                       <a:s>Last(</a:s>
                                       <a:s r="7086">
                                          <a:s>Split(</a:s>
                                          <a:s r="7084">
                                             <a:s r="7083">
                                                <a:s r="7082">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7083">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7084">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7085">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7089">
                                       <a:s r="7088">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7089">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7094">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7094" locator="3190:3-3194:8" path="code" xsi:type="Property">
            <source localId="7093" locator="3190:3-3194:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7092" locator="3191:3-3193:64" xsi:type="Query">
                  <source localId="7073" locator="3191:3-3191:15" alias="P">
                     <expression localId="7072" locator="3191:3-3191:13" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" xsi:type="Retrieve"/>
                  </source>
                  <where localId="7091" locator="3192:5-3193:64" xsi:type="And">
                     <operand localId="7081" locator="3192:11-3192:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7075" locator="3192:11-3192:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7080" locator="3192:23-3192:78" xsi:type="List">
                           <element localId="7076" locator="3192:25-3192:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7077" locator="3192:40-3192:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7078" locator="3192:55-3192:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7079" locator="3192:66-3192:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7090" locator="3193:11-3193:64" xsi:type="Equal">
                        <operand localId="7087" locator="3193:11-3193:49" xsi:type="Last">
                           <source localId="7086" locator="3193:16-3193:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7084" locator="3193:22-3193:42" path="reference" xsi:type="Property">
                                    <source localId="7083" locator="3193:22-3193:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7085" locator="3193:45-3193:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7089" locator="3193:53-3193:64" path="id" xsi:type="Property">
                              <source localId="7088" locator="3193:53-3193:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7124" locator="3202:1-3207:24" name="Vitamin A supplementation not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7124">
               <a:s>/*
  @dataElement: ANC.B10.DE104 Vitamin A supplementation not provided
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Select the reason why the supplement was not given
*/
define &quot;Vitamin A supplementation not provided&quot;:
  </a:s>
               <a:s r="7123">
                  <a:s>
                     <a:s r="7097">
                        <a:s r="7096">
                           <a:s r="7096">
                              <a:s>[MedicationRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Vitamin A supplementation not provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> MR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7119">
                     <a:s>where </a:s>
                     <a:s r="7119">
                        <a:s r="7109">
                           <a:s r="7105">
                              <a:s r="7099">
                                 <a:s r="7098">
                                    <a:s>MR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7099">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="7104">
                                 <a:s>{ </a:s>
                                 <a:s r="7100">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7101">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7102">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7103">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="7108">
                              <a:s r="7107">
                                 <a:s r="7106">
                                    <a:s>MR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7107">
                                    <a:s>doNotPerform</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7118">
                           <a:s r="7115">
                              <a:s>Last(</a:s>
                              <a:s r="7114">
                                 <a:s>Split(</a:s>
                                 <a:s r="7112">
                                    <a:s r="7111">
                                       <a:s r="7110">
                                          <a:s>MR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7111">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7112">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7113">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7117">
                              <a:s r="7116">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7117">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7122">
                     <a:s>return </a:s>
                     <a:s r="7121">
                        <a:s r="7120">
                           <a:s>MR</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7121">
                           <a:s>medication</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7123" locator="3203:3-3207:24" xsi:type="Query">
            <source localId="7097" locator="3203:3-3203:69" alias="MR">
               <expression localId="7096" locator="3203:3-3203:66" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3203:23-3203:65" name="Vitamin A supplementation not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7119" locator="3204:5-3206:65" xsi:type="And">
               <operand localId="7109" locator="3204:11-3205:33" xsi:type="And">
                  <operand localId="7105" locator="3204:11-3204:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7099" locator="3204:11-3204:19" path="status" scope="MR" xsi:type="Property"/>
                     </operand>
                     <operand localId="7104" locator="3204:24-3204:68" xsi:type="List">
                        <element localId="7100" locator="3204:26-3204:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="7101" locator="3204:35-3204:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="7102" locator="3204:45-3204:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="7103" locator="3204:56-3204:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="7108" locator="3205:11-3205:33" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7107" locator="3205:11-3205:25" path="doNotPerform" scope="MR" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="7118" locator="3206:11-3206:65" xsi:type="Equal">
                  <operand localId="7115" locator="3206:11-3206:50" xsi:type="Last">
                     <source localId="7114" locator="3206:16-3206:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7112" locator="3206:22-3206:43" path="reference" xsi:type="Property">
                              <source localId="7111" locator="3206:22-3206:33" path="encounter" scope="MR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7113" locator="3206:46-3206:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7117" locator="3206:54-3206:65" path="id" xsi:type="Property">
                        <source localId="7116" locator="3206:54-3206:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="7122" locator="3207:5-3207:24">
               <expression localId="7121" locator="3207:12-3207:24" path="medication" scope="MR" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="7163" locator="3215:1-3221:63" name="Amount of daily calcium supplements provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7163">
               <a:s>/*
  @dataElement: ANC.B10.DE107 Amount of daily calcium supplements provided
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Amount in grams (g) of calcium supplements provided
*/
define &quot;Amount of daily calcium supplements provided&quot;:
  </a:s>
               <a:s r="7162">
                  <a:s r="7160">
                     <a:s r="7159">
                        <a:s r="7125">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7159">
                           <a:s>Only(</a:s>
                           <a:s r="7158">
                              <a:s r="7157">
                                 <a:s r="7126">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7157">
                                    <a:s>Only(</a:s>
                                    <a:s r="7156">
                                       <a:s r="7155">
                                          <a:s r="7127">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7155">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7154">
                                                <a:s>
                                                   <a:s r="7129">
                                                      <a:s r="7128">
                                                         <a:s r="7128">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7153">
                                                   <a:s>where </a:s>
                                                   <a:s r="7153">
                                                      <a:s r="7143">
                                                         <a:s r="7137">
                                                            <a:s r="7131">
                                                               <a:s r="7130">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7131">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7136">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7132">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7133">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7134">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7135">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7142">
                                                            <a:s r="7141">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7139">
                                                                  <a:s r="7138">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7139">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7140">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7152">
                                                         <a:s r="7149">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7148">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7146">
                                                                  <a:s r="7145">
                                                                     <a:s r="7144">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7145">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7146">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7147">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7151">
                                                            <a:s r="7150">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7151">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7156">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7158">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7160">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7161">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7162" locator="3216:3-3221:63" strict="false" xsi:type="As">
            <operand localId="7160" locator="3216:3-3221:40" path="dose" xsi:type="Property">
               <source localId="7159" locator="3216:3-3221:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7158" locator="3216:11-3221:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7157" locator="3216:11-3221:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7156" locator="3216:19-3221:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7155" locator="3216:19-3221:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7154" locator="3217:3-3220:65" xsi:type="Query">
                                 <source localId="7129" locator="3217:3-3217:24" alias="MR">
                                    <expression localId="7128" locator="3217:3-3217:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7153" locator="3218:5-3220:65" xsi:type="And">
                                    <operand localId="7143" locator="3218:11-3219:51" xsi:type="And">
                                       <operand localId="7137" locator="3218:11-3218:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7131" locator="3218:11-3218:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7136" locator="3218:24-3218:68" xsi:type="List">
                                             <element localId="7132" locator="3218:26-3218:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7133" locator="3218:35-3218:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7134" locator="3218:45-3218:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7135" locator="3218:56-3218:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7142" locator="3219:11-3219:51" xsi:type="IsFalse">
                                          <operand localId="7141" locator="3219:11-3219:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7139" locator="3219:20-3219:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7140" locator="3219:37-3219:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7152" locator="3220:11-3220:65" xsi:type="Equal">
                                       <operand localId="7149" locator="3220:11-3220:50" xsi:type="Last">
                                          <source localId="7148" locator="3220:16-3220:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7146" locator="3220:22-3220:43" path="reference" xsi:type="Property">
                                                   <source localId="7145" locator="3220:22-3220:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7147" locator="3220:46-3220:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7151" locator="3220:54-3220:65" path="id" xsi:type="Property">
                                             <source localId="7150" locator="3220:54-3220:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7161" locator="3221:45-3221:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7192" locator="3229:1-3235:14" name="Reason calcium not prescribed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7192">
               <a:s>/*
  @dataElement: ANC.B10.DE108 Reason calcium not prescribed
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Select the reason why calcium supplementation was not prescribed
*/
define &quot;Reason calcium not prescribed&quot;:
  </a:s>
               <a:s r="7191">
                  <a:s r="7190">
                     <a:s r="7164">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7190">
                        <a:s>Only(
  </a:s>
                        <a:s r="7189">
                           <a:s>
                              <a:s r="7166">
                                 <a:s r="7165">
                                    <a:s r="7165">
                                       <a:s>[MedicationRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason calcium not prescribed&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> MR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7188">
                              <a:s>where </a:s>
                              <a:s r="7188">
                                 <a:s r="7178">
                                    <a:s r="7174">
                                       <a:s r="7168">
                                          <a:s r="7167">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7168">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7173">
                                          <a:s>{ </a:s>
                                          <a:s r="7169">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7170">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7171">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7172">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7177">
                                       <a:s r="7176">
                                          <a:s r="7175">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7176">
                                             <a:s>doNotPerform</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7187">
                                    <a:s r="7184">
                                       <a:s>Last(</a:s>
                                       <a:s r="7183">
                                          <a:s>Split(</a:s>
                                          <a:s r="7181">
                                             <a:s r="7180">
                                                <a:s r="7179">
                                                   <a:s>MR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7180">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7181">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7182">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7186">
                                       <a:s r="7185">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7186">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7191">
                     <a:s>medication</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7191" locator="3230:3-3235:14" path="medication" xsi:type="Property">
            <source localId="7190" locator="3230:3-3235:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7189" locator="3231:3-3234:65" xsi:type="Query">
                  <source localId="7166" locator="3231:3-3231:60" alias="MR">
                     <expression localId="7165" locator="3231:3-3231:57" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3231:23-3231:56" name="Reason calcium not prescribed" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7188" locator="3232:5-3234:65" xsi:type="And">
                     <operand localId="7178" locator="3232:11-3233:33" xsi:type="And">
                        <operand localId="7174" locator="3232:11-3232:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7168" locator="3232:11-3232:19" path="status" scope="MR" xsi:type="Property"/>
                           </operand>
                           <operand localId="7173" locator="3232:24-3232:68" xsi:type="List">
                              <element localId="7169" locator="3232:26-3232:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="7170" locator="3232:35-3232:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="7171" locator="3232:45-3232:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="7172" locator="3232:56-3232:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="7177" locator="3233:11-3233:33" xsi:type="IsTrue">
                           <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7176" locator="3233:11-3233:25" path="doNotPerform" scope="MR" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7187" locator="3234:11-3234:65" xsi:type="Equal">
                        <operand localId="7184" locator="3234:11-3234:50" xsi:type="Last">
                           <source localId="7183" locator="3234:16-3234:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7181" locator="3234:22-3234:43" path="reference" xsi:type="Property">
                                    <source localId="7180" locator="3234:22-3234:33" path="encounter" scope="MR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7182" locator="3234:46-3234:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7186" locator="3234:54-3234:65" path="id" xsi:type="Property">
                              <source localId="7185" locator="3234:54-3234:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7231" locator="3243:1-3249:63" name="Amount of daily dose of folic acid prescribed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7231">
               <a:s>/*
  @dataElement: ANC.B10.DE95 Amount of daily dose of folic acid prescribed
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Amount of folic acid supplements prescribed in milligrams for daily intake
*/
define &quot;Amount of daily dose of folic acid prescribed&quot;:
  </a:s>
               <a:s r="7230">
                  <a:s r="7228">
                     <a:s r="7227">
                        <a:s r="7193">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7227">
                           <a:s>Only(</a:s>
                           <a:s r="7226">
                              <a:s r="7225">
                                 <a:s r="7194">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7225">
                                    <a:s>Only(</a:s>
                                    <a:s r="7224">
                                       <a:s r="7223">
                                          <a:s r="7195">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7223">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7222">
                                                <a:s>
                                                   <a:s r="7197">
                                                      <a:s r="7196">
                                                         <a:s r="7196">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7221">
                                                   <a:s>where </a:s>
                                                   <a:s r="7221">
                                                      <a:s r="7211">
                                                         <a:s r="7205">
                                                            <a:s r="7199">
                                                               <a:s r="7198">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7199">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7204">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7200">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7201">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7202">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7203">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7210">
                                                            <a:s r="7209">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7207">
                                                                  <a:s r="7206">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7207">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7208">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7220">
                                                         <a:s r="7217">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7216">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7214">
                                                                  <a:s r="7213">
                                                                     <a:s r="7212">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7213">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7214">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7215">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7219">
                                                            <a:s r="7218">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7219">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7224">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7226">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7228">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7229">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7230" locator="3244:3-3249:63" strict="false" xsi:type="As">
            <operand localId="7228" locator="3244:3-3249:40" path="dose" xsi:type="Property">
               <source localId="7227" locator="3244:3-3249:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7226" locator="3244:11-3249:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7225" locator="3244:11-3249:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7224" locator="3244:19-3249:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7223" locator="3244:19-3249:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7222" locator="3245:3-3248:65" xsi:type="Query">
                                 <source localId="7197" locator="3245:3-3245:24" alias="MR">
                                    <expression localId="7196" locator="3245:3-3245:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7221" locator="3246:5-3248:65" xsi:type="And">
                                    <operand localId="7211" locator="3246:11-3247:51" xsi:type="And">
                                       <operand localId="7205" locator="3246:11-3246:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7199" locator="3246:11-3246:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7204" locator="3246:24-3246:68" xsi:type="List">
                                             <element localId="7200" locator="3246:26-3246:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7201" locator="3246:35-3246:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7202" locator="3246:45-3246:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7203" locator="3246:56-3246:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7210" locator="3247:11-3247:51" xsi:type="IsFalse">
                                          <operand localId="7209" locator="3247:11-3247:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7207" locator="3247:20-3247:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7208" locator="3247:37-3247:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7220" locator="3248:11-3248:65" xsi:type="Equal">
                                       <operand localId="7217" locator="3248:11-3248:50" xsi:type="Last">
                                          <source localId="7216" locator="3248:16-3248:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7214" locator="3248:22-3248:43" path="reference" xsi:type="Property">
                                                   <source localId="7213" locator="3248:22-3248:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7215" locator="3248:46-3248:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7219" locator="3248:54-3248:65" path="id" xsi:type="Property">
                                             <source localId="7218" locator="3248:54-3248:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7229" locator="3249:45-3249:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7260" locator="3257:1-3263:14" name="Reason iron and folic acid not prescribed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7260">
               <a:s>/*
  @dataElement: ANC.B10.DE96 Reason iron and folic acid not prescribed
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Select the reason why the supplement was not prescribed
*/
define &quot;Reason iron and folic acid not prescribed&quot;:
  </a:s>
               <a:s r="7259">
                  <a:s r="7258">
                     <a:s r="7232">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7258">
                        <a:s>Only(
  </a:s>
                        <a:s r="7257">
                           <a:s>
                              <a:s r="7234">
                                 <a:s r="7233">
                                    <a:s r="7233">
                                       <a:s>[MedicationRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason iron and folic acid not prescribed&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> MR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7256">
                              <a:s>where </a:s>
                              <a:s r="7256">
                                 <a:s r="7246">
                                    <a:s r="7242">
                                       <a:s r="7236">
                                          <a:s r="7235">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7236">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7241">
                                          <a:s>{ </a:s>
                                          <a:s r="7237">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7238">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7239">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7240">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7245">
                                       <a:s r="7244">
                                          <a:s r="7243">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7244">
                                             <a:s>doNotPerform</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7255">
                                    <a:s r="7252">
                                       <a:s>Last(</a:s>
                                       <a:s r="7251">
                                          <a:s>Split(</a:s>
                                          <a:s r="7249">
                                             <a:s r="7248">
                                                <a:s r="7247">
                                                   <a:s>MR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7248">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7249">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7250">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7254">
                                       <a:s r="7253">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7254">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7259">
                     <a:s>medication</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7259" locator="3258:3-3263:14" path="medication" xsi:type="Property">
            <source localId="7258" locator="3258:3-3263:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7257" locator="3259:3-3262:65" xsi:type="Query">
                  <source localId="7234" locator="3259:3-3259:72" alias="MR">
                     <expression localId="7233" locator="3259:3-3259:69" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3259:23-3259:68" name="Reason iron and folic acid not prescribed" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7256" locator="3260:5-3262:65" xsi:type="And">
                     <operand localId="7246" locator="3260:11-3261:33" xsi:type="And">
                        <operand localId="7242" locator="3260:11-3260:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7236" locator="3260:11-3260:19" path="status" scope="MR" xsi:type="Property"/>
                           </operand>
                           <operand localId="7241" locator="3260:24-3260:68" xsi:type="List">
                              <element localId="7237" locator="3260:26-3260:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="7238" locator="3260:35-3260:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="7239" locator="3260:45-3260:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="7240" locator="3260:56-3260:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="7245" locator="3261:11-3261:33" xsi:type="IsTrue">
                           <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7244" locator="3261:11-3261:25" path="doNotPerform" scope="MR" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7255" locator="3262:11-3262:65" xsi:type="Equal">
                        <operand localId="7252" locator="3262:11-3262:50" xsi:type="Last">
                           <source localId="7251" locator="3262:16-3262:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7249" locator="3262:22-3262:43" path="reference" xsi:type="Property">
                                    <source localId="7248" locator="3262:22-3262:33" path="encounter" scope="MR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7250" locator="3262:46-3262:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7254" locator="3262:54-3262:65" path="id" xsi:type="Property">
                              <source localId="7253" locator="3262:54-3262:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7299" locator="3271:1-3277:63" name="Amount of iron prescribed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7299">
               <a:s>/*
  @dataElement: ANC.B10.DE91 Amount of iron prescribed
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Amount of iron supplements prescribed in milligrams for intake
*/
define &quot;Amount of iron prescribed&quot;:
  </a:s>
               <a:s r="7298">
                  <a:s r="7296">
                     <a:s r="7295">
                        <a:s r="7261">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7295">
                           <a:s>Only(</a:s>
                           <a:s r="7294">
                              <a:s r="7293">
                                 <a:s r="7262">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7293">
                                    <a:s>Only(</a:s>
                                    <a:s r="7292">
                                       <a:s r="7291">
                                          <a:s r="7263">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7291">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7290">
                                                <a:s>
                                                   <a:s r="7265">
                                                      <a:s r="7264">
                                                         <a:s r="7264">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7289">
                                                   <a:s>where </a:s>
                                                   <a:s r="7289">
                                                      <a:s r="7279">
                                                         <a:s r="7273">
                                                            <a:s r="7267">
                                                               <a:s r="7266">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7267">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7272">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7268">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7269">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7270">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7271">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7278">
                                                            <a:s r="7277">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7275">
                                                                  <a:s r="7274">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7275">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7276">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7288">
                                                         <a:s r="7285">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7284">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7282">
                                                                  <a:s r="7281">
                                                                     <a:s r="7280">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7281">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7282">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7283">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7287">
                                                            <a:s r="7286">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7287">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7292">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7294">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7296">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7297">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7298" locator="3272:3-3277:63" strict="false" xsi:type="As">
            <operand localId="7296" locator="3272:3-3277:40" path="dose" xsi:type="Property">
               <source localId="7295" locator="3272:3-3277:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7294" locator="3272:11-3277:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7293" locator="3272:11-3277:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7292" locator="3272:19-3277:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7291" locator="3272:19-3277:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7290" locator="3273:3-3276:65" xsi:type="Query">
                                 <source localId="7265" locator="3273:3-3273:24" alias="MR">
                                    <expression localId="7264" locator="3273:3-3273:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7289" locator="3274:5-3276:65" xsi:type="And">
                                    <operand localId="7279" locator="3274:11-3275:51" xsi:type="And">
                                       <operand localId="7273" locator="3274:11-3274:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7267" locator="3274:11-3274:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7272" locator="3274:24-3274:68" xsi:type="List">
                                             <element localId="7268" locator="3274:26-3274:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7269" locator="3274:35-3274:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7270" locator="3274:45-3274:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7271" locator="3274:56-3274:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7278" locator="3275:11-3275:51" xsi:type="IsFalse">
                                          <operand localId="7277" locator="3275:11-3275:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7275" locator="3275:20-3275:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7276" locator="3275:37-3275:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7288" locator="3276:11-3276:65" xsi:type="Equal">
                                       <operand localId="7285" locator="3276:11-3276:50" xsi:type="Last">
                                          <source localId="7284" locator="3276:16-3276:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7282" locator="3276:22-3276:43" path="reference" xsi:type="Property">
                                                   <source localId="7281" locator="3276:22-3276:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7283" locator="3276:46-3276:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7287" locator="3276:54-3276:65" path="id" xsi:type="Property">
                                             <source localId="7286" locator="3276:54-3276:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7297" locator="3277:45-3277:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7333" locator="3285:1-3291:46" name="Type of iron supplement dosage provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7333">
               <a:s>/*
  @dataElement: ANC.B10.DE92 Type of iron supplement dosage provided
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Whether the amount of iron prescribed is for daily or weekly intake
*/
define &quot;Type of iron supplement dosage provided&quot;:
  </a:s>
               <a:s r="7332">
                  <a:s r="7331">
                     <a:s r="7330">
                        <a:s r="7329">
                           <a:s r="7328">
                              <a:s r="7300">
                                 <a:s>WC</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7328">
                                 <a:s>Only(
  </a:s>
                                 <a:s r="7327">
                                    <a:s>
                                       <a:s r="7302">
                                          <a:s r="7301">
                                             <a:s r="7301">
                                                <a:s>[MedicationRequest]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> MR</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    </a:s>
                                    <a:s r="7326">
                                       <a:s>where </a:s>
                                       <a:s r="7326">
                                          <a:s r="7316">
                                             <a:s r="7310">
                                                <a:s r="7304">
                                                   <a:s r="7303">
                                                      <a:s>MR</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="7304">
                                                      <a:s>status</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> in </a:s>
                                                <a:s r="7309">
                                                   <a:s>{ </a:s>
                                                   <a:s r="7305">
                                                      <a:s>'draft'</a:s>
                                                   </a:s>
                                                   <a:s>, </a:s>
                                                   <a:s r="7306">
                                                      <a:s>'active'</a:s>
                                                   </a:s>
                                                   <a:s>, </a:s>
                                                   <a:s r="7307">
                                                      <a:s>'on-hold'</a:s>
                                                   </a:s>
                                                   <a:s>, </a:s>
                                                   <a:s r="7308">
                                                      <a:s>'completed'</a:s>
                                                   </a:s>
                                                   <a:s> }</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
      and </a:s>
                                             <a:s r="7315">
                                                <a:s r="7314">
                                                   <a:s>Coalesce(</a:s>
                                                   <a:s r="7312">
                                                      <a:s r="7311">
                                                         <a:s>MR</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="7312">
                                                         <a:s>doNotPerform</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s r="7313">, false)</a:s>
                                                </a:s>
                                                <a:s> is false</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>
      and </a:s>
                                          <a:s r="7325">
                                             <a:s r="7322">
                                                <a:s>Last(</a:s>
                                                <a:s r="7321">
                                                   <a:s>Split(</a:s>
                                                   <a:s r="7319">
                                                      <a:s r="7318">
                                                         <a:s r="7317">
                                                            <a:s>MR</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="7318">
                                                            <a:s>encounter</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="7319">
                                                         <a:s>reference</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>, </a:s>
                                                   <a:s r="7320">
                                                      <a:s>'/'</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                             <a:s> = </a:s>
                                             <a:s r="7324">
                                                <a:s r="7323">
                                                   <a:s>Encounter</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7324">
                                                   <a:s>id</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
  )</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="7329">
                              <a:s>dosageInstruction</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7330">
                           <a:s>timing</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7331">
                        <a:s>repeat</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7332">
                     <a:s>periodUnit</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7332" locator="3286:3-3291:46" xsi:type="Query">
            <source alias="$this">
               <expression localId="7331" locator="3286:3-3291:35" xsi:type="Query">
                  <source alias="$this">
                     <expression localId="7330" locator="3286:3-3291:28" xsi:type="Query">
                        <source alias="$this">
                           <expression localId="7329" locator="3286:3-3291:21" path="dosageInstruction" xsi:type="Property">
                              <source localId="7328" locator="3286:3-3291:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                                 <operand localId="7327" locator="3287:3-3290:65" xsi:type="Query">
                                    <source localId="7302" locator="3287:3-3287:24" alias="MR">
                                       <expression localId="7301" locator="3287:3-3287:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                    </source>
                                    <where localId="7326" locator="3288:5-3290:65" xsi:type="And">
                                       <operand localId="7316" locator="3288:11-3289:51" xsi:type="And">
                                          <operand localId="7310" locator="3288:11-3288:68" xsi:type="In">
                                             <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7304" locator="3288:11-3288:19" path="status" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7309" locator="3288:24-3288:68" xsi:type="List">
                                                <element localId="7305" locator="3288:26-3288:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                                <element localId="7306" locator="3288:35-3288:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                                <element localId="7307" locator="3288:45-3288:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                                <element localId="7308" locator="3288:56-3288:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                             </operand>
                                          </operand>
                                          <operand localId="7315" locator="3289:11-3289:51" xsi:type="IsFalse">
                                             <operand localId="7314" locator="3289:11-3289:42" xsi:type="Coalesce">
                                                <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <operand localId="7312" locator="3289:20-3289:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                                </operand>
                                                <operand localId="7313" locator="3289:37-3289:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                             </operand>
                                          </operand>
                                       </operand>
                                       <operand localId="7325" locator="3290:11-3290:65" xsi:type="Equal">
                                          <operand localId="7322" locator="3290:11-3290:50" xsi:type="Last">
                                             <source localId="7321" locator="3290:16-3290:49" xsi:type="Split">
                                                <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                   <operand localId="7319" locator="3290:22-3290:43" path="reference" xsi:type="Property">
                                                      <source localId="7318" locator="3290:22-3290:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                   </operand>
                                                </stringToSplit>
                                                <separator localId="7320" locator="3290:46-3290:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                             </source>
                                          </operand>
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7324" locator="3290:54-3290:65" path="id" xsi:type="Property">
                                                <source localId="7323" locator="3290:54-3290:62" name="Encounter" xsi:type="ExpressionRef"/>
                                             </operand>
                                          </operand>
                                       </operand>
                                    </where>
                                 </operand>
                              </source>
                           </expression>
                        </source>
                        <where xsi:type="Not">
                           <operand xsi:type="IsNull">
                              <operand path="timing" xsi:type="Property">
                                 <source name="$this" xsi:type="AliasRef"/>
                              </operand>
                           </operand>
                        </where>
                        <return distinct="false">
                           <expression path="timing" xsi:type="Property">
                              <source name="$this" xsi:type="AliasRef"/>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <where xsi:type="Not">
                     <operand xsi:type="IsNull">
                        <operand path="repeat" xsi:type="Property">
                           <source name="$this" xsi:type="AliasRef"/>
                        </operand>
                     </operand>
                  </where>
                  <return distinct="false">
                     <expression path="repeat" xsi:type="Property">
                        <source name="$this" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </expression>
            </source>
            <where xsi:type="Not">
               <operand xsi:type="IsNull">
                  <operand path="periodUnit" xsi:type="Property">
                     <source name="$this" xsi:type="AliasRef"/>
                  </operand>
               </operand>
            </where>
            <return distinct="false">
               <expression path="periodUnit" xsi:type="Property">
                  <source name="$this" xsi:type="AliasRef"/>
               </expression>
            </return>
         </expression>
      </def>
      <def localId="7372" locator="3299:1-3305:63" name="Amount of vitamin A supplementation provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7372">
               <a:s>/*
  @dataElement: ANC.B10.DE100 Amount of vitamin A supplementation provided
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Amount of vitamin A supplementation provided in IU
*/
define &quot;Amount of vitamin A supplementation provided&quot;:
  </a:s>
               <a:s r="7371">
                  <a:s r="7369">
                     <a:s r="7368">
                        <a:s r="7334">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7368">
                           <a:s>Only(</a:s>
                           <a:s r="7367">
                              <a:s r="7366">
                                 <a:s r="7335">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7366">
                                    <a:s>Only(</a:s>
                                    <a:s r="7365">
                                       <a:s r="7364">
                                          <a:s r="7336">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7364">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7363">
                                                <a:s>
                                                   <a:s r="7338">
                                                      <a:s r="7337">
                                                         <a:s r="7337">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7362">
                                                   <a:s>where </a:s>
                                                   <a:s r="7362">
                                                      <a:s r="7352">
                                                         <a:s r="7346">
                                                            <a:s r="7340">
                                                               <a:s r="7339">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7340">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7345">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7341">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7342">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7343">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7344">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7351">
                                                            <a:s r="7350">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7348">
                                                                  <a:s r="7347">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7348">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7349">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7361">
                                                         <a:s r="7358">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7357">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7355">
                                                                  <a:s r="7354">
                                                                     <a:s r="7353">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7354">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7355">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7356">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7360">
                                                            <a:s r="7359">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7360">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7365">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7367">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7369">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7370">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7371" locator="3300:3-3305:63" strict="false" xsi:type="As">
            <operand localId="7369" locator="3300:3-3305:40" path="dose" xsi:type="Property">
               <source localId="7368" locator="3300:3-3305:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7367" locator="3300:11-3305:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7366" locator="3300:11-3305:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7365" locator="3300:19-3305:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7364" locator="3300:19-3305:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7363" locator="3301:3-3304:65" xsi:type="Query">
                                 <source localId="7338" locator="3301:3-3301:24" alias="MR">
                                    <expression localId="7337" locator="3301:3-3301:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7362" locator="3302:5-3304:65" xsi:type="And">
                                    <operand localId="7352" locator="3302:11-3303:51" xsi:type="And">
                                       <operand localId="7346" locator="3302:11-3302:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7340" locator="3302:11-3302:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7345" locator="3302:24-3302:68" xsi:type="List">
                                             <element localId="7341" locator="3302:26-3302:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7342" locator="3302:35-3302:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7343" locator="3302:45-3302:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7344" locator="3302:56-3302:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7351" locator="3303:11-3303:51" xsi:type="IsFalse">
                                          <operand localId="7350" locator="3303:11-3303:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7348" locator="3303:20-3303:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7349" locator="3303:37-3303:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7361" locator="3304:11-3304:65" xsi:type="Equal">
                                       <operand localId="7358" locator="3304:11-3304:50" xsi:type="Last">
                                          <source localId="7357" locator="3304:16-3304:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7355" locator="3304:22-3304:43" path="reference" xsi:type="Property">
                                                   <source localId="7354" locator="3304:22-3304:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7356" locator="3304:46-3304:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7360" locator="3304:54-3304:65" path="id" xsi:type="Property">
                                             <source localId="7359" locator="3304:54-3304:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7370" locator="3305:45-3305:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7408" locator="3313:1-3319:47" name="Type of vitamin A supplement dosage provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7408">
               <a:s>/*
  @dataElement: ANC.B10.DE101 Type of vitamin A supplement dosage provided
  @activity: ANC.B10.5 Nutrition supplementation
  @description: Whether the amount of vitamin A prescribed is for daily or weekly intake
*/
define &quot;Type of vitamin A supplement dosage provided&quot;:
  </a:s>
               <a:s r="7407">
                  <a:s r="7406">
                     <a:s r="7405">
                        <a:s r="7404">
                           <a:s r="7373">
                              <a:s>WC</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="7404">
                              <a:s>Only(</a:s>
                              <a:s r="7403">
                                 <a:s r="7402">
                                    <a:s r="7374">
                                       <a:s>WC</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7402">
                                       <a:s>Only(
  </a:s>
                                       <a:s r="7401">
                                          <a:s>
                                             <a:s r="7376">
                                                <a:s r="7375">
                                                   <a:s r="7375">
                                                      <a:s>[MedicationRequest]</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> MR</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>
    </a:s>
                                          <a:s r="7400">
                                             <a:s>where </a:s>
                                             <a:s r="7400">
                                                <a:s r="7390">
                                                   <a:s r="7384">
                                                      <a:s r="7378">
                                                         <a:s r="7377">
                                                            <a:s>MR</a:s>
                                                         </a:s>
                                                         <a:s>.</a:s>
                                                         <a:s r="7378">
                                                            <a:s>status</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> in </a:s>
                                                      <a:s r="7383">
                                                         <a:s>{ </a:s>
                                                         <a:s r="7379">
                                                            <a:s>'draft'</a:s>
                                                         </a:s>
                                                         <a:s>, </a:s>
                                                         <a:s r="7380">
                                                            <a:s>'active'</a:s>
                                                         </a:s>
                                                         <a:s>, </a:s>
                                                         <a:s r="7381">
                                                            <a:s>'on-hold'</a:s>
                                                         </a:s>
                                                         <a:s>, </a:s>
                                                         <a:s r="7382">
                                                            <a:s>'completed'</a:s>
                                                         </a:s>
                                                         <a:s> }</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
      and </a:s>
                                                   <a:s r="7389">
                                                      <a:s r="7388">
                                                         <a:s>Coalesce(</a:s>
                                                         <a:s r="7386">
                                                            <a:s r="7385">
                                                               <a:s>MR</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7386">
                                                               <a:s>doNotPerform</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="7387">, false)</a:s>
                                                      </a:s>
                                                      <a:s> is false</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
      and </a:s>
                                                <a:s r="7399">
                                                   <a:s r="7396">
                                                      <a:s>Last(</a:s>
                                                      <a:s r="7395">
                                                         <a:s>Split(</a:s>
                                                         <a:s r="7393">
                                                            <a:s r="7392">
                                                               <a:s r="7391">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7392">
                                                                  <a:s>encounter</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7393">
                                                               <a:s>reference</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>, </a:s>
                                                         <a:s r="7394">
                                                            <a:s>'/'</a:s>
                                                         </a:s>
                                                         <a:s>)</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                   <a:s> = </a:s>
                                                   <a:s r="7398">
                                                      <a:s r="7397">
                                                         <a:s>Encounter</a:s>
                                                      </a:s>
                                                      <a:s>.</a:s>
                                                      <a:s r="7398">
                                                         <a:s>id</a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
  )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7403">
                                    <a:s>dosageInstruction</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7405">
                           <a:s>timing</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7406">
                        <a:s>repeat</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7407">
                     <a:s>periodUnit</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7407" locator="3314:3-3319:47" path="periodUnit" xsi:type="Property">
            <source localId="7406" locator="3314:3-3319:36" path="repeat" xsi:type="Property">
               <source localId="7405" locator="3314:3-3319:29" path="timing" xsi:type="Property">
                  <source localId="7404" locator="3314:3-3319:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                     <operand localId="7403" locator="3314:11-3319:21" path="dosageInstruction" xsi:type="Property">
                        <source localId="7402" locator="3314:11-3319:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                           <operand localId="7401" locator="3315:3-3318:65" xsi:type="Query">
                              <source localId="7376" locator="3315:3-3315:24" alias="MR">
                                 <expression localId="7375" locator="3315:3-3315:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                              </source>
                              <where localId="7400" locator="3316:5-3318:65" xsi:type="And">
                                 <operand localId="7390" locator="3316:11-3317:51" xsi:type="And">
                                    <operand localId="7384" locator="3316:11-3316:68" xsi:type="In">
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7378" locator="3316:11-3316:19" path="status" scope="MR" xsi:type="Property"/>
                                       </operand>
                                       <operand localId="7383" locator="3316:24-3316:68" xsi:type="List">
                                          <element localId="7379" locator="3316:26-3316:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                          <element localId="7380" locator="3316:35-3316:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                          <element localId="7381" locator="3316:45-3316:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                          <element localId="7382" locator="3316:56-3316:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                       </operand>
                                    </operand>
                                    <operand localId="7389" locator="3317:11-3317:51" xsi:type="IsFalse">
                                       <operand localId="7388" locator="3317:11-3317:42" xsi:type="Coalesce">
                                          <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7386" locator="3317:20-3317:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7387" locator="3317:37-3317:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="7399" locator="3318:11-3318:65" xsi:type="Equal">
                                    <operand localId="7396" locator="3318:11-3318:50" xsi:type="Last">
                                       <source localId="7395" locator="3318:16-3318:49" xsi:type="Split">
                                          <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7393" locator="3318:22-3318:43" path="reference" xsi:type="Property">
                                                <source localId="7392" locator="3318:22-3318:33" path="encounter" scope="MR" xsi:type="Property"/>
                                             </operand>
                                          </stringToSplit>
                                          <separator localId="7394" locator="3318:46-3318:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                       </source>
                                    </operand>
                                    <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                       <operand localId="7398" locator="3318:54-3318:65" path="id" xsi:type="Property">
                                          <source localId="7397" locator="3318:54-3318:62" name="Encounter" xsi:type="ExpressionRef"/>
                                       </operand>
                                    </operand>
                                 </operand>
                              </where>
                           </operand>
                        </source>
                     </operand>
                  </source>
               </source>
            </source>
         </expression>
      </def>
      <def localId="7443" locator="3327:1-3333:33" name="Preventive antihelminthic treatment provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7443">
               <a:s>/*
  @dataElement: ANC.B10.DE233 Preventive antihelminthic treatment provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Preventive antihelminthic treatment was provided
*/
define &quot;Preventive antihelminthic treatment provided&quot;:
  </a:s>
               <a:s r="7442">
                  <a:s r="7440">
                     <a:s r="7439">
                        <a:s r="7409">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7439">
                           <a:s>Only(
  </a:s>
                           <a:s r="7438">
                              <a:s>
                                 <a:s r="7411">
                                    <a:s r="7410">
                                       <a:s r="7410">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Preventive antihelminthic treatment provided&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="7437">
                                 <a:s>where </a:s>
                                 <a:s r="7437">
                                    <a:s r="7427">
                                       <a:s r="7418">
                                          <a:s r="7413">
                                             <a:s r="7412">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7413">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="7417">
                                             <a:s>{ </a:s>
                                             <a:s r="7414">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="7415">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="7416">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="7426">
                                          <a:s r="7425">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="7423">
                                                <a:s r="7422">
                                                   <a:s r="7419">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="7422">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="7420">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="7421">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7423">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="7424">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7436">
                                       <a:s r="7433">
                                          <a:s>Last(</a:s>
                                          <a:s r="7432">
                                             <a:s>Split(</a:s>
                                             <a:s r="7430">
                                                <a:s r="7429">
                                                   <a:s r="7428">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="7429">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7430">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="7431">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="7435">
                                          <a:s r="7434">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7435">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7440">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7441">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7442" locator="3328:3-3333:33" strict="false" xsi:type="As">
            <operand localId="7440" locator="3328:3-3333:9" path="value" xsi:type="Property">
               <source localId="7439" locator="3328:3-3333:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7438" locator="3329:3-3332:64" xsi:type="Query">
                     <source localId="7411" locator="3329:3-3329:68" alias="O">
                        <expression localId="7410" locator="3329:3-3329:66" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="3329:17-3329:65" name="Preventive antihelminthic treatment provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="7437" locator="3330:5-3332:64" xsi:type="And">
                        <operand localId="7427" locator="3330:11-3331:80" xsi:type="And">
                           <operand localId="7418" locator="3330:11-3330:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7413" locator="3330:11-3330:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="7417" locator="3330:23-3330:57" xsi:type="List">
                                 <element localId="7414" locator="3330:25-3330:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="7415" locator="3330:34-3330:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="7416" locator="3330:45-3330:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="7426" locator="3331:11-3331:80" xsi:type="IsFalse">
                              <operand localId="7425" locator="3331:11-3331:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="7423" locator="3331:20-3331:63" path="value" xsi:type="Property">
                                          <source localId="7422" locator="3331:20-3331:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="7420" locator="3331:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="7421" locator="3331:44-3331:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="7424" locator="3331:66-3331:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="7436" locator="3332:11-3332:64" xsi:type="Equal">
                           <operand localId="7433" locator="3332:11-3332:49" xsi:type="Last">
                              <source localId="7432" locator="3332:16-3332:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="7430" locator="3332:22-3332:42" path="reference" xsi:type="Property">
                                       <source localId="7429" locator="3332:22-3332:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="7431" locator="3332:45-3332:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7435" locator="3332:53-3332:64" path="id" xsi:type="Property">
                                 <source localId="7434" locator="3332:53-3332:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7441" locator="3333:14-3333:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7472" locator="3341:1-3347:8" name="Reason no preventative treatment provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7472">
               <a:s>/*
  @dataElement: ANC.B10.DE237 Reason no preventative treatment provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Select the reason why the treatment was not given
*/
define &quot;Reason no preventative treatment provided&quot;:
  </a:s>
               <a:s r="7471">
                  <a:s r="7470">
                     <a:s r="7444">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7470">
                        <a:s>Only(
  </a:s>
                        <a:s r="7469">
                           <a:s>
                              <a:s r="7446">
                                 <a:s r="7445">
                                    <a:s r="7445">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason no preventative treatment provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SNR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7468">
                              <a:s>where </a:s>
                              <a:s r="7468">
                                 <a:s r="7458">
                                    <a:s r="7454">
                                       <a:s r="7448">
                                          <a:s r="7447">
                                             <a:s>SNR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7448">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7453">
                                          <a:s>{ </a:s>
                                          <a:s r="7449">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7450">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7451">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7452">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7457">
                                       <a:s r="7456">
                                          <a:s r="7455">
                                             <a:s>SNR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7456">
                                             <a:s>doNotPerform</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7467">
                                    <a:s r="7464">
                                       <a:s>Last(</a:s>
                                       <a:s r="7463">
                                          <a:s>Split(</a:s>
                                          <a:s r="7461">
                                             <a:s r="7460">
                                                <a:s r="7459">
                                                   <a:s>SNR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7460">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7461">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7462">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7466">
                                       <a:s r="7465">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7466">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7471">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7471" locator="3342:3-3347:8" path="code" xsi:type="Property">
            <source localId="7470" locator="3342:3-3347:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7469" locator="3343:3-3346:66" xsi:type="Query">
                  <source localId="7446" locator="3343:3-3343:70" alias="SNR">
                     <expression localId="7445" locator="3343:3-3343:66" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3343:20-3343:65" name="Reason no preventative treatment provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7468" locator="3344:5-3346:66" xsi:type="And">
                     <operand localId="7458" locator="3344:11-3345:34" xsi:type="And">
                        <operand localId="7454" locator="3344:11-3344:69" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7448" locator="3344:11-3344:20" path="status" scope="SNR" xsi:type="Property"/>
                           </operand>
                           <operand localId="7453" locator="3344:25-3344:69" xsi:type="List">
                              <element localId="7449" locator="3344:27-3344:33" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="7450" locator="3344:36-3344:43" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="7451" locator="3344:46-3344:54" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="7452" locator="3344:57-3344:67" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="7457" locator="3345:11-3345:34" xsi:type="IsTrue">
                           <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7456" locator="3345:11-3345:26" path="doNotPerform" scope="SNR" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7467" locator="3346:11-3346:66" xsi:type="Equal">
                        <operand localId="7464" locator="3346:11-3346:51" xsi:type="Last">
                           <source localId="7463" locator="3346:16-3346:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7461" locator="3346:22-3346:44" path="reference" xsi:type="Property">
                                    <source localId="7460" locator="3346:22-3346:34" path="encounter" scope="SNR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7462" locator="3346:47-3346:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7466" locator="3346:55-3346:66" path="id" xsi:type="Property">
                              <source localId="7465" locator="3346:55-3346:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7494" locator="3355:1-3358:64" name="Counselling conducted on malaria prevention" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7494">
               <a:s>/*
  @dataElement: ANC.B10.DE241 Counselling conducted on malaria prevention
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Counselling provided on how to prevent malaria
*/
define &quot;Counselling conducted on malaria prevention&quot;:
  </a:s>
               <a:s r="7493">
                  <a:s>
                     <a:s r="7474">
                        <a:s r="7473">
                           <a:s r="7473">
                              <a:s>[Procedure: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Counselling conducted on malaria prevention&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> P</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7492">
                     <a:s>where </a:s>
                     <a:s r="7492">
                        <a:s r="7482">
                           <a:s r="7476">
                              <a:s r="7475">
                                 <a:s>P</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7476">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="7481">
                              <a:s>{ </a:s>
                              <a:s r="7477">
                                 <a:s>'preparation'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="7478">
                                 <a:s>'in-progress'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="7479">
                                 <a:s>'on-hold'</a:s>
                              </a:s>
                              <a:s>, </a:s>
                              <a:s r="7480">
                                 <a:s>'completed'</a:s>
                              </a:s>
                              <a:s> }</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7491">
                           <a:s r="7488">
                              <a:s>Last(</a:s>
                              <a:s r="7487">
                                 <a:s>Split(</a:s>
                                 <a:s r="7485">
                                    <a:s r="7484">
                                       <a:s r="7483">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7484">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7485">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7486">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7490">
                              <a:s r="7489">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7490">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7493" locator="3356:3-3358:64" xsi:type="Query">
            <source localId="7474" locator="3356:3-3356:65" alias="P">
               <expression localId="7473" locator="3356:3-3356:63" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3356:15-3356:62" name="Counselling conducted on malaria prevention" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7492" locator="3357:5-3358:64" xsi:type="And">
               <operand localId="7482" locator="3357:11-3357:78" xsi:type="In">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7476" locator="3357:11-3357:18" path="status" scope="P" xsi:type="Property"/>
                  </operand>
                  <operand localId="7481" locator="3357:23-3357:78" xsi:type="List">
                     <element localId="7477" locator="3357:25-3357:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                     <element localId="7478" locator="3357:40-3357:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                     <element localId="7479" locator="3357:55-3357:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                     <element localId="7480" locator="3357:66-3357:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="7491" locator="3358:11-3358:64" xsi:type="Equal">
                  <operand localId="7488" locator="3358:11-3358:49" xsi:type="Last">
                     <source localId="7487" locator="3358:16-3358:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7485" locator="3358:22-3358:42" path="reference" xsi:type="Property">
                              <source localId="7484" locator="3358:22-3358:32" path="encounter" scope="P" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7486" locator="3358:45-3358:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7490" locator="3358:53-3358:64" path="id" xsi:type="Property">
                        <source localId="7489" locator="3358:53-3358:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7515" locator="3366:1-3371:8" name="Reason counselling on malaria prevention was not conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7515">
               <a:s>/*
  @dataElement: ANC.B10.DE242 Reason counselling on malaria prevention was not conducted
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Select the reason why the counselling was not given
*/
define &quot;Reason counselling on malaria prevention was not conducted&quot;:
  </a:s>
               <a:s r="7514">
                  <a:s r="7513">
                     <a:s r="7495">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7513">
                        <a:s>Only(
  </a:s>
                        <a:s r="7512">
                           <a:s>
                              <a:s r="7497">
                                 <a:s r="7496">
                                    <a:s r="7496">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on malaria prevention&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7511">
                              <a:s>where </a:s>
                              <a:s r="7511">
                                 <a:s r="7501">
                                    <a:s r="7499">
                                       <a:s r="7498">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7499">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7500">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7510">
                                    <a:s r="7507">
                                       <a:s>Last(</a:s>
                                       <a:s r="7506">
                                          <a:s>Split(</a:s>
                                          <a:s r="7504">
                                             <a:s r="7503">
                                                <a:s r="7502">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7503">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7504">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7505">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7509">
                                       <a:s r="7508">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7509">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7514">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7514" locator="3367:3-3371:8" path="code" xsi:type="Property">
            <source localId="7513" locator="3367:3-3371:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7512" locator="3368:3-3370:66" xsi:type="Query">
                  <source localId="7497" locator="3368:3-3368:67" alias="PND">
                     <expression localId="7496" locator="3368:3-3368:63" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3368:15-3368:62" name="Counselling conducted on malaria prevention" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7511" locator="3369:5-3370:66" xsi:type="And">
                     <operand localId="7501" locator="3369:11-3369:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7499" locator="3369:11-3369:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="7500" locator="3369:24-3369:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="7510" locator="3370:11-3370:66" xsi:type="Equal">
                        <operand localId="7507" locator="3370:11-3370:51" xsi:type="Last">
                           <source localId="7506" locator="3370:16-3370:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7504" locator="3370:22-3370:44" path="reference" xsi:type="Property">
                                    <source localId="7503" locator="3370:22-3370:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7505" locator="3370:47-3370:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7509" locator="3370:55-3370:66" path="id" xsi:type="Property">
                              <source localId="7508" locator="3370:55-3370:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7536" locator="3379:1-3383:26" name="Reason malaria prophylaxis not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7536">
               <a:s>/*
  @dataElement: ANC.B10.DE251 Reason malaria prophylaxis not provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Select the reason why the treatment was not given
*/
define &quot;Reason malaria prophylaxis not provided&quot;:
  </a:s>
               <a:s r="7535">
                  <a:s>
                     <a:s r="7517">
                        <a:s r="7516">
                           <a:s r="7516">
                              <a:s>[Immunization: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Malaria Prophylaxis&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> IND</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7531">
                     <a:s>where </a:s>
                     <a:s r="7531">
                        <a:s r="7521">
                           <a:s r="7519">
                              <a:s r="7518">
                                 <a:s>IND</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7519">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7520">
                              <a:s>'not-done'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7530">
                           <a:s r="7527">
                              <a:s>Last(</a:s>
                              <a:s r="7526">
                                 <a:s>Split(</a:s>
                                 <a:s r="7524">
                                    <a:s r="7523">
                                       <a:s r="7522">
                                          <a:s>IND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7523">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7524">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7525">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7529">
                              <a:s r="7528">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7529">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7534">
                     <a:s>return </a:s>
                     <a:s r="7533">
                        <a:s r="7532">
                           <a:s>IND</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7533">
                           <a:s>vaccineCode</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7535" locator="3380:3-3383:26" xsi:type="Query">
            <source localId="7517" locator="3380:3-3380:46" alias="IND">
               <expression localId="7516" locator="3380:3-3380:42" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3380:18-3380:41" name="Malaria Prophylaxis" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7531" locator="3381:5-3382:66" xsi:type="And">
               <operand localId="7521" locator="3381:11-3381:33" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7519" locator="3381:11-3381:20" path="status" scope="IND" xsi:type="Property"/>
                  </operand>
                  <operand localId="7520" locator="3381:24-3381:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
               </operand>
               <operand localId="7530" locator="3382:11-3382:66" xsi:type="Equal">
                  <operand localId="7527" locator="3382:11-3382:51" xsi:type="Last">
                     <source localId="7526" locator="3382:16-3382:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7524" locator="3382:22-3382:44" path="reference" xsi:type="Property">
                              <source localId="7523" locator="3382:22-3382:34" path="encounter" scope="IND" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7525" locator="3382:47-3382:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7529" locator="3382:55-3382:66" path="id" xsi:type="Property">
                        <source localId="7528" locator="3382:55-3382:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="7534" locator="3383:5-3383:26">
               <expression localId="7533" locator="3383:12-3383:26" path="vaccineCode" scope="IND" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="7554" locator="3391:1-3394:64" name="IPTp-SP dose 1 provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7554">
               <a:s>/*
  @dataElement: ANC.B10.DE245 IPTp-SP dose 1 provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Whether or not IPTp-SP dose 1 was provided
*/
define &quot;IPTp-SP dose 1 provided&quot;:
  </a:s>
               <a:s r="7553">
                  <a:s>
                     <a:s r="7538">
                        <a:s r="7537">
                           <a:s r="7537">
                              <a:s>[Immunization: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;IPTp-SP dose 1 provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7552">
                     <a:s>where </a:s>
                     <a:s r="7552">
                        <a:s r="7542">
                           <a:s r="7540">
                              <a:s r="7539">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7540">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7541">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7551">
                           <a:s r="7548">
                              <a:s>Last(</a:s>
                              <a:s r="7547">
                                 <a:s>Split(</a:s>
                                 <a:s r="7545">
                                    <a:s r="7544">
                                       <a:s r="7543">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7544">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7545">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7546">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7550">
                              <a:s r="7549">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7550">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7553" locator="3392:3-3394:64" xsi:type="Query">
            <source localId="7538" locator="3392:3-3392:48" alias="I">
               <expression localId="7537" locator="3392:3-3392:46" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3392:18-3392:45" name="IPTp-SP dose 1 provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7552" locator="3393:5-3394:64" xsi:type="And">
               <operand localId="7542" locator="3393:11-3393:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7540" locator="3393:11-3393:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7541" locator="3393:22-3393:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7551" locator="3394:11-3394:64" xsi:type="Equal">
                  <operand localId="7548" locator="3394:11-3394:49" xsi:type="Last">
                     <source localId="7547" locator="3394:16-3394:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7545" locator="3394:22-3394:42" path="reference" xsi:type="Property">
                              <source localId="7544" locator="3394:22-3394:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7546" locator="3394:45-3394:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7550" locator="3394:53-3394:64" path="id" xsi:type="Property">
                        <source localId="7549" locator="3394:53-3394:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7572" locator="3402:1-3405:64" name="IPTp-SP dose 1 date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7572">
               <a:s>/*
  @dataElement: ANC.B10.DE246 IPTp-SP dose 1 date
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Date IPTp-SP dose 1 given
*/
define &quot;IPTp-SP dose 1 date&quot;:
  </a:s>
               <a:s r="7571">
                  <a:s>
                     <a:s r="7556">
                        <a:s r="7555">
                           <a:s r="7555">
                              <a:s>[Immunization]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7570">
                     <a:s>where </a:s>
                     <a:s r="7570">
                        <a:s r="7560">
                           <a:s r="7558">
                              <a:s r="7557">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7558">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7559">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7569">
                           <a:s r="7566">
                              <a:s>Last(</a:s>
                              <a:s r="7565">
                                 <a:s>Split(</a:s>
                                 <a:s r="7563">
                                    <a:s r="7562">
                                       <a:s r="7561">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7562">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7563">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7564">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7568">
                              <a:s r="7567">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7568">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7571" locator="3403:3-3405:64" xsi:type="Query">
            <source localId="7556" locator="3403:3-3403:18" alias="I">
               <expression localId="7555" locator="3403:3-3403:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
            </source>
            <where localId="7570" locator="3404:5-3405:64" xsi:type="And">
               <operand localId="7560" locator="3404:11-3404:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7558" locator="3404:11-3404:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7559" locator="3404:22-3404:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7569" locator="3405:11-3405:64" xsi:type="Equal">
                  <operand localId="7566" locator="3405:11-3405:49" xsi:type="Last">
                     <source localId="7565" locator="3405:16-3405:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7563" locator="3405:22-3405:42" path="reference" xsi:type="Property">
                              <source localId="7562" locator="3405:22-3405:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7564" locator="3405:45-3405:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7568" locator="3405:53-3405:64" path="id" xsi:type="Property">
                        <source localId="7567" locator="3405:53-3405:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7590" locator="3413:1-3416:64" name="IPTp-SP dose 2 provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7590">
               <a:s>/*
  @dataElement: ANC.B10.DE247 IPTp-SP dose 2 provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Whether or not IPTp-SP dose 2 was provided
*/
define &quot;IPTp-SP dose 2 provided&quot;:
  </a:s>
               <a:s r="7589">
                  <a:s>
                     <a:s r="7574">
                        <a:s r="7573">
                           <a:s r="7573">
                              <a:s>[Immunization: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;IPTp-SP dose 2 provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7588">
                     <a:s>where </a:s>
                     <a:s r="7588">
                        <a:s r="7578">
                           <a:s r="7576">
                              <a:s r="7575">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7576">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7577">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7587">
                           <a:s r="7584">
                              <a:s>Last(</a:s>
                              <a:s r="7583">
                                 <a:s>Split(</a:s>
                                 <a:s r="7581">
                                    <a:s r="7580">
                                       <a:s r="7579">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7580">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7581">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7582">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7586">
                              <a:s r="7585">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7586">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7589" locator="3414:3-3416:64" xsi:type="Query">
            <source localId="7574" locator="3414:3-3414:48" alias="I">
               <expression localId="7573" locator="3414:3-3414:46" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3414:18-3414:45" name="IPTp-SP dose 2 provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7588" locator="3415:5-3416:64" xsi:type="And">
               <operand localId="7578" locator="3415:11-3415:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7576" locator="3415:11-3415:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7577" locator="3415:22-3415:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7587" locator="3416:11-3416:64" xsi:type="Equal">
                  <operand localId="7584" locator="3416:11-3416:49" xsi:type="Last">
                     <source localId="7583" locator="3416:16-3416:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7581" locator="3416:22-3416:42" path="reference" xsi:type="Property">
                              <source localId="7580" locator="3416:22-3416:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7582" locator="3416:45-3416:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7586" locator="3416:53-3416:64" path="id" xsi:type="Property">
                        <source localId="7585" locator="3416:53-3416:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7608" locator="3424:1-3427:64" name="IPTp-SP dose 2 date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7608">
               <a:s>/*
  @dataElement: ANC.B10.DE248 IPTp-SP dose 2 date
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Date IPTp-SP dose 2 given
*/
define &quot;IPTp-SP dose 2 date&quot;:
  </a:s>
               <a:s r="7607">
                  <a:s>
                     <a:s r="7592">
                        <a:s r="7591">
                           <a:s r="7591">
                              <a:s>[Immunization]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7606">
                     <a:s>where </a:s>
                     <a:s r="7606">
                        <a:s r="7596">
                           <a:s r="7594">
                              <a:s r="7593">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7594">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7595">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7605">
                           <a:s r="7602">
                              <a:s>Last(</a:s>
                              <a:s r="7601">
                                 <a:s>Split(</a:s>
                                 <a:s r="7599">
                                    <a:s r="7598">
                                       <a:s r="7597">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7598">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7599">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7600">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7604">
                              <a:s r="7603">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7604">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7607" locator="3425:3-3427:64" xsi:type="Query">
            <source localId="7592" locator="3425:3-3425:18" alias="I">
               <expression localId="7591" locator="3425:3-3425:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
            </source>
            <where localId="7606" locator="3426:5-3427:64" xsi:type="And">
               <operand localId="7596" locator="3426:11-3426:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7594" locator="3426:11-3426:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7595" locator="3426:22-3426:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7605" locator="3427:11-3427:64" xsi:type="Equal">
                  <operand localId="7602" locator="3427:11-3427:49" xsi:type="Last">
                     <source localId="7601" locator="3427:16-3427:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7599" locator="3427:22-3427:42" path="reference" xsi:type="Property">
                              <source localId="7598" locator="3427:22-3427:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7600" locator="3427:45-3427:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7604" locator="3427:53-3427:64" path="id" xsi:type="Property">
                        <source localId="7603" locator="3427:53-3427:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7626" locator="3435:1-3438:64" name="IPTp-SP dose 3 provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7626">
               <a:s>/*
  @dataElement: ANC.B10.DE249 IPTp-SP dose 3 provided
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Whether or not IPTp-SP dose 3 was provided
*/
define &quot;IPTp-SP dose 3 provided&quot;:
  </a:s>
               <a:s r="7625">
                  <a:s>
                     <a:s r="7610">
                        <a:s r="7609">
                           <a:s r="7609">
                              <a:s>[Immunization: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;IPTp-SP dose 3 provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7624">
                     <a:s>where </a:s>
                     <a:s r="7624">
                        <a:s r="7614">
                           <a:s r="7612">
                              <a:s r="7611">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7612">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7613">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7623">
                           <a:s r="7620">
                              <a:s>Last(</a:s>
                              <a:s r="7619">
                                 <a:s>Split(</a:s>
                                 <a:s r="7617">
                                    <a:s r="7616">
                                       <a:s r="7615">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7616">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7617">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7618">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7622">
                              <a:s r="7621">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7622">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7625" locator="3436:3-3438:64" xsi:type="Query">
            <source localId="7610" locator="3436:3-3436:48" alias="I">
               <expression localId="7609" locator="3436:3-3436:46" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3436:18-3436:45" name="IPTp-SP dose 3 provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7624" locator="3437:5-3438:64" xsi:type="And">
               <operand localId="7614" locator="3437:11-3437:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7612" locator="3437:11-3437:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7613" locator="3437:22-3437:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7623" locator="3438:11-3438:64" xsi:type="Equal">
                  <operand localId="7620" locator="3438:11-3438:49" xsi:type="Last">
                     <source localId="7619" locator="3438:16-3438:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7617" locator="3438:22-3438:42" path="reference" xsi:type="Property">
                              <source localId="7616" locator="3438:22-3438:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7618" locator="3438:45-3438:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7622" locator="3438:53-3438:64" path="id" xsi:type="Property">
                        <source localId="7621" locator="3438:53-3438:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7644" locator="3446:1-3449:64" name="IPTp-SP dose 3 date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7644">
               <a:s>/*
  @dataElement: ANC.B10.DE250 IPTp-SP dose 3 date
  @activity: ANC.B10.9 Deworming &amp; malaria prophylaxis
  @description: Date IPTp-SP dose 3 given
*/
define &quot;IPTp-SP dose 3 date&quot;:
  </a:s>
               <a:s r="7643">
                  <a:s>
                     <a:s r="7628">
                        <a:s r="7627">
                           <a:s r="7627">
                              <a:s>[Immunization]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7642">
                     <a:s>where </a:s>
                     <a:s r="7642">
                        <a:s r="7632">
                           <a:s r="7630">
                              <a:s r="7629">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7630">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7631">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7641">
                           <a:s r="7638">
                              <a:s>Last(</a:s>
                              <a:s r="7637">
                                 <a:s>Split(</a:s>
                                 <a:s r="7635">
                                    <a:s r="7634">
                                       <a:s r="7633">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7634">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7635">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7636">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7640">
                              <a:s r="7639">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7640">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7643" locator="3447:3-3449:64" xsi:type="Query">
            <source localId="7628" locator="3447:3-3447:18" alias="I">
               <expression localId="7627" locator="3447:3-3447:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
            </source>
            <where localId="7642" locator="3448:5-3449:64" xsi:type="And">
               <operand localId="7632" locator="3448:11-3448:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7630" locator="3448:11-3448:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="7631" locator="3448:22-3448:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="7641" locator="3449:11-3449:64" xsi:type="Equal">
                  <operand localId="7638" locator="3449:11-3449:49" xsi:type="Last">
                     <source localId="7637" locator="3449:16-3449:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7635" locator="3449:22-3449:42" path="reference" xsi:type="Property">
                              <source localId="7634" locator="3449:22-3449:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7636" locator="3449:45-3449:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7640" locator="3449:53-3449:64" path="id" xsi:type="Property">
                        <source localId="7639" locator="3449:53-3449:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="7675" locator="3457:1-3463:8" name="Referred to hospital" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7675">
               <a:s>/*
  @dataElement: ANC.B10.DE256 Referred to hospital
  @activity: ANC.B11. Urgent referral needed?
  @description: Whether or not the health worker referred the woman to a hospital or higher-level facility
*/
define &quot;Referred to hospital&quot;:
  </a:s>
               <a:s r="7674">
                  <a:s r="7673">
                     <a:s r="7645">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7673">
                        <a:s>Only(
  </a:s>
                        <a:s r="7672">
                           <a:s>
                              <a:s r="7647">
                                 <a:s r="7646">
                                    <a:s r="7646">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Referral to Hospital&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7671">
                              <a:s>where </a:s>
                              <a:s r="7671">
                                 <a:s r="7661">
                                    <a:s r="7655">
                                       <a:s r="7649">
                                          <a:s r="7648">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7649">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7654">
                                          <a:s>{ </a:s>
                                          <a:s r="7650">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7651">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7652">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7653">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7660">
                                       <a:s r="7659">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="7657">
                                             <a:s r="7656">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7657">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="7658">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7670">
                                    <a:s r="7667">
                                       <a:s>Last(</a:s>
                                       <a:s r="7666">
                                          <a:s>Split(</a:s>
                                          <a:s r="7664">
                                             <a:s r="7663">
                                                <a:s r="7662">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7663">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7664">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7665">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7669">
                                       <a:s r="7668">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7669">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7674">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7674" locator="3458:3-3463:8" path="code" xsi:type="Property">
            <source localId="7673" locator="3458:3-3463:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7672" locator="3459:3-3462:65" xsi:type="Query">
                  <source localId="7647" locator="3459:3-3459:48" alias="SR">
                     <expression localId="7646" locator="3459:3-3459:45" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3459:20-3459:44" name="Referral to Hospital" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7671" locator="3460:5-3462:65" xsi:type="And">
                     <operand localId="7661" locator="3460:11-3461:51" xsi:type="And">
                        <operand localId="7655" locator="3460:11-3460:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7649" locator="3460:11-3460:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="7654" locator="3460:24-3460:68" xsi:type="List">
                              <element localId="7650" locator="3460:26-3460:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="7651" locator="3460:35-3460:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="7652" locator="3460:45-3460:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="7653" locator="3460:56-3460:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="7660" locator="3461:11-3461:51" xsi:type="IsFalse">
                           <operand localId="7659" locator="3461:11-3461:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7657" locator="3461:20-3461:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="7658" locator="3461:37-3461:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7670" locator="3462:11-3462:65" xsi:type="Equal">
                        <operand localId="7667" locator="3462:11-3462:50" xsi:type="Last">
                           <source localId="7666" locator="3462:16-3462:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7664" locator="3462:22-3462:43" path="reference" xsi:type="Property">
                                    <source localId="7663" locator="3462:22-3462:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7665" locator="3462:46-3462:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7669" locator="3462:54-3462:65" path="id" xsi:type="Property">
                              <source localId="7668" locator="3462:54-3462:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7704" locator="3471:1-3476:19" name="Reason referral not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7704">
               <a:s>/*
  @dataElement: ANC.B10.DE257 Reason referral not done
  @activity: ANC.B11. Urgent referral needed?
  @description: The reason why the health worker did not refer the woman to a hospital or higher-level facility
*/
define &quot;Reason referral not done&quot;:
  </a:s>
               <a:s r="7703">
                  <a:s>
                     <a:s r="7677">
                        <a:s r="7676">
                           <a:s r="7676">
                              <a:s>[ServiceRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Referral to Hospital&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SNR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7699">
                     <a:s>where </a:s>
                     <a:s r="7699">
                        <a:s r="7689">
                           <a:s r="7685">
                              <a:s r="7679">
                                 <a:s r="7678">
                                    <a:s>SNR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7679">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="7684">
                                 <a:s>{ </a:s>
                                 <a:s r="7680">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7681">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7682">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7683">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="7688">
                              <a:s r="7687">
                                 <a:s r="7686">
                                    <a:s>SNR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7687">
                                    <a:s>doNotPerform</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7698">
                           <a:s r="7695">
                              <a:s>Last(</a:s>
                              <a:s r="7694">
                                 <a:s>Split(</a:s>
                                 <a:s r="7692">
                                    <a:s r="7691">
                                       <a:s r="7690">
                                          <a:s>SNR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7691">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7692">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7693">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7697">
                              <a:s r="7696">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7697">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7702">
                     <a:s>return </a:s>
                     <a:s r="7701">
                        <a:s r="7700">
                           <a:s>SNR</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7701">
                           <a:s>code</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7703" locator="3472:3-3476:19" xsi:type="Query">
            <source localId="7677" locator="3472:3-3472:49" alias="SNR">
               <expression localId="7676" locator="3472:3-3472:45" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3472:20-3472:44" name="Referral to Hospital" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7699" locator="3473:5-3475:66" xsi:type="And">
               <operand localId="7689" locator="3473:11-3474:34" xsi:type="And">
                  <operand localId="7685" locator="3473:11-3473:69" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7679" locator="3473:11-3473:20" path="status" scope="SNR" xsi:type="Property"/>
                     </operand>
                     <operand localId="7684" locator="3473:25-3473:69" xsi:type="List">
                        <element localId="7680" locator="3473:27-3473:33" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="7681" locator="3473:36-3473:43" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="7682" locator="3473:46-3473:54" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="7683" locator="3473:57-3473:67" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="7688" locator="3474:11-3474:34" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7687" locator="3474:11-3474:26" path="doNotPerform" scope="SNR" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="7698" locator="3475:11-3475:66" xsi:type="Equal">
                  <operand localId="7695" locator="3475:11-3475:51" xsi:type="Last">
                     <source localId="7694" locator="3475:16-3475:50" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7692" locator="3475:22-3475:44" path="reference" xsi:type="Property">
                              <source localId="7691" locator="3475:22-3475:34" path="encounter" scope="SNR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7693" locator="3475:47-3475:49" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7697" locator="3475:55-3475:66" path="id" xsi:type="Property">
                        <source localId="7696" locator="3475:55-3475:63" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="7702" locator="3476:5-3476:19">
               <expression localId="7701" locator="3476:12-3476:19" path="code" scope="SNR" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="7732" locator="3484:1-3490:8" name="Risk of pre-eclampsia" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7732">
               <a:s>/*
  @dataElement: ANC.B10.DE113 Risk of pre-eclampsia
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: The woman is at risk for developing pre-eclampsia
*/
define &quot;Risk of pre-eclampsia&quot;:
  </a:s>
               <a:s r="7731">
                  <a:s r="7730">
                     <a:s r="7705">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7730">
                        <a:s>Only(
  </a:s>
                        <a:s r="7729">
                           <a:s>
                              <a:s r="7707">
                                 <a:s r="7706">
                                    <a:s r="7706">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Risk of pre-eclampsia&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7728">
                              <a:s>where </a:s>
                              <a:s r="7728">
                                 <a:s r="7718">
                                    <a:s r="7712">
                                       <a:s r="7709">
                                          <a:s r="7708">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7709">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7711">
                                          <a:s r="7710">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7711">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7717">
                                       <a:s r="7714">
                                          <a:s r="7713">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7714">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="7716">
                                          <a:s r="7715">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7716">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7727">
                                    <a:s r="7724">
                                       <a:s>Last(</a:s>
                                       <a:s r="7723">
                                          <a:s>Split(</a:s>
                                          <a:s r="7721">
                                             <a:s r="7720">
                                                <a:s r="7719">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7720">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7721">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7722">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7726">
                                       <a:s r="7725">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7726">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7731">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7731" locator="3485:3-3490:8" path="code" xsi:type="Property">
            <source localId="7730" locator="3485:3-3490:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7729" locator="3486:3-3489:64" xsi:type="Query">
                  <source localId="7707" locator="3486:3-3486:43" alias="C">
                     <expression localId="7706" locator="3486:3-3486:41" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3486:15-3486:40" name="Risk of pre-eclampsia" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7728" locator="3487:5-3489:64" xsi:type="And">
                     <operand localId="7718" locator="3487:11-3488:47" xsi:type="And">
                        <operand localId="7712" locator="3487:11-3487:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7709" locator="3487:11-3487:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="7711" locator="3487:31-3487:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="7717" locator="3488:11-3488:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7714" locator="3488:11-3488:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="7716" locator="3488:34-3488:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7727" locator="3489:11-3489:64" xsi:type="Equal">
                        <operand localId="7724" locator="3489:11-3489:49" xsi:type="Last">
                           <source localId="7723" locator="3489:16-3489:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7721" locator="3489:22-3489:42" path="reference" xsi:type="Property">
                                    <source localId="7720" locator="3489:22-3489:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7722" locator="3489:45-3489:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7726" locator="3489:53-3489:64" path="id" xsi:type="Property">
                              <source localId="7725" locator="3489:53-3489:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7757" locator="3498:1-3503:8" name="Pre-eclampsia risk counselling provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7757">
               <a:s>/*
  @dataElement: ANC.B10.DE114 Pre-eclampsia risk counselling provided
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Whether or not counselling on pre-eclampsia was provided
*/
define &quot;Pre-eclampsia risk counselling provided&quot;:
  </a:s>
               <a:s r="7756">
                  <a:s r="7755">
                     <a:s r="7733">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7755">
                        <a:s>Only(
  </a:s>
                        <a:s r="7754">
                           <a:s>
                              <a:s r="7735">
                                 <a:s r="7734">
                                    <a:s r="7734">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Pre-eclampsia risk counselling provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7753">
                              <a:s>where </a:s>
                              <a:s r="7753">
                                 <a:s r="7743">
                                    <a:s r="7737">
                                       <a:s r="7736">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7737">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7742">
                                       <a:s>{ </a:s>
                                       <a:s r="7738">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7739">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7740">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7741">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7752">
                                    <a:s r="7749">
                                       <a:s>Last(</a:s>
                                       <a:s r="7748">
                                          <a:s>Split(</a:s>
                                          <a:s r="7746">
                                             <a:s r="7745">
                                                <a:s r="7744">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7745">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7746">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7747">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7751">
                                       <a:s r="7750">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7751">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7756">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7756" locator="3499:3-3503:8" path="code" xsi:type="Property">
            <source localId="7755" locator="3499:3-3503:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7754" locator="3500:3-3502:64" xsi:type="Query">
                  <source localId="7735" locator="3500:3-3500:61" alias="P">
                     <expression localId="7734" locator="3500:3-3500:59" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3500:15-3500:58" name="Pre-eclampsia risk counselling provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7753" locator="3501:5-3502:64" xsi:type="And">
                     <operand localId="7743" locator="3501:11-3501:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7737" locator="3501:11-3501:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7742" locator="3501:23-3501:78" xsi:type="List">
                           <element localId="7738" locator="3501:25-3501:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7739" locator="3501:40-3501:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7740" locator="3501:55-3501:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7741" locator="3501:66-3501:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7752" locator="3502:11-3502:64" xsi:type="Equal">
                        <operand localId="7749" locator="3502:11-3502:49" xsi:type="Last">
                           <source localId="7748" locator="3502:16-3502:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7746" locator="3502:22-3502:42" path="reference" xsi:type="Property">
                                    <source localId="7745" locator="3502:22-3502:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7747" locator="3502:45-3502:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7751" locator="3502:53-3502:64" path="id" xsi:type="Property">
                              <source localId="7750" locator="3502:53-3502:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7796" locator="3511:1-3517:63" name="Amount of daily aspirin prescribed until delivery" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7796">
               <a:s>/*
  @dataElement: ANC.B10.DE115 Amount of daily aspirin prescribed until delivery
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Amount in milligrams (mg) of aspirin prescribed
*/
define &quot;Amount of daily aspirin prescribed until delivery&quot;:
  </a:s>
               <a:s r="7795">
                  <a:s r="7793">
                     <a:s r="7792">
                        <a:s r="7758">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7792">
                           <a:s>Only(</a:s>
                           <a:s r="7791">
                              <a:s r="7790">
                                 <a:s r="7759">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7790">
                                    <a:s>Only(</a:s>
                                    <a:s r="7789">
                                       <a:s r="7788">
                                          <a:s r="7760">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7788">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7787">
                                                <a:s>
                                                   <a:s r="7762">
                                                      <a:s r="7761">
                                                         <a:s r="7761">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7786">
                                                   <a:s>where </a:s>
                                                   <a:s r="7786">
                                                      <a:s r="7776">
                                                         <a:s r="7770">
                                                            <a:s r="7764">
                                                               <a:s r="7763">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7764">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7769">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7765">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7766">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7767">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7768">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7775">
                                                            <a:s r="7774">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7772">
                                                                  <a:s r="7771">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7772">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7773">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7785">
                                                         <a:s r="7782">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7781">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7779">
                                                                  <a:s r="7778">
                                                                     <a:s r="7777">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7778">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7779">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7780">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7784">
                                                            <a:s r="7783">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7784">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7789">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7791">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7793">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7794">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7795" locator="3512:3-3517:63" strict="false" xsi:type="As">
            <operand localId="7793" locator="3512:3-3517:40" path="dose" xsi:type="Property">
               <source localId="7792" locator="3512:3-3517:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7791" locator="3512:11-3517:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7790" locator="3512:11-3517:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7789" locator="3512:19-3517:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7788" locator="3512:19-3517:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7787" locator="3513:3-3516:65" xsi:type="Query">
                                 <source localId="7762" locator="3513:3-3513:24" alias="MR">
                                    <expression localId="7761" locator="3513:3-3513:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7786" locator="3514:5-3516:65" xsi:type="And">
                                    <operand localId="7776" locator="3514:11-3515:51" xsi:type="And">
                                       <operand localId="7770" locator="3514:11-3514:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7764" locator="3514:11-3514:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7769" locator="3514:24-3514:68" xsi:type="List">
                                             <element localId="7765" locator="3514:26-3514:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7766" locator="3514:35-3514:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7767" locator="3514:45-3514:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7768" locator="3514:56-3514:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7775" locator="3515:11-3515:51" xsi:type="IsFalse">
                                          <operand localId="7774" locator="3515:11-3515:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7772" locator="3515:20-3515:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7773" locator="3515:37-3515:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7785" locator="3516:11-3516:65" xsi:type="Equal">
                                       <operand localId="7782" locator="3516:11-3516:50" xsi:type="Last">
                                          <source localId="7781" locator="3516:16-3516:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7779" locator="3516:22-3516:43" path="reference" xsi:type="Property">
                                                   <source localId="7778" locator="3516:22-3516:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7780" locator="3516:46-3516:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7784" locator="3516:54-3516:65" path="id" xsi:type="Property">
                                             <source localId="7783" locator="3516:54-3516:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7794" locator="3517:45-3517:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="7825" locator="3525:1-3531:14" name="Reason aspirin not prescribed" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7825">
               <a:s>/*
  @dataElement: ANC.B10.DE116 Reason aspirin not prescribed
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Select the reason why the aspirin was not prescribed
*/
define &quot;Reason aspirin not prescribed&quot;:
  </a:s>
               <a:s r="7824">
                  <a:s r="7823">
                     <a:s r="7797">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7823">
                        <a:s>Only(
  </a:s>
                        <a:s r="7822">
                           <a:s>
                              <a:s r="7799">
                                 <a:s r="7798">
                                    <a:s r="7798">
                                       <a:s>[MedicationRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason aspirin not prescribed&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> MR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7821">
                              <a:s>where </a:s>
                              <a:s r="7821">
                                 <a:s r="7811">
                                    <a:s r="7807">
                                       <a:s r="7801">
                                          <a:s r="7800">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7801">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7806">
                                          <a:s>{ </a:s>
                                          <a:s r="7802">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7803">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7804">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7805">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7810">
                                       <a:s r="7809">
                                          <a:s r="7808">
                                             <a:s>MR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7809">
                                             <a:s>doNotPerform</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> is true</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7820">
                                    <a:s r="7817">
                                       <a:s>Last(</a:s>
                                       <a:s r="7816">
                                          <a:s>Split(</a:s>
                                          <a:s r="7814">
                                             <a:s r="7813">
                                                <a:s r="7812">
                                                   <a:s>MR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7813">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7814">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7815">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7819">
                                       <a:s r="7818">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7819">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7824">
                     <a:s>medication</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7824" locator="3526:3-3531:14" path="medication" xsi:type="Property">
            <source localId="7823" locator="3526:3-3531:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7822" locator="3527:3-3530:65" xsi:type="Query">
                  <source localId="7799" locator="3527:3-3527:60" alias="MR">
                     <expression localId="7798" locator="3527:3-3527:57" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3527:23-3527:56" name="Reason aspirin not prescribed" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7821" locator="3528:5-3530:65" xsi:type="And">
                     <operand localId="7811" locator="3528:11-3529:33" xsi:type="And">
                        <operand localId="7807" locator="3528:11-3528:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7801" locator="3528:11-3528:19" path="status" scope="MR" xsi:type="Property"/>
                           </operand>
                           <operand localId="7806" locator="3528:24-3528:68" xsi:type="List">
                              <element localId="7802" locator="3528:26-3528:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="7803" locator="3528:35-3528:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="7804" locator="3528:45-3528:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="7805" locator="3528:56-3528:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="7810" locator="3529:11-3529:33" xsi:type="IsTrue">
                           <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7809" locator="3529:11-3529:25" path="doNotPerform" scope="MR" xsi:type="Property"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7820" locator="3530:11-3530:65" xsi:type="Equal">
                        <operand localId="7817" locator="3530:11-3530:50" xsi:type="Last">
                           <source localId="7816" locator="3530:16-3530:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7814" locator="3530:22-3530:43" path="reference" xsi:type="Property">
                                    <source localId="7813" locator="3530:22-3530:33" path="encounter" scope="MR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7815" locator="3530:46-3530:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7819" locator="3530:54-3530:65" path="id" xsi:type="Property">
                              <source localId="7818" locator="3530:54-3530:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7853" locator="3539:1-3545:8" name="Risk of gestational diabetes mellitus (GDM)" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7853">
               <a:s>/*
  @dataElement: ANC.B10.DE121 Risk of gestational diabetes mellitus (GDM)
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: The woman is at risk for developing gestational diabetes mellitus (GDM)
*/
define &quot;Risk of gestational diabetes mellitus (GDM)&quot;:
  </a:s>
               <a:s r="7852">
                  <a:s r="7851">
                     <a:s r="7826">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7851">
                        <a:s>Only(
  </a:s>
                        <a:s r="7850">
                           <a:s>
                              <a:s r="7828">
                                 <a:s r="7827">
                                    <a:s r="7827">
                                       <a:s>[Condition: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Risk of gestational diabetes mellitus (GDM)&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> C</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7849">
                              <a:s>where </a:s>
                              <a:s r="7849">
                                 <a:s r="7839">
                                    <a:s r="7833">
                                       <a:s r="7830">
                                          <a:s r="7829">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7830">
                                             <a:s>clinicalStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="7832">
                                          <a:s r="7831">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7832">
                                             <a:s>&quot;Active Condition&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="7838">
                                       <a:s r="7835">
                                          <a:s r="7834">
                                             <a:s>C</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7835">
                                             <a:s>verificationStatus</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> ~ </a:s>
                                       <a:s r="7837">
                                          <a:s r="7836">
                                             <a:s>FC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7837">
                                             <a:s>&quot;confirmed&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7848">
                                    <a:s r="7845">
                                       <a:s>Last(</a:s>
                                       <a:s r="7844">
                                          <a:s>Split(</a:s>
                                          <a:s r="7842">
                                             <a:s r="7841">
                                                <a:s r="7840">
                                                   <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7841">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7842">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7843">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7847">
                                       <a:s r="7846">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7847">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7852">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7852" locator="3540:3-3545:8" path="code" xsi:type="Property">
            <source localId="7851" locator="3540:3-3545:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7850" locator="3541:3-3544:64" xsi:type="Query">
                  <source localId="7828" locator="3541:3-3541:65" alias="C">
                     <expression localId="7827" locator="3541:3-3541:63" dataType="fhir:Condition" templateId="http://hl7.org/fhir/StructureDefinition/Condition" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3541:15-3541:62" name="Risk of gestational diabetes mellitus (GDM)" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7849" locator="3542:5-3544:64" xsi:type="And">
                     <operand localId="7839" locator="3542:11-3543:47" xsi:type="And">
                        <operand localId="7833" locator="3542:11-3542:51" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7830" locator="3542:11-3542:26" path="clinicalStatus" scope="C" xsi:type="Property"/>
                           </code>
                           <valueset localId="7832" locator="3542:31-3542:51" name="Active Condition" libraryName="FC"/>
                        </operand>
                        <operand localId="7838" locator="3543:11-3543:47" xsi:type="Equivalent">
                           <operand name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="7835" locator="3543:11-3543:30" path="verificationStatus" scope="C" xsi:type="Property"/>
                           </operand>
                           <operand xsi:type="ToConcept">
                              <operand localId="7837" locator="3543:34-3543:47" name="confirmed" libraryName="FC" xsi:type="CodeRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="7848" locator="3544:11-3544:64" xsi:type="Equal">
                        <operand localId="7845" locator="3544:11-3544:49" xsi:type="Last">
                           <source localId="7844" locator="3544:16-3544:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7842" locator="3544:22-3544:42" path="reference" xsi:type="Property">
                                    <source localId="7841" locator="3544:22-3544:32" path="encounter" scope="C" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7843" locator="3544:45-3544:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7847" locator="3544:53-3544:64" path="id" xsi:type="Property">
                              <source localId="7846" locator="3544:53-3544:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7878" locator="3553:1-3558:8" name="Gestational diabetes mellitus (GDM) risk counselling conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7878">
               <a:s>/*
  @dataElement: ANC.B10.DE124 Gestational diabetes mellitus (GDM) risk counselling conducted
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Gestational diabetes mellitus (GDM) risk counselling conducted
*/
define &quot;Gestational diabetes mellitus (GDM) risk counselling conducted&quot;:
  </a:s>
               <a:s r="7877">
                  <a:s r="7876">
                     <a:s r="7854">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7876">
                        <a:s>Only(
  </a:s>
                        <a:s r="7875">
                           <a:s>
                              <a:s r="7856">
                                 <a:s r="7855">
                                    <a:s r="7855">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Gestational diabetes mellitus (GDM) risk counselling conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7874">
                              <a:s>where </a:s>
                              <a:s r="7874">
                                 <a:s r="7864">
                                    <a:s r="7858">
                                       <a:s r="7857">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7858">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7863">
                                       <a:s>{ </a:s>
                                       <a:s r="7859">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7860">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7861">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7862">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7873">
                                    <a:s r="7870">
                                       <a:s>Last(</a:s>
                                       <a:s r="7869">
                                          <a:s>Split(</a:s>
                                          <a:s r="7867">
                                             <a:s r="7866">
                                                <a:s r="7865">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7866">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7867">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7868">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7872">
                                       <a:s r="7871">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7872">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7877">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7877" locator="3554:3-3558:8" path="code" xsi:type="Property">
            <source localId="7876" locator="3554:3-3558:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7875" locator="3555:3-3557:64" xsi:type="Query">
                  <source localId="7856" locator="3555:3-3555:84" alias="P">
                     <expression localId="7855" locator="3555:3-3555:82" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3555:15-3555:81" name="Gestational diabetes mellitus (GDM) risk counselling conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7874" locator="3556:5-3557:64" xsi:type="And">
                     <operand localId="7864" locator="3556:11-3556:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7858" locator="3556:11-3556:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7863" locator="3556:23-3556:78" xsi:type="List">
                           <element localId="7859" locator="3556:25-3556:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7860" locator="3556:40-3556:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7861" locator="3556:55-3556:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7862" locator="3556:66-3556:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7873" locator="3557:11-3557:64" xsi:type="Equal">
                        <operand localId="7870" locator="3557:11-3557:49" xsi:type="Last">
                           <source localId="7869" locator="3557:16-3557:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7867" locator="3557:22-3557:42" path="reference" xsi:type="Property">
                                    <source localId="7866" locator="3557:22-3557:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7868" locator="3557:45-3557:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7872" locator="3557:53-3557:64" path="id" xsi:type="Property">
                              <source localId="7871" locator="3557:53-3557:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7903" locator="3566:1-3571:8" name="Counselling conducted on HIV risk" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7903">
               <a:s>/*
  @dataElement: ANC.B10.DE125 Counselling conducted on HIV risk
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Whether counselling on HIV risk was conducted for a client who is at a high risk of HIV
*/
define &quot;Counselling conducted on HIV risk&quot;:
  </a:s>
               <a:s r="7902">
                  <a:s r="7901">
                     <a:s r="7879">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7901">
                        <a:s>Only(
  </a:s>
                        <a:s r="7900">
                           <a:s>
                              <a:s r="7881">
                                 <a:s r="7880">
                                    <a:s r="7880">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on HIV risk&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7899">
                              <a:s>where </a:s>
                              <a:s r="7899">
                                 <a:s r="7889">
                                    <a:s r="7883">
                                       <a:s r="7882">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7883">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7888">
                                       <a:s>{ </a:s>
                                       <a:s r="7884">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7885">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7886">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7887">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7898">
                                    <a:s r="7895">
                                       <a:s>Last(</a:s>
                                       <a:s r="7894">
                                          <a:s>Split(</a:s>
                                          <a:s r="7892">
                                             <a:s r="7891">
                                                <a:s r="7890">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7891">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7892">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7893">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7897">
                                       <a:s r="7896">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7897">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7902">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7902" locator="3567:3-3571:8" path="code" xsi:type="Property">
            <source localId="7901" locator="3567:3-3571:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7900" locator="3568:3-3570:64" xsi:type="Query">
                  <source localId="7881" locator="3568:3-3568:55" alias="P">
                     <expression localId="7880" locator="3568:3-3568:53" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3568:15-3568:52" name="Counselling conducted on HIV risk" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7899" locator="3569:5-3570:64" xsi:type="And">
                     <operand localId="7889" locator="3569:11-3569:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7883" locator="3569:11-3569:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7888" locator="3569:23-3569:78" xsi:type="List">
                           <element localId="7884" locator="3569:25-3569:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7885" locator="3569:40-3569:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7886" locator="3569:55-3569:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7887" locator="3569:66-3569:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7898" locator="3570:11-3570:64" xsi:type="Equal">
                        <operand localId="7895" locator="3570:11-3570:49" xsi:type="Last">
                           <source localId="7894" locator="3570:16-3570:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7892" locator="3570:22-3570:42" path="reference" xsi:type="Property">
                                    <source localId="7891" locator="3570:22-3570:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7893" locator="3570:45-3570:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7897" locator="3570:53-3570:64" path="id" xsi:type="Property">
                              <source localId="7896" locator="3570:53-3570:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7928" locator="3579:1-3584:8" name="PrEP for HIV prevention provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7928">
               <a:s>/*
  @dataElement: ANC.B10.DE126 PrEP for HIV prevention provided
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Whether or not the client has been counselled on use of oral pre-exposure prophylaxis (PrEP) as a means to reduce risk of HIV transmission and provided with oral PrEP
*/
define &quot;PrEP for HIV prevention provided&quot;:
  </a:s>
               <a:s r="7927">
                  <a:s r="7926">
                     <a:s r="7904">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7926">
                        <a:s>Only(
  </a:s>
                        <a:s r="7925">
                           <a:s>
                              <a:s r="7906">
                                 <a:s r="7905">
                                    <a:s r="7905">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;PrEP for HIV prevention provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="7924">
                              <a:s>where </a:s>
                              <a:s r="7924">
                                 <a:s r="7914">
                                    <a:s r="7908">
                                       <a:s r="7907">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7908">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="7913">
                                       <a:s>{ </a:s>
                                       <a:s r="7909">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7910">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7911">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="7912">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="7923">
                                    <a:s r="7920">
                                       <a:s>Last(</a:s>
                                       <a:s r="7919">
                                          <a:s>Split(</a:s>
                                          <a:s r="7917">
                                             <a:s r="7916">
                                                <a:s r="7915">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="7916">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="7917">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="7918">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="7922">
                                       <a:s r="7921">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7922">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="7927">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7927" locator="3580:3-3584:8" path="code" xsi:type="Property">
            <source localId="7926" locator="3580:3-3584:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="7925" locator="3581:3-3583:64" xsi:type="Query">
                  <source localId="7906" locator="3581:3-3581:54" alias="P">
                     <expression localId="7905" locator="3581:3-3581:52" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3581:15-3581:51" name="PrEP for HIV prevention provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="7924" locator="3582:5-3583:64" xsi:type="And">
                     <operand localId="7914" locator="3582:11-3582:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7908" locator="3582:11-3582:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="7913" locator="3582:23-3582:78" xsi:type="List">
                           <element localId="7909" locator="3582:25-3582:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="7910" locator="3582:40-3582:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="7911" locator="3582:55-3582:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="7912" locator="3582:66-3582:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="7923" locator="3583:11-3583:64" xsi:type="Equal">
                        <operand localId="7920" locator="3583:11-3583:49" xsi:type="Last">
                           <source localId="7919" locator="3583:16-3583:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="7917" locator="3583:22-3583:42" path="reference" xsi:type="Property">
                                    <source localId="7916" locator="3583:22-3583:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="7918" locator="3583:45-3583:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7922" locator="3583:53-3583:64" path="id" xsi:type="Property">
                              <source localId="7921" locator="3583:53-3583:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="7957" locator="3592:1-3597:24" name="Reason PrEP for HIV prevention was not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7957">
               <a:s>/*
  @dataElement: ANC.B10.DE127 Reason PrEP for HIV prevention was not provided
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Why the client was not provided with PrEP
*/
define &quot;Reason PrEP for HIV prevention was not provided&quot;:
  </a:s>
               <a:s r="7956">
                  <a:s>
                     <a:s r="7930">
                        <a:s r="7929">
                           <a:s r="7929">
                              <a:s>[MedicationRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason PrEP for HIV prevention was not provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> MR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7952">
                     <a:s>where </a:s>
                     <a:s r="7952">
                        <a:s r="7942">
                           <a:s r="7938">
                              <a:s r="7932">
                                 <a:s r="7931">
                                    <a:s>MR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7932">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="7937">
                                 <a:s>{ </a:s>
                                 <a:s r="7933">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7934">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7935">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7936">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="7941">
                              <a:s r="7940">
                                 <a:s r="7939">
                                    <a:s>MR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7940">
                                    <a:s>doNotPerform</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> is true</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="7951">
                           <a:s r="7948">
                              <a:s>Last(</a:s>
                              <a:s r="7947">
                                 <a:s>Split(</a:s>
                                 <a:s r="7945">
                                    <a:s r="7944">
                                       <a:s r="7943">
                                          <a:s>MR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7944">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="7945">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="7946">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="7950">
                              <a:s r="7949">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7950">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="7955">
                     <a:s>return </a:s>
                     <a:s r="7954">
                        <a:s r="7953">
                           <a:s>MR</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7954">
                           <a:s>medication</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7956" locator="3593:3-3597:24" xsi:type="Query">
            <source localId="7930" locator="3593:3-3593:78" alias="MR">
               <expression localId="7929" locator="3593:3-3593:75" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" codeProperty="medication" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3593:23-3593:74" name="Reason PrEP for HIV prevention was not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="7952" locator="3594:5-3596:65" xsi:type="And">
               <operand localId="7942" locator="3594:11-3595:33" xsi:type="And">
                  <operand localId="7938" locator="3594:11-3594:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7932" locator="3594:11-3594:19" path="status" scope="MR" xsi:type="Property"/>
                     </operand>
                     <operand localId="7937" locator="3594:24-3594:68" xsi:type="List">
                        <element localId="7933" locator="3594:26-3594:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="7934" locator="3594:35-3594:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="7935" locator="3594:45-3594:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="7936" locator="3594:56-3594:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="7941" locator="3595:11-3595:33" xsi:type="IsTrue">
                     <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="7940" locator="3595:11-3595:25" path="doNotPerform" scope="MR" xsi:type="Property"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="7951" locator="3596:11-3596:65" xsi:type="Equal">
                  <operand localId="7948" locator="3596:11-3596:50" xsi:type="Last">
                     <source localId="7947" locator="3596:16-3596:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="7945" locator="3596:22-3596:43" path="reference" xsi:type="Property">
                              <source localId="7944" locator="3596:22-3596:33" path="encounter" scope="MR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="7946" locator="3596:46-3596:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="7950" locator="3596:54-3596:65" path="id" xsi:type="Property">
                        <source localId="7949" locator="3596:54-3596:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
            <return localId="7955" locator="3597:5-3597:24">
               <expression localId="7954" locator="3597:12-3597:24" path="medication" scope="MR" xsi:type="Property"/>
            </return>
         </expression>
      </def>
      <def localId="7996" locator="3605:1-3611:63" name="Amount of oral PrEP provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7996">
               <a:s>/*
  @dataElement: ANC.B10.DE132 Amount of oral PrEP provided
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Amount of oral PrEP provided to the woman
*/
define &quot;Amount of oral PrEP provided&quot;:
  </a:s>
               <a:s r="7995">
                  <a:s r="7993">
                     <a:s r="7992">
                        <a:s r="7958">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="7992">
                           <a:s>Only(</a:s>
                           <a:s r="7991">
                              <a:s r="7990">
                                 <a:s r="7959">
                                    <a:s>WC</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="7990">
                                    <a:s>Only(</a:s>
                                    <a:s r="7989">
                                       <a:s r="7988">
                                          <a:s r="7960">
                                             <a:s>WC</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="7988">
                                             <a:s>Only(
  </a:s>
                                             <a:s r="7987">
                                                <a:s>
                                                   <a:s r="7962">
                                                      <a:s r="7961">
                                                         <a:s r="7961">
                                                            <a:s>[MedicationRequest]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> MR</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    </a:s>
                                                <a:s r="7986">
                                                   <a:s>where </a:s>
                                                   <a:s r="7986">
                                                      <a:s r="7976">
                                                         <a:s r="7970">
                                                            <a:s r="7964">
                                                               <a:s r="7963">
                                                                  <a:s>MR</a:s>
                                                               </a:s>
                                                               <a:s>.</a:s>
                                                               <a:s r="7964">
                                                                  <a:s>status</a:s>
                                                               </a:s>
                                                            </a:s>
                                                            <a:s> in </a:s>
                                                            <a:s r="7969">
                                                               <a:s>{ </a:s>
                                                               <a:s r="7965">
                                                                  <a:s>'draft'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7966">
                                                                  <a:s>'active'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7967">
                                                                  <a:s>'on-hold'</a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7968">
                                                                  <a:s>'completed'</a:s>
                                                               </a:s>
                                                               <a:s> }</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s>
      and </a:s>
                                                         <a:s r="7975">
                                                            <a:s r="7974">
                                                               <a:s>Coalesce(</a:s>
                                                               <a:s r="7972">
                                                                  <a:s r="7971">
                                                                     <a:s>MR</a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7972">
                                                                     <a:s>doNotPerform</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s r="7973">, false)</a:s>
                                                            </a:s>
                                                            <a:s> is false</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
      and </a:s>
                                                      <a:s r="7985">
                                                         <a:s r="7982">
                                                            <a:s>Last(</a:s>
                                                            <a:s r="7981">
                                                               <a:s>Split(</a:s>
                                                               <a:s r="7979">
                                                                  <a:s r="7978">
                                                                     <a:s r="7977">
                                                                        <a:s>MR</a:s>
                                                                     </a:s>
                                                                     <a:s>.</a:s>
                                                                     <a:s r="7978">
                                                                        <a:s>encounter</a:s>
                                                                     </a:s>
                                                                  </a:s>
                                                                  <a:s>.</a:s>
                                                                  <a:s r="7979">
                                                                     <a:s>reference</a:s>
                                                                  </a:s>
                                                               </a:s>
                                                               <a:s>, </a:s>
                                                               <a:s r="7980">
                                                                  <a:s>'/'</a:s>
                                                               </a:s>
                                                               <a:s>)</a:s>
                                                            </a:s>
                                                            <a:s>)</a:s>
                                                         </a:s>
                                                         <a:s> = </a:s>
                                                         <a:s r="7984">
                                                            <a:s r="7983">
                                                               <a:s>Encounter</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="7984">
                                                               <a:s>id</a:s>
                                                            </a:s>
                                                         </a:s>
                                                      </a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
  )</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="7989">
                                          <a:s>dosageInstruction</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="7991">
                                 <a:s>doseAndRate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="7993">
                        <a:s>dose</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="7994">
                     <a:s>FHIR.SimpleQuantity</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="7995" locator="3606:3-3611:63" strict="false" xsi:type="As">
            <operand localId="7993" locator="3606:3-3611:40" path="dose" xsi:type="Property">
               <source localId="7992" locator="3606:3-3611:35" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="7991" locator="3606:11-3611:34" path="doseAndRate" xsi:type="Property">
                     <source localId="7990" locator="3606:11-3611:22" name="Only" libraryName="WC" xsi:type="FunctionRef">
                        <operand localId="7989" locator="3606:19-3611:21" path="dosageInstruction" xsi:type="Property">
                           <source localId="7988" locator="3606:19-3611:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                              <operand localId="7987" locator="3607:3-3610:65" xsi:type="Query">
                                 <source localId="7962" locator="3607:3-3607:24" alias="MR">
                                    <expression localId="7961" locator="3607:3-3607:21" dataType="fhir:MedicationRequest" templateId="http://hl7.org/fhir/StructureDefinition/MedicationRequest" xsi:type="Retrieve"/>
                                 </source>
                                 <where localId="7986" locator="3608:5-3610:65" xsi:type="And">
                                    <operand localId="7976" locator="3608:11-3609:51" xsi:type="And">
                                       <operand localId="7970" locator="3608:11-3608:68" xsi:type="In">
                                          <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                             <operand localId="7964" locator="3608:11-3608:19" path="status" scope="MR" xsi:type="Property"/>
                                          </operand>
                                          <operand localId="7969" locator="3608:24-3608:68" xsi:type="List">
                                             <element localId="7965" locator="3608:26-3608:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                                             <element localId="7966" locator="3608:35-3608:42" valueType="t:String" value="active" xsi:type="Literal"/>
                                             <element localId="7967" locator="3608:45-3608:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                                             <element localId="7968" locator="3608:56-3608:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                       <operand localId="7975" locator="3609:11-3609:51" xsi:type="IsFalse">
                                          <operand localId="7974" locator="3609:11-3609:42" xsi:type="Coalesce">
                                             <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7972" locator="3609:20-3609:34" path="doNotPerform" scope="MR" xsi:type="Property"/>
                                             </operand>
                                             <operand localId="7973" locator="3609:37-3609:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                    <operand localId="7985" locator="3610:11-3610:65" xsi:type="Equal">
                                       <operand localId="7982" locator="3610:11-3610:50" xsi:type="Last">
                                          <source localId="7981" locator="3610:16-3610:49" xsi:type="Split">
                                             <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                                <operand localId="7979" locator="3610:22-3610:43" path="reference" xsi:type="Property">
                                                   <source localId="7978" locator="3610:22-3610:33" path="encounter" scope="MR" xsi:type="Property"/>
                                                </operand>
                                             </stringToSplit>
                                             <separator localId="7980" locator="3610:46-3610:48" valueType="t:String" value="/" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                       <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                          <operand localId="7984" locator="3610:54-3610:65" path="id" xsi:type="Property">
                                             <source localId="7983" locator="3610:54-3610:62" name="Encounter" xsi:type="ExpressionRef"/>
                                          </operand>
                                       </operand>
                                    </operand>
                                 </where>
                              </operand>
                           </source>
                        </operand>
                     </source>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="7994" locator="3611:45-3611:63" name="fhir:SimpleQuantity" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8021" locator="3619:1-3624:8" name="Counselling conducted on seeking care when danger signs occur" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8021">
               <a:s>/*
  @dataElement: ANC.B10.DE133 Counselling conducted on seeking care when danger signs occur
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling provided on when and how to seek care when danger signs are present
*/
define &quot;Counselling conducted on seeking care when danger signs occur&quot;:
  </a:s>
               <a:s r="8020">
                  <a:s r="8019">
                     <a:s r="7997">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8019">
                        <a:s>Only(
  </a:s>
                        <a:s r="8018">
                           <a:s>
                              <a:s r="7999">
                                 <a:s r="7998">
                                    <a:s r="7998">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on seeking care when danger signs occur&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8017">
                              <a:s>where </a:s>
                              <a:s r="8017">
                                 <a:s r="8007">
                                    <a:s r="8001">
                                       <a:s r="8000">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8001">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8006">
                                       <a:s>{ </a:s>
                                       <a:s r="8002">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8003">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8004">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8005">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8016">
                                    <a:s r="8013">
                                       <a:s>Last(</a:s>
                                       <a:s r="8012">
                                          <a:s>Split(</a:s>
                                          <a:s r="8010">
                                             <a:s r="8009">
                                                <a:s r="8008">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8009">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8010">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8011">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8015">
                                       <a:s r="8014">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8015">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8020">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8020" locator="3620:3-3624:8" path="code" xsi:type="Property">
            <source localId="8019" locator="3620:3-3624:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8018" locator="3621:3-3623:64" xsi:type="Query">
                  <source localId="7999" locator="3621:3-3621:83" alias="P">
                     <expression localId="7998" locator="3621:3-3621:81" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3621:15-3621:80" name="Counselling conducted on seeking care when danger signs occur" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8017" locator="3622:5-3623:64" xsi:type="And">
                     <operand localId="8007" locator="3622:11-3622:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8001" locator="3622:11-3622:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8006" locator="3622:23-3622:78" xsi:type="List">
                           <element localId="8002" locator="3622:25-3622:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8003" locator="3622:40-3622:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8004" locator="3622:55-3622:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8005" locator="3622:66-3622:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8016" locator="3623:11-3623:64" xsi:type="Equal">
                        <operand localId="8013" locator="3623:11-3623:49" xsi:type="Last">
                           <source localId="8012" locator="3623:16-3623:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8010" locator="3623:22-3623:42" path="reference" xsi:type="Property">
                                    <source localId="8009" locator="3623:22-3623:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8011" locator="3623:45-3623:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8015" locator="3623:53-3623:64" path="id" xsi:type="Property">
                              <source localId="8014" locator="3623:53-3623:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8046" locator="3632:1-3637:8" name="Counsel to immediately go to the hospital if severe danger signs are present" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8046">
               <a:s>/*
  @dataElement: ANC.B10.DE134 Counsel to immediately go to the hospital if severe danger signs are present
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling on going immediately to the hospital if severe danger signs
*/
define &quot;Counsel to immediately go to the hospital if severe danger signs are present&quot;:
  </a:s>
               <a:s r="8045">
                  <a:s r="8044">
                     <a:s r="8022">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8044">
                        <a:s>Only(
  </a:s>
                        <a:s r="8043">
                           <a:s>
                              <a:s r="8024">
                                 <a:s r="8023">
                                    <a:s r="8023">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counsel to immediately go to the hospital if severe danger signs are present&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8042">
                              <a:s>where </a:s>
                              <a:s r="8042">
                                 <a:s r="8032">
                                    <a:s r="8026">
                                       <a:s r="8025">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8026">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8031">
                                       <a:s>{ </a:s>
                                       <a:s r="8027">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8028">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8029">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8030">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8041">
                                    <a:s r="8038">
                                       <a:s>Last(</a:s>
                                       <a:s r="8037">
                                          <a:s>Split(</a:s>
                                          <a:s r="8035">
                                             <a:s r="8034">
                                                <a:s r="8033">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8034">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8035">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8036">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8040">
                                       <a:s r="8039">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8040">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8045">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8045" locator="3633:3-3637:8" path="code" xsi:type="Property">
            <source localId="8044" locator="3633:3-3637:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8043" locator="3634:3-3636:64" xsi:type="Query">
                  <source localId="8024" locator="3634:3-3634:98" alias="P">
                     <expression localId="8023" locator="3634:3-3634:96" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3634:15-3634:95" name="Counsel to immediately go to the hospital if severe danger signs are present" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8042" locator="3635:5-3636:64" xsi:type="And">
                     <operand localId="8032" locator="3635:11-3635:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8026" locator="3635:11-3635:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8031" locator="3635:23-3635:78" xsi:type="List">
                           <element localId="8027" locator="3635:25-3635:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8028" locator="3635:40-3635:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8029" locator="3635:55-3635:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8030" locator="3635:66-3635:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8041" locator="3636:11-3636:64" xsi:type="Equal">
                        <operand localId="8038" locator="3636:11-3636:49" xsi:type="Last">
                           <source localId="8037" locator="3636:16-3636:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8035" locator="3636:22-3636:42" path="reference" xsi:type="Property">
                                    <source localId="8034" locator="3636:22-3636:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8036" locator="3636:45-3636:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8040" locator="3636:53-3636:64" path="id" xsi:type="Property">
                              <source localId="8039" locator="3636:53-3636:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8071" locator="3645:1-3650:8" name="Counselling on ANC contact schedule conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8071">
               <a:s>/*
  @dataElement: ANC.B10.DE135 Counselling on ANC contact schedule conducted
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling on ANC contact schedule conducted
*/
define &quot;Counselling on ANC contact schedule conducted&quot;:
  </a:s>
               <a:s r="8070">
                  <a:s r="8069">
                     <a:s r="8047">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8069">
                        <a:s>Only(
  </a:s>
                        <a:s r="8068">
                           <a:s>
                              <a:s r="8049">
                                 <a:s r="8048">
                                    <a:s r="8048">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on ANC contact schedule conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8067">
                              <a:s>where </a:s>
                              <a:s r="8067">
                                 <a:s r="8057">
                                    <a:s r="8051">
                                       <a:s r="8050">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8051">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8056">
                                       <a:s>{ </a:s>
                                       <a:s r="8052">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8053">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8054">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8055">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8066">
                                    <a:s r="8063">
                                       <a:s>Last(</a:s>
                                       <a:s r="8062">
                                          <a:s>Split(</a:s>
                                          <a:s r="8060">
                                             <a:s r="8059">
                                                <a:s r="8058">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8059">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8060">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8061">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8065">
                                       <a:s r="8064">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8065">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8070">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8070" locator="3646:3-3650:8" path="code" xsi:type="Property">
            <source localId="8069" locator="3646:3-3650:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8068" locator="3647:3-3649:64" xsi:type="Query">
                  <source localId="8049" locator="3647:3-3647:67" alias="P">
                     <expression localId="8048" locator="3647:3-3647:65" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3647:15-3647:64" name="Counselling on ANC contact schedule conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8067" locator="3648:5-3649:64" xsi:type="And">
                     <operand localId="8057" locator="3648:11-3648:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8051" locator="3648:11-3648:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8056" locator="3648:23-3648:78" xsi:type="List">
                           <element localId="8052" locator="3648:25-3648:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8053" locator="3648:40-3648:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8054" locator="3648:55-3648:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8055" locator="3648:66-3648:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8066" locator="3649:11-3649:64" xsi:type="Equal">
                        <operand localId="8063" locator="3649:11-3649:49" xsi:type="Last">
                           <source localId="8062" locator="3649:16-3649:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8060" locator="3649:22-3649:42" path="reference" xsi:type="Property">
                                    <source localId="8059" locator="3649:22-3649:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8061" locator="3649:45-3649:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8065" locator="3649:53-3649:64" path="id" xsi:type="Property">
                              <source localId="8064" locator="3649:53-3649:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8096" locator="3658:1-3663:8" name="Counselling conducted on birth preparedness and complications readiness" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8096">
               <a:s>/*
  @dataElement: ANC.B10.DE136 Counselling conducted on birth preparedness and complications readiness
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling on birth preparedness and complications readiness conducted
*/
define &quot;Counselling conducted on birth preparedness and complications readiness&quot;:
  </a:s>
               <a:s r="8095">
                  <a:s r="8094">
                     <a:s r="8072">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8094">
                        <a:s>Only(
  </a:s>
                        <a:s r="8093">
                           <a:s>
                              <a:s r="8074">
                                 <a:s r="8073">
                                    <a:s r="8073">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on birth preparedness and complications readiness&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8092">
                              <a:s>where </a:s>
                              <a:s r="8092">
                                 <a:s r="8082">
                                    <a:s r="8076">
                                       <a:s r="8075">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8076">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8081">
                                       <a:s>{ </a:s>
                                       <a:s r="8077">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8078">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8079">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8080">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8091">
                                    <a:s r="8088">
                                       <a:s>Last(</a:s>
                                       <a:s r="8087">
                                          <a:s>Split(</a:s>
                                          <a:s r="8085">
                                             <a:s r="8084">
                                                <a:s r="8083">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8084">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8085">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8086">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8090">
                                       <a:s r="8089">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8090">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8095">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8095" locator="3659:3-3663:8" path="code" xsi:type="Property">
            <source localId="8094" locator="3659:3-3663:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8093" locator="3660:3-3662:64" xsi:type="Query">
                  <source localId="8074" locator="3660:3-3660:93" alias="P">
                     <expression localId="8073" locator="3660:3-3660:91" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3660:15-3660:90" name="Counselling conducted on birth preparedness and complications readiness" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8092" locator="3661:5-3662:64" xsi:type="And">
                     <operand localId="8082" locator="3661:11-3661:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8076" locator="3661:11-3661:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8081" locator="3661:23-3661:78" xsi:type="List">
                           <element localId="8077" locator="3661:25-3661:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8078" locator="3661:40-3661:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8079" locator="3661:55-3661:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8080" locator="3661:66-3661:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8091" locator="3662:11-3662:64" xsi:type="Equal">
                        <operand localId="8088" locator="3662:11-3662:49" xsi:type="Last">
                           <source localId="8087" locator="3662:16-3662:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8085" locator="3662:22-3662:42" path="reference" xsi:type="Property">
                                    <source localId="8084" locator="3662:22-3662:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8086" locator="3662:45-3662:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8090" locator="3662:53-3662:64" path="id" xsi:type="Property">
                              <source localId="8089" locator="3662:53-3662:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8131" locator="3671:1-3677:33" name="Planned birth place" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8131">
               <a:s>/*
  @dataElement: ANC.B10.DE137 Planned birth place
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Place where woman plans to give birth
*/
define &quot;Planned birth place&quot;:
  </a:s>
               <a:s r="8130">
                  <a:s r="8128">
                     <a:s r="8127">
                        <a:s r="8097">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8127">
                           <a:s>Only(
  </a:s>
                           <a:s r="8126">
                              <a:s>
                                 <a:s r="8099">
                                    <a:s r="8098">
                                       <a:s r="8098">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Planned birth place&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8125">
                                 <a:s>where </a:s>
                                 <a:s r="8125">
                                    <a:s r="8115">
                                       <a:s r="8106">
                                          <a:s r="8101">
                                             <a:s r="8100">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8101">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8105">
                                             <a:s>{ </a:s>
                                             <a:s r="8102">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8103">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8104">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8114">
                                          <a:s r="8113">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8111">
                                                <a:s r="8110">
                                                   <a:s r="8107">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8110">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8108">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8109">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8111">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8112">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8124">
                                       <a:s r="8121">
                                          <a:s>Last(</a:s>
                                          <a:s r="8120">
                                             <a:s>Split(</a:s>
                                             <a:s r="8118">
                                                <a:s r="8117">
                                                   <a:s r="8116">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8117">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8118">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8119">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8123">
                                          <a:s r="8122">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8123">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8128">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8129">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8130" locator="3672:3-3677:33" strict="false" xsi:type="As">
            <operand localId="8128" locator="3672:3-3677:9" path="value" xsi:type="Property">
               <source localId="8127" locator="3672:3-3677:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8126" locator="3673:3-3676:64" xsi:type="Query">
                     <source localId="8099" locator="3673:3-3673:43" alias="O">
                        <expression localId="8098" locator="3673:3-3673:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="3673:17-3673:40" name="Planned birth place" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8125" locator="3674:5-3676:64" xsi:type="And">
                        <operand localId="8115" locator="3674:11-3675:80" xsi:type="And">
                           <operand localId="8106" locator="3674:11-3674:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8101" locator="3674:11-3674:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8105" locator="3674:23-3674:57" xsi:type="List">
                                 <element localId="8102" locator="3674:25-3674:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8103" locator="3674:34-3674:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8104" locator="3674:45-3674:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8114" locator="3675:11-3675:80" xsi:type="IsFalse">
                              <operand localId="8113" locator="3675:11-3675:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8111" locator="3675:20-3675:63" path="value" xsi:type="Property">
                                          <source localId="8110" locator="3675:20-3675:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8108" locator="3675:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8109" locator="3675:44-3675:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8112" locator="3675:66-3675:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8124" locator="3676:11-3676:64" xsi:type="Equal">
                           <operand localId="8121" locator="3676:11-3676:49" xsi:type="Last">
                              <source localId="8120" locator="3676:16-3676:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8118" locator="3676:22-3676:42" path="reference" xsi:type="Property">
                                       <source localId="8117" locator="3676:22-3676:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8119" locator="3676:45-3676:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8123" locator="3676:53-3676:64" path="id" xsi:type="Property">
                                 <source localId="8122" locator="3676:53-3676:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8129" locator="3677:14-3677:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8156" locator="3685:1-3690:8" name="Counselling conducted on Rh factor negative" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8156">
               <a:s>/*
  @dataElement: ANC.B10.DE142 Counselling conducted on Rh factor negative
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling conducted on Rh factor negative
*/
define &quot;Counselling conducted on Rh factor negative&quot;:
  </a:s>
               <a:s r="8155">
                  <a:s r="8154">
                     <a:s r="8132">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8154">
                        <a:s>Only(
  </a:s>
                        <a:s r="8153">
                           <a:s>
                              <a:s r="8134">
                                 <a:s r="8133">
                                    <a:s r="8133">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on Rh factor negative&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8152">
                              <a:s>where </a:s>
                              <a:s r="8152">
                                 <a:s r="8142">
                                    <a:s r="8136">
                                       <a:s r="8135">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8136">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8141">
                                       <a:s>{ </a:s>
                                       <a:s r="8137">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8138">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8139">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8140">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8151">
                                    <a:s r="8148">
                                       <a:s>Last(</a:s>
                                       <a:s r="8147">
                                          <a:s>Split(</a:s>
                                          <a:s r="8145">
                                             <a:s r="8144">
                                                <a:s r="8143">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8144">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8145">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8146">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8150">
                                       <a:s r="8149">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8150">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8155">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8155" locator="3686:3-3690:8" path="code" xsi:type="Property">
            <source localId="8154" locator="3686:3-3690:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8153" locator="3687:3-3689:64" xsi:type="Query">
                  <source localId="8134" locator="3687:3-3687:65" alias="P">
                     <expression localId="8133" locator="3687:3-3687:63" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3687:15-3687:62" name="Counselling conducted on Rh factor negative" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8152" locator="3688:5-3689:64" xsi:type="And">
                     <operand localId="8142" locator="3688:11-3688:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8136" locator="3688:11-3688:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8141" locator="3688:23-3688:78" xsi:type="List">
                           <element localId="8137" locator="3688:25-3688:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8138" locator="3688:40-3688:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8139" locator="3688:55-3688:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8140" locator="3688:66-3688:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8151" locator="3689:11-3689:64" xsi:type="Equal">
                        <operand localId="8148" locator="3689:11-3689:49" xsi:type="Last">
                           <source localId="8147" locator="3689:16-3689:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8145" locator="3689:22-3689:42" path="reference" xsi:type="Property">
                                    <source localId="8144" locator="3689:22-3689:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8146" locator="3689:45-3689:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8150" locator="3689:53-3689:64" path="id" xsi:type="Property">
                              <source localId="8149" locator="3689:53-3689:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8181" locator="3698:1-3703:8" name="Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8181">
               <a:s>/*
  @dataElement: ANC.B10.DE143 Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection
*/
define &quot;Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection&quot;:
  </a:s>
               <a:s r="8180">
                  <a:s r="8179">
                     <a:s r="8157">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8179">
                        <a:s>Only(
  </a:s>
                        <a:s r="8178">
                           <a:s>
                              <a:s r="8159">
                                 <a:s r="8158">
                                    <a:s r="8158">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8177">
                              <a:s>where </a:s>
                              <a:s r="8177">
                                 <a:s r="8167">
                                    <a:s r="8161">
                                       <a:s r="8160">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8161">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8166">
                                       <a:s>{ </a:s>
                                       <a:s r="8162">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8163">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8164">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8165">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8176">
                                    <a:s r="8173">
                                       <a:s>Last(</a:s>
                                       <a:s r="8172">
                                          <a:s>Split(</a:s>
                                          <a:s r="8170">
                                             <a:s r="8169">
                                                <a:s r="8168">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8169">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8170">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8171">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8175">
                                       <a:s r="8174">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8175">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8180">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8180" locator="3699:3-3703:8" path="code" xsi:type="Property">
            <source localId="8179" locator="3699:3-3703:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8178" locator="3700:3-3702:64" xsi:type="Query">
                  <source localId="8159" locator="3700:3-3700:133" alias="P">
                     <expression localId="8158" locator="3700:3-3700:131" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3700:15-3700:130" name="Counselling conducted on intrapartum antibiotic to prevent early neonatal Group B Streptococcus (GBS) infection" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8177" locator="3701:5-3702:64" xsi:type="And">
                     <operand localId="8167" locator="3701:11-3701:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8161" locator="3701:11-3701:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8166" locator="3701:23-3701:78" xsi:type="List">
                           <element localId="8162" locator="3701:25-3701:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8163" locator="3701:40-3701:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8164" locator="3701:55-3701:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8165" locator="3701:66-3701:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8176" locator="3702:11-3702:64" xsi:type="Equal">
                        <operand localId="8173" locator="3702:11-3702:49" xsi:type="Last">
                           <source localId="8172" locator="3702:16-3702:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8170" locator="3702:22-3702:42" path="reference" xsi:type="Property">
                                    <source localId="8169" locator="3702:22-3702:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8171" locator="3702:45-3702:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8175" locator="3702:53-3702:64" path="id" xsi:type="Property">
                              <source localId="8174" locator="3702:53-3702:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8206" locator="3711:1-3716:8" name="Counselling on postpartum family planning conducted" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8206">
               <a:s>/*
  @dataElement: ANC.B10.DE144 Counselling on postpartum family planning conducted
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling on postpartum family planning conducted
*/
define &quot;Counselling on postpartum family planning conducted&quot;:
  </a:s>
               <a:s r="8205">
                  <a:s r="8204">
                     <a:s r="8182">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8204">
                        <a:s>Only(
  </a:s>
                        <a:s r="8203">
                           <a:s>
                              <a:s r="8184">
                                 <a:s r="8183">
                                    <a:s r="8183">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling on postpartum family planning conducted&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8202">
                              <a:s>where </a:s>
                              <a:s r="8202">
                                 <a:s r="8192">
                                    <a:s r="8186">
                                       <a:s r="8185">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8186">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8191">
                                       <a:s>{ </a:s>
                                       <a:s r="8187">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8188">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8189">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8190">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8201">
                                    <a:s r="8198">
                                       <a:s>Last(</a:s>
                                       <a:s r="8197">
                                          <a:s>Split(</a:s>
                                          <a:s r="8195">
                                             <a:s r="8194">
                                                <a:s r="8193">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8194">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8195">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8196">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8200">
                                       <a:s r="8199">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8200">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8205">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8205" locator="3712:3-3716:8" path="code" xsi:type="Property">
            <source localId="8204" locator="3712:3-3716:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8203" locator="3713:3-3715:64" xsi:type="Query">
                  <source localId="8184" locator="3713:3-3713:73" alias="P">
                     <expression localId="8183" locator="3713:3-3713:71" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3713:15-3713:70" name="Counselling on postpartum family planning conducted" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8202" locator="3714:5-3715:64" xsi:type="And">
                     <operand localId="8192" locator="3714:11-3714:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8186" locator="3714:11-3714:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8191" locator="3714:23-3714:78" xsi:type="List">
                           <element localId="8187" locator="3714:25-3714:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8188" locator="3714:40-3714:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8189" locator="3714:55-3714:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8190" locator="3714:66-3714:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8201" locator="3715:11-3715:64" xsi:type="Equal">
                        <operand localId="8198" locator="3715:11-3715:49" xsi:type="Last">
                           <source localId="8197" locator="3715:16-3715:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8195" locator="3715:22-3715:42" path="reference" xsi:type="Property">
                                    <source localId="8194" locator="3715:22-3715:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8196" locator="3715:45-3715:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8200" locator="3715:53-3715:64" path="id" xsi:type="Property">
                              <source localId="8199" locator="3715:53-3715:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8241" locator="3724:1-3730:33" name="Family planning method selected" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8241">
               <a:s>/*
  @dataElement: ANC.B10.DE145 Family planning method selected
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Type of postpartum family planning method selected
*/
define &quot;Family planning method selected&quot;:
  </a:s>
               <a:s r="8240">
                  <a:s r="8238">
                     <a:s r="8237">
                        <a:s r="8207">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8237">
                           <a:s>Only(
  </a:s>
                           <a:s r="8236">
                              <a:s>
                                 <a:s r="8209">
                                    <a:s r="8208">
                                       <a:s r="8208">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Family planning method selected&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8235">
                                 <a:s>where </a:s>
                                 <a:s r="8235">
                                    <a:s r="8225">
                                       <a:s r="8216">
                                          <a:s r="8211">
                                             <a:s r="8210">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8211">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8215">
                                             <a:s>{ </a:s>
                                             <a:s r="8212">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8213">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8214">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8224">
                                          <a:s r="8223">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8221">
                                                <a:s r="8220">
                                                   <a:s r="8217">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8220">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8218">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8219">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8221">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8222">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8234">
                                       <a:s r="8231">
                                          <a:s>Last(</a:s>
                                          <a:s r="8230">
                                             <a:s>Split(</a:s>
                                             <a:s r="8228">
                                                <a:s r="8227">
                                                   <a:s r="8226">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8227">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8228">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8229">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8233">
                                          <a:s r="8232">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8233">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8238">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8239">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8240" locator="3725:3-3730:33" strict="false" xsi:type="As">
            <operand localId="8238" locator="3725:3-3730:9" path="value" xsi:type="Property">
               <source localId="8237" locator="3725:3-3730:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8236" locator="3726:3-3729:64" xsi:type="Query">
                     <source localId="8209" locator="3726:3-3726:55" alias="O">
                        <expression localId="8208" locator="3726:3-3726:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="3726:17-3726:52" name="Family planning method selected" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8235" locator="3727:5-3729:64" xsi:type="And">
                        <operand localId="8225" locator="3727:11-3728:80" xsi:type="And">
                           <operand localId="8216" locator="3727:11-3727:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8211" locator="3727:11-3727:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8215" locator="3727:23-3727:57" xsi:type="List">
                                 <element localId="8212" locator="3727:25-3727:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8213" locator="3727:34-3727:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8214" locator="3727:45-3727:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8224" locator="3728:11-3728:80" xsi:type="IsFalse">
                              <operand localId="8223" locator="3728:11-3728:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8221" locator="3728:20-3728:63" path="value" xsi:type="Property">
                                          <source localId="8220" locator="3728:20-3728:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8218" locator="3728:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8219" locator="3728:44-3728:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8222" locator="3728:66-3728:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8234" locator="3729:11-3729:64" xsi:type="Equal">
                           <operand localId="8231" locator="3729:11-3729:49" xsi:type="Last">
                              <source localId="8230" locator="3729:16-3729:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8228" locator="3729:22-3729:42" path="reference" xsi:type="Property">
                                       <source localId="8227" locator="3729:22-3729:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8229" locator="3729:45-3729:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8233" locator="3729:53-3729:64" path="id" xsi:type="Property">
                                 <source localId="8232" locator="3729:53-3729:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8239" locator="3730:14-3730:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8266" locator="3738:1-3743:8" name="Counselling conducted on breastfeeding" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8266">
               <a:s>/*
  @dataElement: ANC.B10.DE164 Counselling conducted on breastfeeding
  @activity: ANC.B.10.6 Risk reduction &amp; general counselling
  @description: Counselling on breastfeeding was conducted
*/
define &quot;Counselling conducted on breastfeeding&quot;:
  </a:s>
               <a:s r="8265">
                  <a:s r="8264">
                     <a:s r="8242">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8264">
                        <a:s>Only(
  </a:s>
                        <a:s r="8263">
                           <a:s>
                              <a:s r="8244">
                                 <a:s r="8243">
                                    <a:s r="8243">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on breastfeeding&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8262">
                              <a:s>where </a:s>
                              <a:s r="8262">
                                 <a:s r="8252">
                                    <a:s r="8246">
                                       <a:s r="8245">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8246">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8251">
                                       <a:s>{ </a:s>
                                       <a:s r="8247">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8248">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8249">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8250">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8261">
                                    <a:s r="8258">
                                       <a:s>Last(</a:s>
                                       <a:s r="8257">
                                          <a:s>Split(</a:s>
                                          <a:s r="8255">
                                             <a:s r="8254">
                                                <a:s r="8253">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8254">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8255">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8256">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8260">
                                       <a:s r="8259">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8260">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8265">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8265" locator="3739:3-3743:8" path="code" xsi:type="Property">
            <source localId="8264" locator="3739:3-3743:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8263" locator="3740:3-3742:64" xsi:type="Query">
                  <source localId="8244" locator="3740:3-3740:60" alias="P">
                     <expression localId="8243" locator="3740:3-3740:58" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3740:15-3740:57" name="Counselling conducted on breastfeeding" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8262" locator="3741:5-3742:64" xsi:type="And">
                     <operand localId="8252" locator="3741:11-3741:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8246" locator="3741:11-3741:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8251" locator="3741:23-3741:78" xsi:type="List">
                           <element localId="8247" locator="3741:25-3741:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8248" locator="3741:40-3741:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8249" locator="3741:55-3741:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8250" locator="3741:66-3741:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8261" locator="3742:11-3742:64" xsi:type="Equal">
                        <operand localId="8258" locator="3742:11-3742:49" xsi:type="Last">
                           <source localId="8257" locator="3742:16-3742:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8255" locator="3742:22-3742:42" path="reference" xsi:type="Property">
                                    <source localId="8254" locator="3742:22-3742:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8256" locator="3742:45-3742:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8260" locator="3742:53-3742:64" path="id" xsi:type="Property">
                              <source localId="8259" locator="3742:53-3742:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8287" locator="3751:1-3756:16" name="Reason tetanus toxoid (TT) vaccination not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8287">
               <a:s>/*
  @dataElement: ANC.B10.DE175 Reason tetanus toxoid (TT) vaccination not provided
  @activity: ANC.B.10.7 Immunizations
  @description: Select the reason why the TT dose was not given
*/
define &quot;Reason tetanus toxoid (TT) vaccination not provided&quot;:
  </a:s>
               <a:s r="8286">
                  <a:s r="8285">
                     <a:s r="8267">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8285">
                        <a:s>Only(
  </a:s>
                        <a:s r="8284">
                           <a:s>
                              <a:s r="8269">
                                 <a:s r="8268">
                                    <a:s r="8268">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason tetanus toxoid (TT) vaccination not provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> IND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8283">
                              <a:s>where </a:s>
                              <a:s r="8283">
                                 <a:s r="8273">
                                    <a:s r="8271">
                                       <a:s r="8270">
                                          <a:s>IND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8271">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8272">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8282">
                                    <a:s r="8279">
                                       <a:s>Last(</a:s>
                                       <a:s r="8278">
                                          <a:s>Split(</a:s>
                                          <a:s r="8276">
                                             <a:s r="8275">
                                                <a:s r="8274">
                                                   <a:s>IND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8275">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8276">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8277">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8281">
                                       <a:s r="8280">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8281">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8286">
                     <a:s>statusReason</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8286" locator="3752:3-3756:16" path="statusReason" xsi:type="Property">
            <source localId="8285" locator="3752:3-3756:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8284" locator="3753:3-3755:66" xsi:type="Query">
                  <source localId="8269" locator="3753:3-3753:78" alias="IND">
                     <expression localId="8268" locator="3753:3-3753:74" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3753:18-3753:73" name="Reason tetanus toxoid (TT) vaccination not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8283" locator="3754:5-3755:66" xsi:type="And">
                     <operand localId="8273" locator="3754:11-3754:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8271" locator="3754:11-3754:20" path="status" scope="IND" xsi:type="Property"/>
                        </operand>
                        <operand localId="8272" locator="3754:24-3754:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8282" locator="3755:11-3755:66" xsi:type="Equal">
                        <operand localId="8279" locator="3755:11-3755:51" xsi:type="Last">
                           <source localId="8278" locator="3755:16-3755:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8276" locator="3755:22-3755:44" path="reference" xsi:type="Property">
                                    <source localId="8275" locator="3755:22-3755:34" path="encounter" scope="IND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8277" locator="3755:47-3755:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8281" locator="3755:55-3755:66" path="id" xsi:type="Property">
                              <source localId="8280" locator="3755:55-3755:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8312" locator="3764:1-3769:8" name="Counselling conducted on Hep B negative" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8312">
               <a:s>/*
  @dataElement: ANC.B10.DE181 Counselling conducted on Hep B negative
  @activity: ANC.B.10.7 Immunizations
  @description: Counselling conducted on Hep B negative
*/
define &quot;Counselling conducted on Hep B negative&quot;:
  </a:s>
               <a:s r="8311">
                  <a:s r="8310">
                     <a:s r="8288">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8310">
                        <a:s>Only(
  </a:s>
                        <a:s r="8309">
                           <a:s>
                              <a:s r="8290">
                                 <a:s r="8289">
                                    <a:s r="8289">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Counselling conducted on Hep B negative&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8308">
                              <a:s>where </a:s>
                              <a:s r="8308">
                                 <a:s r="8298">
                                    <a:s r="8292">
                                       <a:s r="8291">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8292">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8297">
                                       <a:s>{ </a:s>
                                       <a:s r="8293">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8294">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8295">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8296">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8307">
                                    <a:s r="8304">
                                       <a:s>Last(</a:s>
                                       <a:s r="8303">
                                          <a:s>Split(</a:s>
                                          <a:s r="8301">
                                             <a:s r="8300">
                                                <a:s r="8299">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8300">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8301">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8302">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8306">
                                       <a:s r="8305">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8306">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8311">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8311" locator="3765:3-3769:8" path="code" xsi:type="Property">
            <source localId="8310" locator="3765:3-3769:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8309" locator="3766:3-3768:64" xsi:type="Query">
                  <source localId="8290" locator="3766:3-3766:61" alias="P">
                     <expression localId="8289" locator="3766:3-3766:59" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3766:15-3766:58" name="Counselling conducted on Hep B negative" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8308" locator="3767:5-3768:64" xsi:type="And">
                     <operand localId="8298" locator="3767:11-3767:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8292" locator="3767:11-3767:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8297" locator="3767:23-3767:78" xsi:type="List">
                           <element localId="8293" locator="3767:25-3767:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8294" locator="3767:40-3767:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8295" locator="3767:55-3767:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8296" locator="3767:66-3767:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8307" locator="3768:11-3768:64" xsi:type="Equal">
                        <operand localId="8304" locator="3768:11-3768:49" xsi:type="Last">
                           <source localId="8303" locator="3768:16-3768:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8301" locator="3768:22-3768:42" path="reference" xsi:type="Property">
                                    <source localId="8300" locator="3768:22-3768:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8302" locator="3768:45-3768:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8306" locator="3768:53-3768:64" path="id" xsi:type="Property">
                              <source localId="8305" locator="3768:53-3768:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8347" locator="3777:1-3783:33" name="No doses of hepatitis B" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8347">
               <a:s>/*
  @dataElement: ANC.B10.DE188 No doses of hepatitis B
  @activity: ANC.B.10.7 Immunizations
  @description: No dose, or zero doses, of hepatitis B immunization has ever been provided
*/
define &quot;No doses of hepatitis B&quot;:
  </a:s>
               <a:s r="8346">
                  <a:s r="8344">
                     <a:s r="8343">
                        <a:s r="8313">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8343">
                           <a:s>Only(
  </a:s>
                           <a:s r="8342">
                              <a:s>
                                 <a:s r="8315">
                                    <a:s r="8314">
                                       <a:s r="8314">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;No doses of hepatitis B&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8341">
                                 <a:s>where </a:s>
                                 <a:s r="8341">
                                    <a:s r="8331">
                                       <a:s r="8322">
                                          <a:s r="8317">
                                             <a:s r="8316">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8317">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8321">
                                             <a:s>{ </a:s>
                                             <a:s r="8318">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8319">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8320">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8330">
                                          <a:s r="8329">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8327">
                                                <a:s r="8326">
                                                   <a:s r="8323">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8326">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8324">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8325">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8327">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8328">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8340">
                                       <a:s r="8337">
                                          <a:s>Last(</a:s>
                                          <a:s r="8336">
                                             <a:s>Split(</a:s>
                                             <a:s r="8334">
                                                <a:s r="8333">
                                                   <a:s r="8332">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8333">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8334">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8335">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8339">
                                          <a:s r="8338">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8339">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8344">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8345">
                     <a:s>FHIR.CodeableConcept</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8346" locator="3778:3-3783:33" strict="false" xsi:type="As">
            <operand localId="8344" locator="3778:3-3783:9" path="value" xsi:type="Property">
               <source localId="8343" locator="3778:3-3783:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8342" locator="3779:3-3782:64" xsi:type="Query">
                     <source localId="8315" locator="3779:3-3779:47" alias="O">
                        <expression localId="8314" locator="3779:3-3779:45" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="3779:17-3779:44" name="No doses of hepatitis B" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8341" locator="3780:5-3782:64" xsi:type="And">
                        <operand localId="8331" locator="3780:11-3781:80" xsi:type="And">
                           <operand localId="8322" locator="3780:11-3780:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8317" locator="3780:11-3780:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8321" locator="3780:23-3780:57" xsi:type="List">
                                 <element localId="8318" locator="3780:25-3780:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8319" locator="3780:34-3780:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8320" locator="3780:45-3780:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8330" locator="3781:11-3781:80" xsi:type="IsFalse">
                              <operand localId="8329" locator="3781:11-3781:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8327" locator="3781:20-3781:63" path="value" xsi:type="Property">
                                          <source localId="8326" locator="3781:20-3781:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8324" locator="3781:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8325" locator="3781:44-3781:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8328" locator="3781:66-3781:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8340" locator="3782:11-3782:64" xsi:type="Equal">
                           <operand localId="8337" locator="3782:11-3782:49" xsi:type="Last">
                              <source localId="8336" locator="3782:16-3782:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8334" locator="3782:22-3782:42" path="reference" xsi:type="Property">
                                       <source localId="8333" locator="3782:22-3782:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8335" locator="3782:45-3782:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8339" locator="3782:53-3782:64" path="id" xsi:type="Property">
                                 <source localId="8338" locator="3782:53-3782:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8345" locator="3783:14-3783:33" name="fhir:CodeableConcept" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8368" locator="3791:1-3796:15" name="Reason Hep B vaccination not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8368">
               <a:s>/*
  @dataElement: ANC.B10.DE189 Reason Hep B vaccination not provided
  @activity: ANC.B.10.7 Immunizations
  @description: Select the reason why the Hep B dose was not given
*/
define &quot;Reason Hep B vaccination not provided&quot;:
  </a:s>
               <a:s r="8367">
                  <a:s r="8366">
                     <a:s r="8348">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8366">
                        <a:s>Only(
  </a:s>
                        <a:s r="8365">
                           <a:s>
                              <a:s r="8350">
                                 <a:s r="8349">
                                    <a:s r="8349">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason Hep B vaccination not provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> IND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8364">
                              <a:s>where </a:s>
                              <a:s r="8364">
                                 <a:s r="8354">
                                    <a:s r="8352">
                                       <a:s r="8351">
                                          <a:s>IND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8352">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8353">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8363">
                                    <a:s r="8360">
                                       <a:s>Last(</a:s>
                                       <a:s r="8359">
                                          <a:s>Split(</a:s>
                                          <a:s r="8357">
                                             <a:s r="8356">
                                                <a:s r="8355">
                                                   <a:s>IND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8356">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8357">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8358">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8362">
                                       <a:s r="8361">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8362">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8367">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8367" locator="3792:3-3796:15" path="vaccineCode" xsi:type="Property">
            <source localId="8366" locator="3792:3-3796:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8365" locator="3793:3-3795:66" xsi:type="Query">
                  <source localId="8350" locator="3793:3-3793:64" alias="IND">
                     <expression localId="8349" locator="3793:3-3793:60" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3793:18-3793:59" name="Reason Hep B vaccination not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8364" locator="3794:5-3795:66" xsi:type="And">
                     <operand localId="8354" locator="3794:11-3794:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8352" locator="3794:11-3794:20" path="status" scope="IND" xsi:type="Property"/>
                        </operand>
                        <operand localId="8353" locator="3794:24-3794:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8363" locator="3795:11-3795:66" xsi:type="Equal">
                        <operand localId="8360" locator="3795:11-3795:51" xsi:type="Last">
                           <source localId="8359" locator="3795:16-3795:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8357" locator="3795:22-3795:44" path="reference" xsi:type="Property">
                                    <source localId="8356" locator="3795:22-3795:34" path="encounter" scope="IND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8358" locator="3795:47-3795:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8362" locator="3795:55-3795:66" path="id" xsi:type="Property">
                              <source localId="8361" locator="3795:55-3795:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8389" locator="3804:1-3809:16" name="Reason flu vaccine not provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8389">
               <a:s>/*
  @dataElement: ANC.B10.DE197 Reason flu vaccine not provided
  @activity: ANC.B.10.7 Immunizations
  @description: Select the reason why the flu dose was not given
*/
define &quot;Reason flu vaccine not provided&quot;:
  </a:s>
               <a:s r="8388">
                  <a:s r="8387">
                     <a:s r="8369">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8387">
                        <a:s>Only(
  </a:s>
                        <a:s r="8386">
                           <a:s>
                              <a:s r="8371">
                                 <a:s r="8370">
                                    <a:s r="8370">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason flu vaccine not provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> IND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8385">
                              <a:s>where </a:s>
                              <a:s r="8385">
                                 <a:s r="8375">
                                    <a:s r="8373">
                                       <a:s r="8372">
                                          <a:s>IND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8373">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8374">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8384">
                                    <a:s r="8381">
                                       <a:s>Last(</a:s>
                                       <a:s r="8380">
                                          <a:s>Split(</a:s>
                                          <a:s r="8378">
                                             <a:s r="8377">
                                                <a:s r="8376">
                                                   <a:s>IND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8377">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8378">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8379">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8383">
                                       <a:s r="8382">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8383">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8388">
                     <a:s>statusReason</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8388" locator="3805:3-3809:16" path="statusReason" xsi:type="Property">
            <source localId="8387" locator="3805:3-3809:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8386" locator="3806:3-3808:66" xsi:type="Query">
                  <source localId="8371" locator="3806:3-3806:58" alias="IND">
                     <expression localId="8370" locator="3806:3-3806:54" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3806:18-3806:53" name="Reason flu vaccine not provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8385" locator="3807:5-3808:66" xsi:type="And">
                     <operand localId="8375" locator="3807:11-3807:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8373" locator="3807:11-3807:20" path="status" scope="IND" xsi:type="Property"/>
                        </operand>
                        <operand localId="8374" locator="3807:24-3807:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8384" locator="3808:11-3808:66" xsi:type="Equal">
                        <operand localId="8381" locator="3808:11-3808:51" xsi:type="Last">
                           <source localId="8380" locator="3808:16-3808:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8378" locator="3808:22-3808:44" path="reference" xsi:type="Property">
                                    <source localId="8377" locator="3808:22-3808:34" path="encounter" scope="IND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8379" locator="3808:47-3808:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8383" locator="3808:55-3808:66" path="id" xsi:type="Property">
                              <source localId="8382" locator="3808:55-3808:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8407" locator="3817:1-3820:64" name="Flu immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8407">
               <a:s>/*
  @dataElement: ANC.B10.DE195 Flu immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the seasonal flu immunization was provided
*/
define &quot;Flu immunization provided&quot;:
  </a:s>
               <a:s r="8406">
                  <a:s>
                     <a:s r="8391">
                        <a:s r="8390">
                           <a:s r="8390">
                              <a:s>[Immunization: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Flu immunization provided&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="8405">
                     <a:s>where </a:s>
                     <a:s r="8405">
                        <a:s r="8395">
                           <a:s r="8393">
                              <a:s r="8392">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="8393">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="8394">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="8404">
                           <a:s r="8401">
                              <a:s>Last(</a:s>
                              <a:s r="8400">
                                 <a:s>Split(</a:s>
                                 <a:s r="8398">
                                    <a:s r="8397">
                                       <a:s r="8396">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8397">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="8398">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="8399">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="8403">
                              <a:s r="8402">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="8403">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8406" locator="3818:3-3820:64" xsi:type="Query">
            <source localId="8391" locator="3818:3-3818:50" alias="I">
               <expression localId="8390" locator="3818:3-3818:48" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="3818:18-3818:47" name="Flu immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="8405" locator="3819:5-3820:64" xsi:type="And">
               <operand localId="8395" locator="3819:11-3819:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="8393" locator="3819:11-3819:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="8394" locator="3819:22-3819:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="8404" locator="3820:11-3820:64" xsi:type="Equal">
                  <operand localId="8401" locator="3820:11-3820:49" xsi:type="Last">
                     <source localId="8400" locator="3820:16-3820:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8398" locator="3820:22-3820:42" path="reference" xsi:type="Property">
                              <source localId="8397" locator="3820:22-3820:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="8399" locator="3820:45-3820:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="8403" locator="3820:53-3820:64" path="id" xsi:type="Property">
                        <source localId="8402" locator="3820:53-3820:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="8425" locator="3828:1-3831:64" name="Date flu immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8425">
               <a:s>/*
  @dataElement: ANC.B10.DE196 Date flu immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which this year's seasonal flu dose has been given
*/
define &quot;Date flu immunization was received&quot;:
  </a:s>
               <a:s r="8424">
                  <a:s>
                     <a:s r="8409">
                        <a:s r="8408">
                           <a:s r="8408">
                              <a:s>[Immunization]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="8423">
                     <a:s>where </a:s>
                     <a:s r="8423">
                        <a:s r="8413">
                           <a:s r="8411">
                              <a:s r="8410">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="8411">
                                 <a:s>status</a:s>
                              </a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="8412">
                              <a:s>'completed'</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="8422">
                           <a:s r="8419">
                              <a:s>Last(</a:s>
                              <a:s r="8418">
                                 <a:s>Split(</a:s>
                                 <a:s r="8416">
                                    <a:s r="8415">
                                       <a:s r="8414">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8415">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="8416">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="8417">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="8421">
                              <a:s r="8420">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="8421">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8424" locator="3829:3-3831:64" xsi:type="Query">
            <source localId="8409" locator="3829:3-3829:18" alias="I">
               <expression localId="8408" locator="3829:3-3829:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
            </source>
            <where localId="8423" locator="3830:5-3831:64" xsi:type="And">
               <operand localId="8413" locator="3830:11-3830:32" xsi:type="Equal">
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="8411" locator="3830:11-3830:18" path="status" scope="I" xsi:type="Property"/>
                  </operand>
                  <operand localId="8412" locator="3830:22-3830:32" valueType="t:String" value="completed" xsi:type="Literal"/>
               </operand>
               <operand localId="8422" locator="3831:11-3831:64" xsi:type="Equal">
                  <operand localId="8419" locator="3831:11-3831:49" xsi:type="Last">
                     <source localId="8418" locator="3831:16-3831:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8416" locator="3831:22-3831:42" path="reference" xsi:type="Property">
                              <source localId="8415" locator="3831:22-3831:32" path="encounter" scope="I" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="8417" locator="3831:45-3831:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="8421" locator="3831:53-3831:64" path="id" xsi:type="Property">
                        <source localId="8420" locator="3831:53-3831:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="8446" locator="3839:1-3844:15" name="Hepatitis B-1 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8446">
               <a:s>/*
  @dataElement: ANC.B10.DE182 Hepatitis B-1 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether the first dose of hepatitis B immunization was provided
*/
define &quot;Hepatitis B-1 immunization provided&quot;:
  </a:s>
               <a:s r="8445">
                  <a:s r="8444">
                     <a:s r="8426">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8444">
                        <a:s>Only(
  </a:s>
                        <a:s r="8443">
                           <a:s>
                              <a:s r="8428">
                                 <a:s r="8427">
                                    <a:s r="8427">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis B-1 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8442">
                              <a:s>where </a:s>
                              <a:s r="8442">
                                 <a:s r="8432">
                                    <a:s r="8430">
                                       <a:s r="8429">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8430">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8431">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8441">
                                    <a:s r="8438">
                                       <a:s>Last(</a:s>
                                       <a:s r="8437">
                                          <a:s>Split(</a:s>
                                          <a:s r="8435">
                                             <a:s r="8434">
                                                <a:s r="8433">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8434">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8435">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8436">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8440">
                                       <a:s r="8439">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8440">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8445">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8445" locator="3840:3-3844:15" path="vaccineCode" xsi:type="Property">
            <source localId="8444" locator="3840:3-3844:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8443" locator="3841:3-3843:64" xsi:type="Query">
                  <source localId="8428" locator="3841:3-3841:60" alias="I">
                     <expression localId="8427" locator="3841:3-3841:58" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3841:18-3841:57" name="Hepatitis B-1 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8442" locator="3842:5-3843:64" xsi:type="And">
                     <operand localId="8432" locator="3842:11-3842:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8430" locator="3842:11-3842:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8431" locator="3842:22-3842:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8441" locator="3843:11-3843:64" xsi:type="Equal">
                        <operand localId="8438" locator="3843:11-3843:49" xsi:type="Last">
                           <source localId="8437" locator="3843:16-3843:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8435" locator="3843:22-3843:42" path="reference" xsi:type="Property">
                                    <source localId="8434" locator="3843:22-3843:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8436" locator="3843:45-3843:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8440" locator="3843:53-3843:64" path="id" xsi:type="Property">
                              <source localId="8439" locator="3843:53-3843:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8469" locator="3852:1-3857:31" name="Date hepatitis B-1 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8469">
               <a:s>/*
  @dataElement: ANC.B10.DE183 Date hepatitis B-1 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which the first dose of hepatitis B immunization was provided
*/
define &quot;Date hepatitis B-1 immunization was received&quot;:
  </a:s>
               <a:s r="8468">
                  <a:s r="8466">
                     <a:s r="8465">
                        <a:s r="8447">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8465">
                           <a:s>Only(
  </a:s>
                           <a:s r="8464">
                              <a:s>
                                 <a:s r="8449">
                                    <a:s r="8448">
                                       <a:s r="8448">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8463">
                                 <a:s>where </a:s>
                                 <a:s r="8463">
                                    <a:s r="8453">
                                       <a:s r="8451">
                                          <a:s r="8450">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8451">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8452">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8462">
                                       <a:s r="8459">
                                          <a:s>Last(</a:s>
                                          <a:s r="8458">
                                             <a:s>Split(</a:s>
                                             <a:s r="8456">
                                                <a:s r="8455">
                                                   <a:s r="8454">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8455">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8456">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8457">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8461">
                                          <a:s r="8460">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8461">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8466">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8467">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8468" locator="3853:3-3857:31" strict="false" xsi:type="As">
            <operand localId="8466" locator="3853:3-3857:14" path="occurrence" xsi:type="Property">
               <source localId="8465" locator="3853:3-3857:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8464" locator="3854:3-3856:64" xsi:type="Query">
                     <source localId="8449" locator="3854:3-3854:18" alias="I">
                        <expression localId="8448" locator="3854:3-3854:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8463" locator="3855:5-3856:64" xsi:type="And">
                        <operand localId="8453" locator="3855:11-3855:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8451" locator="3855:11-3855:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8452" locator="3855:22-3855:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8462" locator="3856:11-3856:64" xsi:type="Equal">
                           <operand localId="8459" locator="3856:11-3856:49" xsi:type="Last">
                              <source localId="8458" locator="3856:16-3856:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8456" locator="3856:22-3856:42" path="reference" xsi:type="Property">
                                       <source localId="8455" locator="3856:22-3856:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8457" locator="3856:45-3856:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8461" locator="3856:53-3856:64" path="id" xsi:type="Property">
                                 <source localId="8460" locator="3856:53-3856:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8467" locator="3857:19-3857:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8490" locator="3865:1-3870:15" name="Hepatitis B-2 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8490">
               <a:s>/*
  @dataElement: ANC.B10.DE184 Hepatitis B-2 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether the second dose of hepatitis B immunization was provided
*/
define &quot;Hepatitis B-2 immunization provided&quot;:
  </a:s>
               <a:s r="8489">
                  <a:s r="8488">
                     <a:s r="8470">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8488">
                        <a:s>Only(
  </a:s>
                        <a:s r="8487">
                           <a:s>
                              <a:s r="8472">
                                 <a:s r="8471">
                                    <a:s r="8471">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis B-2 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8486">
                              <a:s>where </a:s>
                              <a:s r="8486">
                                 <a:s r="8476">
                                    <a:s r="8474">
                                       <a:s r="8473">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8474">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8475">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8485">
                                    <a:s r="8482">
                                       <a:s>Last(</a:s>
                                       <a:s r="8481">
                                          <a:s>Split(</a:s>
                                          <a:s r="8479">
                                             <a:s r="8478">
                                                <a:s r="8477">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8478">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8479">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8480">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8484">
                                       <a:s r="8483">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8484">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8489">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8489" locator="3866:3-3870:15" path="vaccineCode" xsi:type="Property">
            <source localId="8488" locator="3866:3-3870:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8487" locator="3867:3-3869:64" xsi:type="Query">
                  <source localId="8472" locator="3867:3-3867:60" alias="I">
                     <expression localId="8471" locator="3867:3-3867:58" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3867:18-3867:57" name="Hepatitis B-2 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8486" locator="3868:5-3869:64" xsi:type="And">
                     <operand localId="8476" locator="3868:11-3868:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8474" locator="3868:11-3868:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8475" locator="3868:22-3868:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8485" locator="3869:11-3869:64" xsi:type="Equal">
                        <operand localId="8482" locator="3869:11-3869:49" xsi:type="Last">
                           <source localId="8481" locator="3869:16-3869:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8479" locator="3869:22-3869:42" path="reference" xsi:type="Property">
                                    <source localId="8478" locator="3869:22-3869:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8480" locator="3869:45-3869:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8484" locator="3869:53-3869:64" path="id" xsi:type="Property">
                              <source localId="8483" locator="3869:53-3869:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8513" locator="3878:1-3883:31" name="Date hepatitis B-2 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8513">
               <a:s>/*
  @dataElement: ANC.B10.DE185 Date hepatitis B-2 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which the second dose of hepatitis B immunization was provided
*/
define &quot;Date hepatitis B-2 immunization was received&quot;:
  </a:s>
               <a:s r="8512">
                  <a:s r="8510">
                     <a:s r="8509">
                        <a:s r="8491">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8509">
                           <a:s>Only(
  </a:s>
                           <a:s r="8508">
                              <a:s>
                                 <a:s r="8493">
                                    <a:s r="8492">
                                       <a:s r="8492">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8507">
                                 <a:s>where </a:s>
                                 <a:s r="8507">
                                    <a:s r="8497">
                                       <a:s r="8495">
                                          <a:s r="8494">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8495">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8496">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8506">
                                       <a:s r="8503">
                                          <a:s>Last(</a:s>
                                          <a:s r="8502">
                                             <a:s>Split(</a:s>
                                             <a:s r="8500">
                                                <a:s r="8499">
                                                   <a:s r="8498">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8499">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8500">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8501">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8505">
                                          <a:s r="8504">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8505">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8510">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8511">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8512" locator="3879:3-3883:31" strict="false" xsi:type="As">
            <operand localId="8510" locator="3879:3-3883:14" path="occurrence" xsi:type="Property">
               <source localId="8509" locator="3879:3-3883:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8508" locator="3880:3-3882:64" xsi:type="Query">
                     <source localId="8493" locator="3880:3-3880:18" alias="I">
                        <expression localId="8492" locator="3880:3-3880:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8507" locator="3881:5-3882:64" xsi:type="And">
                        <operand localId="8497" locator="3881:11-3881:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8495" locator="3881:11-3881:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8496" locator="3881:22-3881:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8506" locator="3882:11-3882:64" xsi:type="Equal">
                           <operand localId="8503" locator="3882:11-3882:49" xsi:type="Last">
                              <source localId="8502" locator="3882:16-3882:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8500" locator="3882:22-3882:42" path="reference" xsi:type="Property">
                                       <source localId="8499" locator="3882:22-3882:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8501" locator="3882:45-3882:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8505" locator="3882:53-3882:64" path="id" xsi:type="Property">
                                 <source localId="8504" locator="3882:53-3882:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8511" locator="3883:19-3883:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8534" locator="3891:1-3896:15" name="Hepatitis B-3 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8534">
               <a:s>/*
  @dataElement: ANC.B10.DE186 Hepatitis B-3 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether the third dose of hepatitis B immunization was provided
*/
define &quot;Hepatitis B-3 immunization provided&quot;:
  </a:s>
               <a:s r="8533">
                  <a:s r="8532">
                     <a:s r="8514">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8532">
                        <a:s>Only(
  </a:s>
                        <a:s r="8531">
                           <a:s>
                              <a:s r="8516">
                                 <a:s r="8515">
                                    <a:s r="8515">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Hepatitis B-3 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8530">
                              <a:s>where </a:s>
                              <a:s r="8530">
                                 <a:s r="8520">
                                    <a:s r="8518">
                                       <a:s r="8517">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8518">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8519">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8529">
                                    <a:s r="8526">
                                       <a:s>Last(</a:s>
                                       <a:s r="8525">
                                          <a:s>Split(</a:s>
                                          <a:s r="8523">
                                             <a:s r="8522">
                                                <a:s r="8521">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8522">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8523">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8524">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8528">
                                       <a:s r="8527">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8528">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8533">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8533" locator="3892:3-3896:15" path="vaccineCode" xsi:type="Property">
            <source localId="8532" locator="3892:3-3896:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8531" locator="3893:3-3895:64" xsi:type="Query">
                  <source localId="8516" locator="3893:3-3893:60" alias="I">
                     <expression localId="8515" locator="3893:3-3893:58" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3893:18-3893:57" name="Hepatitis B-3 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8530" locator="3894:5-3895:64" xsi:type="And">
                     <operand localId="8520" locator="3894:11-3894:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8518" locator="3894:11-3894:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8519" locator="3894:22-3894:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8529" locator="3895:11-3895:64" xsi:type="Equal">
                        <operand localId="8526" locator="3895:11-3895:49" xsi:type="Last">
                           <source localId="8525" locator="3895:16-3895:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8523" locator="3895:22-3895:42" path="reference" xsi:type="Property">
                                    <source localId="8522" locator="3895:22-3895:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8524" locator="3895:45-3895:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8528" locator="3895:53-3895:64" path="id" xsi:type="Property">
                              <source localId="8527" locator="3895:53-3895:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8557" locator="3904:1-3909:31" name="Date hepatitis B-3 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8557">
               <a:s>/*
  @dataElement: ANC.B10.DE187 Date hepatitis B-3 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which the third dose of hepatitis B immunization was provided
*/
define &quot;Date hepatitis B-3 immunization was received&quot;:
  </a:s>
               <a:s r="8556">
                  <a:s r="8554">
                     <a:s r="8553">
                        <a:s r="8535">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8553">
                           <a:s>Only(
  </a:s>
                           <a:s r="8552">
                              <a:s>
                                 <a:s r="8537">
                                    <a:s r="8536">
                                       <a:s r="8536">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8551">
                                 <a:s>where </a:s>
                                 <a:s r="8551">
                                    <a:s r="8541">
                                       <a:s r="8539">
                                          <a:s r="8538">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8539">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8540">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8550">
                                       <a:s r="8547">
                                          <a:s>Last(</a:s>
                                          <a:s r="8546">
                                             <a:s>Split(</a:s>
                                             <a:s r="8544">
                                                <a:s r="8543">
                                                   <a:s r="8542">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8543">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8544">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8545">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8549">
                                          <a:s r="8548">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8549">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8554">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8555">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8556" locator="3905:3-3909:31" strict="false" xsi:type="As">
            <operand localId="8554" locator="3905:3-3909:14" path="occurrence" xsi:type="Property">
               <source localId="8553" locator="3905:3-3909:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8552" locator="3906:3-3908:64" xsi:type="Query">
                     <source localId="8537" locator="3906:3-3906:18" alias="I">
                        <expression localId="8536" locator="3906:3-3906:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8551" locator="3907:5-3908:64" xsi:type="And">
                        <operand localId="8541" locator="3907:11-3907:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8539" locator="3907:11-3907:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8540" locator="3907:22-3907:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8550" locator="3908:11-3908:64" xsi:type="Equal">
                           <operand localId="8547" locator="3908:11-3908:49" xsi:type="Last">
                              <source localId="8546" locator="3908:16-3908:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8544" locator="3908:22-3908:42" path="reference" xsi:type="Property">
                                       <source localId="8543" locator="3908:22-3908:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8545" locator="3908:45-3908:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8549" locator="3908:53-3908:64" path="id" xsi:type="Property">
                                 <source localId="8548" locator="3908:53-3908:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8555" locator="3909:19-3909:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8578" locator="3917:1-3922:15" name="Tetanus toxoid (TT) 1 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8578">
               <a:s>/*
  @dataElement: ANC.B10.DE165 Tetanus toxoid (TT) 1 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the first tetanus toxoid-containing vaccine (TT1) dose was provided
*/
define &quot;Tetanus toxoid (TT) 1 immunization provided&quot;:
  </a:s>
               <a:s r="8577">
                  <a:s r="8576">
                     <a:s r="8558">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8576">
                        <a:s>Only(
  </a:s>
                        <a:s r="8575">
                           <a:s>
                              <a:s r="8560">
                                 <a:s r="8559">
                                    <a:s r="8559">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Tetanus toxoid (TT) 1 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8574">
                              <a:s>where </a:s>
                              <a:s r="8574">
                                 <a:s r="8564">
                                    <a:s r="8562">
                                       <a:s r="8561">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8562">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8563">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8573">
                                    <a:s r="8570">
                                       <a:s>Last(</a:s>
                                       <a:s r="8569">
                                          <a:s>Split(</a:s>
                                          <a:s r="8567">
                                             <a:s r="8566">
                                                <a:s r="8565">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8566">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8567">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8568">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8572">
                                       <a:s r="8571">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8572">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8577">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8577" locator="3918:3-3922:15" path="vaccineCode" xsi:type="Property">
            <source localId="8576" locator="3918:3-3922:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8575" locator="3919:3-3921:64" xsi:type="Query">
                  <source localId="8560" locator="3919:3-3919:68" alias="I">
                     <expression localId="8559" locator="3919:3-3919:66" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3919:18-3919:65" name="Tetanus toxoid (TT) 1 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8574" locator="3920:5-3921:64" xsi:type="And">
                     <operand localId="8564" locator="3920:11-3920:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8562" locator="3920:11-3920:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8563" locator="3920:22-3920:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8573" locator="3921:11-3921:64" xsi:type="Equal">
                        <operand localId="8570" locator="3921:11-3921:49" xsi:type="Last">
                           <source localId="8569" locator="3921:16-3921:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8567" locator="3921:22-3921:42" path="reference" xsi:type="Property">
                                    <source localId="8566" locator="3921:22-3921:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8568" locator="3921:45-3921:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8572" locator="3921:53-3921:64" path="id" xsi:type="Property">
                              <source localId="8571" locator="3921:53-3921:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8601" locator="3930:1-3935:31" name="Date tetanus toxoid 1 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8601">
               <a:s>/*
  @dataElement: ANC.B10.DE166 Date tetanus toxoid 1 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which TT1 was provided
*/
define &quot;Date tetanus toxoid 1 immunization was received&quot;:
  </a:s>
               <a:s r="8600">
                  <a:s r="8598">
                     <a:s r="8597">
                        <a:s r="8579">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8597">
                           <a:s>Only(
  </a:s>
                           <a:s r="8596">
                              <a:s>
                                 <a:s r="8581">
                                    <a:s r="8580">
                                       <a:s r="8580">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8595">
                                 <a:s>where </a:s>
                                 <a:s r="8595">
                                    <a:s r="8585">
                                       <a:s r="8583">
                                          <a:s r="8582">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8583">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8584">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8594">
                                       <a:s r="8591">
                                          <a:s>Last(</a:s>
                                          <a:s r="8590">
                                             <a:s>Split(</a:s>
                                             <a:s r="8588">
                                                <a:s r="8587">
                                                   <a:s r="8586">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8587">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8588">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8589">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8593">
                                          <a:s r="8592">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8593">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8598">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8599">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8600" locator="3931:3-3935:31" strict="false" xsi:type="As">
            <operand localId="8598" locator="3931:3-3935:14" path="occurrence" xsi:type="Property">
               <source localId="8597" locator="3931:3-3935:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8596" locator="3932:3-3934:64" xsi:type="Query">
                     <source localId="8581" locator="3932:3-3932:18" alias="I">
                        <expression localId="8580" locator="3932:3-3932:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8595" locator="3933:5-3934:64" xsi:type="And">
                        <operand localId="8585" locator="3933:11-3933:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8583" locator="3933:11-3933:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8584" locator="3933:22-3933:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8594" locator="3934:11-3934:64" xsi:type="Equal">
                           <operand localId="8591" locator="3934:11-3934:49" xsi:type="Last">
                              <source localId="8590" locator="3934:16-3934:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8588" locator="3934:22-3934:42" path="reference" xsi:type="Property">
                                       <source localId="8587" locator="3934:22-3934:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8589" locator="3934:45-3934:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8593" locator="3934:53-3934:64" path="id" xsi:type="Property">
                                 <source localId="8592" locator="3934:53-3934:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8599" locator="3935:19-3935:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8622" locator="3943:1-3948:15" name="Tetanus toxoid (TT) 2 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8622">
               <a:s>/*
  @dataElement: ANC.B10.DE167 Tetanus toxoid (TT) 2 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the second tetanus toxoid-containing vaccine (TT2) dose was provided
*/
define &quot;Tetanus toxoid (TT) 2 immunization provided&quot;:
  </a:s>
               <a:s r="8621">
                  <a:s r="8620">
                     <a:s r="8602">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8620">
                        <a:s>Only(
  </a:s>
                        <a:s r="8619">
                           <a:s>
                              <a:s r="8604">
                                 <a:s r="8603">
                                    <a:s r="8603">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Tetanus toxoid (TT) 2 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8618">
                              <a:s>where </a:s>
                              <a:s r="8618">
                                 <a:s r="8608">
                                    <a:s r="8606">
                                       <a:s r="8605">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8606">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8607">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8617">
                                    <a:s r="8614">
                                       <a:s>Last(</a:s>
                                       <a:s r="8613">
                                          <a:s>Split(</a:s>
                                          <a:s r="8611">
                                             <a:s r="8610">
                                                <a:s r="8609">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8610">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8611">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8612">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8616">
                                       <a:s r="8615">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8616">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8621">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8621" locator="3944:3-3948:15" path="vaccineCode" xsi:type="Property">
            <source localId="8620" locator="3944:3-3948:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8619" locator="3945:3-3947:64" xsi:type="Query">
                  <source localId="8604" locator="3945:3-3945:68" alias="I">
                     <expression localId="8603" locator="3945:3-3945:66" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3945:18-3945:65" name="Tetanus toxoid (TT) 2 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8618" locator="3946:5-3947:64" xsi:type="And">
                     <operand localId="8608" locator="3946:11-3946:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8606" locator="3946:11-3946:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8607" locator="3946:22-3946:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8617" locator="3947:11-3947:64" xsi:type="Equal">
                        <operand localId="8614" locator="3947:11-3947:49" xsi:type="Last">
                           <source localId="8613" locator="3947:16-3947:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8611" locator="3947:22-3947:42" path="reference" xsi:type="Property">
                                    <source localId="8610" locator="3947:22-3947:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8612" locator="3947:45-3947:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8616" locator="3947:53-3947:64" path="id" xsi:type="Property">
                              <source localId="8615" locator="3947:53-3947:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8645" locator="3956:1-3961:31" name="Date tetanus toxoid 2 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8645">
               <a:s>/*
  @dataElement: ANC.B10.DE168 Date tetanus toxoid 2 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which TT2 was provided
*/
define &quot;Date tetanus toxoid 2 immunization was received&quot;:
  </a:s>
               <a:s r="8644">
                  <a:s r="8642">
                     <a:s r="8641">
                        <a:s r="8623">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8641">
                           <a:s>Only(
  </a:s>
                           <a:s r="8640">
                              <a:s>
                                 <a:s r="8625">
                                    <a:s r="8624">
                                       <a:s r="8624">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8639">
                                 <a:s>where </a:s>
                                 <a:s r="8639">
                                    <a:s r="8629">
                                       <a:s r="8627">
                                          <a:s r="8626">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8627">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8628">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8638">
                                       <a:s r="8635">
                                          <a:s>Last(</a:s>
                                          <a:s r="8634">
                                             <a:s>Split(</a:s>
                                             <a:s r="8632">
                                                <a:s r="8631">
                                                   <a:s r="8630">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8631">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8632">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8633">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8637">
                                          <a:s r="8636">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8637">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8642">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8643">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8644" locator="3957:3-3961:31" strict="false" xsi:type="As">
            <operand localId="8642" locator="3957:3-3961:14" path="occurrence" xsi:type="Property">
               <source localId="8641" locator="3957:3-3961:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8640" locator="3958:3-3960:64" xsi:type="Query">
                     <source localId="8625" locator="3958:3-3958:18" alias="I">
                        <expression localId="8624" locator="3958:3-3958:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8639" locator="3959:5-3960:64" xsi:type="And">
                        <operand localId="8629" locator="3959:11-3959:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8627" locator="3959:11-3959:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8628" locator="3959:22-3959:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8638" locator="3960:11-3960:64" xsi:type="Equal">
                           <operand localId="8635" locator="3960:11-3960:49" xsi:type="Last">
                              <source localId="8634" locator="3960:16-3960:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8632" locator="3960:22-3960:42" path="reference" xsi:type="Property">
                                       <source localId="8631" locator="3960:22-3960:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8633" locator="3960:45-3960:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8637" locator="3960:53-3960:64" path="id" xsi:type="Property">
                                 <source localId="8636" locator="3960:53-3960:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8643" locator="3961:19-3961:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8666" locator="3969:1-3974:15" name="Tetanus toxoid (TT) 3 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8666">
               <a:s>/*
  @dataElement: ANC.B10.DE169 Tetanus toxoid (TT) 3 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the third tetanus toxoid-containing vaccine (TT3) dose was provided
*/
define &quot;Tetanus toxoid (TT) 3 immunization provided&quot;:
  </a:s>
               <a:s r="8665">
                  <a:s r="8664">
                     <a:s r="8646">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8664">
                        <a:s>Only(
  </a:s>
                        <a:s r="8663">
                           <a:s>
                              <a:s r="8648">
                                 <a:s r="8647">
                                    <a:s r="8647">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Tetanus toxoid (TT) 3 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8662">
                              <a:s>where </a:s>
                              <a:s r="8662">
                                 <a:s r="8652">
                                    <a:s r="8650">
                                       <a:s r="8649">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8650">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8651">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8661">
                                    <a:s r="8658">
                                       <a:s>Last(</a:s>
                                       <a:s r="8657">
                                          <a:s>Split(</a:s>
                                          <a:s r="8655">
                                             <a:s r="8654">
                                                <a:s r="8653">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8654">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8655">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8656">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8660">
                                       <a:s r="8659">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8660">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8665">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8665" locator="3970:3-3974:15" path="vaccineCode" xsi:type="Property">
            <source localId="8664" locator="3970:3-3974:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8663" locator="3971:3-3973:64" xsi:type="Query">
                  <source localId="8648" locator="3971:3-3971:68" alias="I">
                     <expression localId="8647" locator="3971:3-3971:66" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3971:18-3971:65" name="Tetanus toxoid (TT) 3 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8662" locator="3972:5-3973:64" xsi:type="And">
                     <operand localId="8652" locator="3972:11-3972:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8650" locator="3972:11-3972:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8651" locator="3972:22-3972:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8661" locator="3973:11-3973:64" xsi:type="Equal">
                        <operand localId="8658" locator="3973:11-3973:49" xsi:type="Last">
                           <source localId="8657" locator="3973:16-3973:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8655" locator="3973:22-3973:42" path="reference" xsi:type="Property">
                                    <source localId="8654" locator="3973:22-3973:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8656" locator="3973:45-3973:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8660" locator="3973:53-3973:64" path="id" xsi:type="Property">
                              <source localId="8659" locator="3973:53-3973:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8689" locator="3982:1-3987:31" name="Date tetanus toxoid 3 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8689">
               <a:s>/*
  @dataElement: ANC.B10.DE170 Date tetanus toxoid 3 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which TT3 was provided
*/
define &quot;Date tetanus toxoid 3 immunization was received&quot;:
  </a:s>
               <a:s r="8688">
                  <a:s r="8686">
                     <a:s r="8685">
                        <a:s r="8667">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8685">
                           <a:s>Only(
  </a:s>
                           <a:s r="8684">
                              <a:s>
                                 <a:s r="8669">
                                    <a:s r="8668">
                                       <a:s r="8668">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8683">
                                 <a:s>where </a:s>
                                 <a:s r="8683">
                                    <a:s r="8673">
                                       <a:s r="8671">
                                          <a:s r="8670">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8671">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8672">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8682">
                                       <a:s r="8679">
                                          <a:s>Last(</a:s>
                                          <a:s r="8678">
                                             <a:s>Split(</a:s>
                                             <a:s r="8676">
                                                <a:s r="8675">
                                                   <a:s r="8674">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8675">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8676">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8677">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8681">
                                          <a:s r="8680">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8681">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8686">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8687">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8688" locator="3983:3-3987:31" strict="false" xsi:type="As">
            <operand localId="8686" locator="3983:3-3987:14" path="occurrence" xsi:type="Property">
               <source localId="8685" locator="3983:3-3987:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8684" locator="3984:3-3986:64" xsi:type="Query">
                     <source localId="8669" locator="3984:3-3984:18" alias="I">
                        <expression localId="8668" locator="3984:3-3984:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8683" locator="3985:5-3986:64" xsi:type="And">
                        <operand localId="8673" locator="3985:11-3985:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8671" locator="3985:11-3985:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8672" locator="3985:22-3985:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8682" locator="3986:11-3986:64" xsi:type="Equal">
                           <operand localId="8679" locator="3986:11-3986:49" xsi:type="Last">
                              <source localId="8678" locator="3986:16-3986:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8676" locator="3986:22-3986:42" path="reference" xsi:type="Property">
                                       <source localId="8675" locator="3986:22-3986:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8677" locator="3986:45-3986:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8681" locator="3986:53-3986:64" path="id" xsi:type="Property">
                                 <source localId="8680" locator="3986:53-3986:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8687" locator="3987:19-3987:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8710" locator="3995:1-4000:15" name="Tetanus toxoid (TT) 4 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8710">
               <a:s>/*
  @dataElement: ANC.B10.DE171 Tetanus toxoid (TT) 4 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the fourth tetanus toxoid-containing vaccine (TT4) dose was provided
*/
define &quot;Tetanus toxoid (TT) 4 immunization provided&quot;:
  </a:s>
               <a:s r="8709">
                  <a:s r="8708">
                     <a:s r="8690">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8708">
                        <a:s>Only(
  </a:s>
                        <a:s r="8707">
                           <a:s>
                              <a:s r="8692">
                                 <a:s r="8691">
                                    <a:s r="8691">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Tetanus toxoid (TT) 4 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8706">
                              <a:s>where </a:s>
                              <a:s r="8706">
                                 <a:s r="8696">
                                    <a:s r="8694">
                                       <a:s r="8693">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8694">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8695">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8705">
                                    <a:s r="8702">
                                       <a:s>Last(</a:s>
                                       <a:s r="8701">
                                          <a:s>Split(</a:s>
                                          <a:s r="8699">
                                             <a:s r="8698">
                                                <a:s r="8697">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8698">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8699">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8700">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8704">
                                       <a:s r="8703">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8704">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8709">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8709" locator="3996:3-4000:15" path="vaccineCode" xsi:type="Property">
            <source localId="8708" locator="3996:3-4000:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8707" locator="3997:3-3999:64" xsi:type="Query">
                  <source localId="8692" locator="3997:3-3997:68" alias="I">
                     <expression localId="8691" locator="3997:3-3997:66" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="3997:18-3997:65" name="Tetanus toxoid (TT) 4 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8706" locator="3998:5-3999:64" xsi:type="And">
                     <operand localId="8696" locator="3998:11-3998:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8694" locator="3998:11-3998:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8695" locator="3998:22-3998:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8705" locator="3999:11-3999:64" xsi:type="Equal">
                        <operand localId="8702" locator="3999:11-3999:49" xsi:type="Last">
                           <source localId="8701" locator="3999:16-3999:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8699" locator="3999:22-3999:42" path="reference" xsi:type="Property">
                                    <source localId="8698" locator="3999:22-3999:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8700" locator="3999:45-3999:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8704" locator="3999:53-3999:64" path="id" xsi:type="Property">
                              <source localId="8703" locator="3999:53-3999:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8733" locator="4008:1-4013:31" name="Date tetanus toxoid 4 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8733">
               <a:s>/*
  @dataElement: ANC.B10.DE172 Date tetanus toxoid 4 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which TT4 was provided
*/
define &quot;Date tetanus toxoid 4 immunization was received&quot;:
  </a:s>
               <a:s r="8732">
                  <a:s r="8730">
                     <a:s r="8729">
                        <a:s r="8711">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8729">
                           <a:s>Only(
  </a:s>
                           <a:s r="8728">
                              <a:s>
                                 <a:s r="8713">
                                    <a:s r="8712">
                                       <a:s r="8712">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8727">
                                 <a:s>where </a:s>
                                 <a:s r="8727">
                                    <a:s r="8717">
                                       <a:s r="8715">
                                          <a:s r="8714">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8715">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8716">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8726">
                                       <a:s r="8723">
                                          <a:s>Last(</a:s>
                                          <a:s r="8722">
                                             <a:s>Split(</a:s>
                                             <a:s r="8720">
                                                <a:s r="8719">
                                                   <a:s r="8718">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8719">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8720">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8721">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8725">
                                          <a:s r="8724">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8725">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8730">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8731">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8732" locator="4009:3-4013:31" strict="false" xsi:type="As">
            <operand localId="8730" locator="4009:3-4013:14" path="occurrence" xsi:type="Property">
               <source localId="8729" locator="4009:3-4013:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8728" locator="4010:3-4012:64" xsi:type="Query">
                     <source localId="8713" locator="4010:3-4010:18" alias="I">
                        <expression localId="8712" locator="4010:3-4010:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8727" locator="4011:5-4012:64" xsi:type="And">
                        <operand localId="8717" locator="4011:11-4011:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8715" locator="4011:11-4011:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8716" locator="4011:22-4011:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8726" locator="4012:11-4012:64" xsi:type="Equal">
                           <operand localId="8723" locator="4012:11-4012:49" xsi:type="Last">
                              <source localId="8722" locator="4012:16-4012:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8720" locator="4012:22-4012:42" path="reference" xsi:type="Property">
                                       <source localId="8719" locator="4012:22-4012:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8721" locator="4012:45-4012:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8725" locator="4012:53-4012:64" path="id" xsi:type="Property">
                                 <source localId="8724" locator="4012:53-4012:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8731" locator="4013:19-4013:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8754" locator="4021:1-4026:15" name="Tetanus toxoid (TT) 5 immunization provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8754">
               <a:s>/*
  @dataElement: ANC.B10.DE173 Tetanus toxoid (TT) 5 immunization provided
  @activity: ANC.B.10.7 Immunizations
  @description: Whether or not the fifth tetanus toxoid-containing vaccine (TT5) dose was provided
*/
define &quot;Tetanus toxoid (TT) 5 immunization provided&quot;:
  </a:s>
               <a:s r="8753">
                  <a:s r="8752">
                     <a:s r="8734">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8752">
                        <a:s>Only(
  </a:s>
                        <a:s r="8751">
                           <a:s>
                              <a:s r="8736">
                                 <a:s r="8735">
                                    <a:s r="8735">
                                       <a:s>[Immunization: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Tetanus toxoid (TT) 5 immunization provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8750">
                              <a:s>where </a:s>
                              <a:s r="8750">
                                 <a:s r="8740">
                                    <a:s r="8738">
                                       <a:s r="8737">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8738">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8739">
                                       <a:s>'completed'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8749">
                                    <a:s r="8746">
                                       <a:s>Last(</a:s>
                                       <a:s r="8745">
                                          <a:s>Split(</a:s>
                                          <a:s r="8743">
                                             <a:s r="8742">
                                                <a:s r="8741">
                                                   <a:s>I</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8742">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8743">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8744">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8748">
                                       <a:s r="8747">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8748">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8753">
                     <a:s>vaccineCode</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8753" locator="4022:3-4026:15" path="vaccineCode" xsi:type="Property">
            <source localId="8752" locator="4022:3-4026:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8751" locator="4023:3-4025:64" xsi:type="Query">
                  <source localId="8736" locator="4023:3-4023:68" alias="I">
                     <expression localId="8735" locator="4023:3-4023:66" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" codeProperty="vaccineCode" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="4023:18-4023:65" name="Tetanus toxoid (TT) 5 immunization provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8750" locator="4024:5-4025:64" xsi:type="And">
                     <operand localId="8740" locator="4024:11-4024:32" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8738" locator="4024:11-4024:18" path="status" scope="I" xsi:type="Property"/>
                        </operand>
                        <operand localId="8739" locator="4024:22-4024:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8749" locator="4025:11-4025:64" xsi:type="Equal">
                        <operand localId="8746" locator="4025:11-4025:49" xsi:type="Last">
                           <source localId="8745" locator="4025:16-4025:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8743" locator="4025:22-4025:42" path="reference" xsi:type="Property">
                                    <source localId="8742" locator="4025:22-4025:32" path="encounter" scope="I" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8744" locator="4025:45-4025:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8748" locator="4025:53-4025:64" path="id" xsi:type="Property">
                              <source localId="8747" locator="4025:53-4025:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8777" locator="4034:1-4039:31" name="Date tetanus toxoid 5 immunization was received" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8777">
               <a:s>/*
  @dataElement: ANC.B10.DE174 Date tetanus toxoid 5 immunization was received
  @activity: ANC.B.10.7 Immunizations
  @description: Date on which TT5 was provided
*/
define &quot;Date tetanus toxoid 5 immunization was received&quot;:
  </a:s>
               <a:s r="8776">
                  <a:s r="8774">
                     <a:s r="8773">
                        <a:s r="8755">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8773">
                           <a:s>Only(
  </a:s>
                           <a:s r="8772">
                              <a:s>
                                 <a:s r="8757">
                                    <a:s r="8756">
                                       <a:s r="8756">
                                          <a:s>[Immunization]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> I</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8771">
                                 <a:s>where </a:s>
                                 <a:s r="8771">
                                    <a:s r="8761">
                                       <a:s r="8759">
                                          <a:s r="8758">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8759">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8760">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8770">
                                       <a:s r="8767">
                                          <a:s>Last(</a:s>
                                          <a:s r="8766">
                                             <a:s>Split(</a:s>
                                             <a:s r="8764">
                                                <a:s r="8763">
                                                   <a:s r="8762">
                                                      <a:s>I</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8763">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8764">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8765">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8769">
                                          <a:s r="8768">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8769">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8774">
                        <a:s>occurrence</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8775">
                     <a:s>FHIR.dateTime</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8776" locator="4035:3-4039:31" strict="false" xsi:type="As">
            <operand localId="8774" locator="4035:3-4039:14" path="occurrence" xsi:type="Property">
               <source localId="8773" locator="4035:3-4039:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8772" locator="4036:3-4038:64" xsi:type="Query">
                     <source localId="8757" locator="4036:3-4036:18" alias="I">
                        <expression localId="8756" locator="4036:3-4036:16" dataType="fhir:Immunization" templateId="http://hl7.org/fhir/StructureDefinition/Immunization" xsi:type="Retrieve"/>
                     </source>
                     <where localId="8771" locator="4037:5-4038:64" xsi:type="And">
                        <operand localId="8761" locator="4037:11-4037:32" xsi:type="Equal">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8759" locator="4037:11-4037:18" path="status" scope="I" xsi:type="Property"/>
                           </operand>
                           <operand localId="8760" locator="4037:22-4037:32" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                        <operand localId="8770" locator="4038:11-4038:64" xsi:type="Equal">
                           <operand localId="8767" locator="4038:11-4038:49" xsi:type="Last">
                              <source localId="8766" locator="4038:16-4038:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8764" locator="4038:22-4038:42" path="reference" xsi:type="Property">
                                       <source localId="8763" locator="4038:22-4038:32" path="encounter" scope="I" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8765" locator="4038:45-4038:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8769" locator="4038:53-4038:64" path="id" xsi:type="Property">
                                 <source localId="8768" locator="4038:53-4038:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8775" locator="4039:19-4039:31" name="fhir:dateTime" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8802" locator="4047:1-4052:8" name="IPV first-line support provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8802">
               <a:s>/*
  @dataElement: ANC.B10.DE203 IPV first-line support provided
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: First-line support includes basic counselling or psychosocial support using LIVES, which involves the following steps: Listen, Inquire, Validate, Enhance safety and Support
*/
define &quot;IPV first-line support provided&quot;:
  </a:s>
               <a:s r="8801">
                  <a:s r="8800">
                     <a:s r="8778">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8800">
                        <a:s>Only(
  </a:s>
                        <a:s r="8799">
                           <a:s>
                              <a:s r="8780">
                                 <a:s r="8779">
                                    <a:s r="8779">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;IPV first-line support provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8798">
                              <a:s>where </a:s>
                              <a:s r="8798">
                                 <a:s r="8788">
                                    <a:s r="8782">
                                       <a:s r="8781">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8782">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8787">
                                       <a:s>{ </a:s>
                                       <a:s r="8783">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8784">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8785">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8786">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8797">
                                    <a:s r="8794">
                                       <a:s>Last(</a:s>
                                       <a:s r="8793">
                                          <a:s>Split(</a:s>
                                          <a:s r="8791">
                                             <a:s r="8790">
                                                <a:s r="8789">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8790">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8791">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8792">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8796">
                                       <a:s r="8795">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8796">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8801">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8801" locator="4048:3-4052:8" path="code" xsi:type="Property">
            <source localId="8800" locator="4048:3-4052:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8799" locator="4049:3-4051:64" xsi:type="Query">
                  <source localId="8780" locator="4049:3-4049:53" alias="P">
                     <expression localId="8779" locator="4049:3-4049:51" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="4049:15-4049:50" name="IPV first-line support provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8798" locator="4050:5-4051:64" xsi:type="And">
                     <operand localId="8788" locator="4050:11-4050:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8782" locator="4050:11-4050:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8787" locator="4050:23-4050:78" xsi:type="List">
                           <element localId="8783" locator="4050:25-4050:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8784" locator="4050:40-4050:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8785" locator="4050:55-4050:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8786" locator="4050:66-4050:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8797" locator="4051:11-4051:64" xsi:type="Equal">
                        <operand localId="8794" locator="4051:11-4051:49" xsi:type="Last">
                           <source localId="8793" locator="4051:16-4051:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8791" locator="4051:22-4051:42" path="reference" xsi:type="Property">
                                    <source localId="8790" locator="4051:22-4051:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8792" locator="4051:45-4051:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8796" locator="4051:53-4051:64" path="id" xsi:type="Property">
                              <source localId="8795" locator="4051:53-4051:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8823" locator="4060:1-4065:8" name="Reason IPV first line support not done" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8823">
               <a:s>/*
  @dataElement: ANC.B10.DE204 Reason IPV first line support not done
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Reason IPV first line support not done
*/
define &quot;Reason IPV first line support not done&quot;:
  </a:s>
               <a:s r="8822">
                  <a:s r="8821">
                     <a:s r="8803">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8821">
                        <a:s>Only(
  </a:s>
                        <a:s r="8820">
                           <a:s>
                              <a:s r="8805">
                                 <a:s r="8804">
                                    <a:s r="8804">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Reason IPV first line support not done&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> PND</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8819">
                              <a:s>where </a:s>
                              <a:s r="8819">
                                 <a:s r="8809">
                                    <a:s r="8807">
                                       <a:s r="8806">
                                          <a:s>PND</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8807">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8808">
                                       <a:s>'not-done'</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8818">
                                    <a:s r="8815">
                                       <a:s>Last(</a:s>
                                       <a:s r="8814">
                                          <a:s>Split(</a:s>
                                          <a:s r="8812">
                                             <a:s r="8811">
                                                <a:s r="8810">
                                                   <a:s>PND</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8811">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8812">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8813">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8817">
                                       <a:s r="8816">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8817">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8822">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8822" locator="4061:3-4065:8" path="code" xsi:type="Property">
            <source localId="8821" locator="4061:3-4065:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8820" locator="4062:3-4064:66" xsi:type="Query">
                  <source localId="8805" locator="4062:3-4062:62" alias="PND">
                     <expression localId="8804" locator="4062:3-4062:58" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="4062:15-4062:57" name="Reason IPV first line support not done" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8819" locator="4063:5-4064:66" xsi:type="And">
                     <operand localId="8809" locator="4063:11-4063:33" xsi:type="Equal">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8807" locator="4063:11-4063:20" path="status" scope="PND" xsi:type="Property"/>
                        </operand>
                        <operand localId="8808" locator="4063:24-4063:33" valueType="t:String" value="not-done" xsi:type="Literal"/>
                     </operand>
                     <operand localId="8818" locator="4064:11-4064:66" xsi:type="Equal">
                        <operand localId="8815" locator="4064:11-4064:51" xsi:type="Last">
                           <source localId="8814" locator="4064:16-4064:50" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8812" locator="4064:22-4064:44" path="reference" xsi:type="Property">
                                    <source localId="8811" locator="4064:22-4064:34" path="encounter" scope="PND" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8813" locator="4064:47-4064:49" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8817" locator="4064:55-4064:66" path="id" xsi:type="Property">
                              <source localId="8816" locator="4064:55-4064:63" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8848" locator="4073:1-4078:8" name="What additional type of care provided" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8848">
               <a:s>/*
  @dataElement: ANC.B10.DE210 What additional type of care provided
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: What care was provided for survivor/woman subject to intimate partner violence
*/
define &quot;What additional type of care provided&quot;:
  </a:s>
               <a:s r="8847">
                  <a:s r="8846">
                     <a:s r="8824">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8846">
                        <a:s>Only(
  </a:s>
                        <a:s r="8845">
                           <a:s>
                              <a:s r="8826">
                                 <a:s r="8825">
                                    <a:s r="8825">
                                       <a:s>[Procedure: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;What additional type of care provided&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> P</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="8844">
                              <a:s>where </a:s>
                              <a:s r="8844">
                                 <a:s r="8834">
                                    <a:s r="8828">
                                       <a:s r="8827">
                                          <a:s>P</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8828">
                                          <a:s>status</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="8833">
                                       <a:s>{ </a:s>
                                       <a:s r="8829">
                                          <a:s>'preparation'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8830">
                                          <a:s>'in-progress'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8831">
                                          <a:s>'on-hold'</a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="8832">
                                          <a:s>'completed'</a:s>
                                       </a:s>
                                       <a:s> }</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="8843">
                                    <a:s r="8840">
                                       <a:s>Last(</a:s>
                                       <a:s r="8839">
                                          <a:s>Split(</a:s>
                                          <a:s r="8837">
                                             <a:s r="8836">
                                                <a:s r="8835">
                                                   <a:s>P</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8836">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8837">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="8838">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="8842">
                                       <a:s r="8841">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="8842">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="8847">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8847" locator="4074:3-4078:8" path="code" xsi:type="Property">
            <source localId="8846" locator="4074:3-4078:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="8845" locator="4075:3-4077:64" xsi:type="Query">
                  <source localId="8826" locator="4075:3-4075:59" alias="P">
                     <expression localId="8825" locator="4075:3-4075:57" dataType="fhir:Procedure" templateId="http://hl7.org/fhir/StructureDefinition/Procedure" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="4075:15-4075:56" name="What additional type of care provided" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="8844" locator="4076:5-4077:64" xsi:type="And">
                     <operand localId="8834" locator="4076:11-4076:78" xsi:type="In">
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8828" locator="4076:11-4076:18" path="status" scope="P" xsi:type="Property"/>
                        </operand>
                        <operand localId="8833" locator="4076:23-4076:78" xsi:type="List">
                           <element localId="8829" locator="4076:25-4076:37" valueType="t:String" value="preparation" xsi:type="Literal"/>
                           <element localId="8830" locator="4076:40-4076:52" valueType="t:String" value="in-progress" xsi:type="Literal"/>
                           <element localId="8831" locator="4076:55-4076:63" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                           <element localId="8832" locator="4076:66-4076:76" valueType="t:String" value="completed" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="8843" locator="4077:11-4077:64" xsi:type="Equal">
                        <operand localId="8840" locator="4077:11-4077:49" xsi:type="Last">
                           <source localId="8839" locator="4077:16-4077:48" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8837" locator="4077:22-4077:42" path="reference" xsi:type="Property">
                                    <source localId="8836" locator="4077:22-4077:32" path="encounter" scope="P" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="8838" locator="4077:45-4077:47" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="8842" locator="4077:53-4077:64" path="id" xsi:type="Property">
                              <source localId="8841" locator="4077:53-4077:61" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="8883" locator="4086:1-4092:25" name="Safety assessement" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8883">
               <a:s>/*
  @dataElement: ANC.B10.DE216 Safety assessement
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Assess immediate risk of violence/danger
*/
define &quot;Safety assessement&quot;:
  </a:s>
               <a:s r="8882">
                  <a:s r="8880">
                     <a:s r="8879">
                        <a:s r="8849">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8879">
                           <a:s>Only(
  </a:s>
                           <a:s r="8878">
                              <a:s>
                                 <a:s r="8851">
                                    <a:s r="8850">
                                       <a:s r="8850">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Safety assessement&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8877">
                                 <a:s>where </a:s>
                                 <a:s r="8877">
                                    <a:s r="8867">
                                       <a:s r="8858">
                                          <a:s r="8853">
                                             <a:s r="8852">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8853">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8857">
                                             <a:s>{ </a:s>
                                             <a:s r="8854">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8855">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8856">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8866">
                                          <a:s r="8865">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8863">
                                                <a:s r="8862">
                                                   <a:s r="8859">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8862">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8860">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8861">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8863">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8864">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8876">
                                       <a:s r="8873">
                                          <a:s>Last(</a:s>
                                          <a:s r="8872">
                                             <a:s>Split(</a:s>
                                             <a:s r="8870">
                                                <a:s r="8869">
                                                   <a:s r="8868">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8869">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8870">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8871">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8875">
                                          <a:s r="8874">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8875">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8880">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8881">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8882" locator="4087:3-4092:25" strict="false" xsi:type="As">
            <operand localId="8880" locator="4087:3-4092:9" path="value" xsi:type="Property">
               <source localId="8879" locator="4087:3-4092:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8878" locator="4088:3-4091:64" xsi:type="Query">
                     <source localId="8851" locator="4088:3-4088:42" alias="O">
                        <expression localId="8850" locator="4088:3-4088:40" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4088:17-4088:39" name="Safety assessement" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8877" locator="4089:5-4091:64" xsi:type="And">
                        <operand localId="8867" locator="4089:11-4090:80" xsi:type="And">
                           <operand localId="8858" locator="4089:11-4089:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8853" locator="4089:11-4089:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8857" locator="4089:23-4089:57" xsi:type="List">
                                 <element localId="8854" locator="4089:25-4089:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8855" locator="4089:34-4089:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8856" locator="4089:45-4089:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8866" locator="4090:11-4090:80" xsi:type="IsFalse">
                              <operand localId="8865" locator="4090:11-4090:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8863" locator="4090:20-4090:63" path="value" xsi:type="Property">
                                          <source localId="8862" locator="4090:20-4090:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8860" locator="4090:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8861" locator="4090:44-4090:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8864" locator="4090:66-4090:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8876" locator="4091:11-4091:64" xsi:type="Equal">
                           <operand localId="8873" locator="4091:11-4091:49" xsi:type="Last">
                              <source localId="8872" locator="4091:16-4091:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8870" locator="4091:22-4091:42" path="reference" xsi:type="Property">
                                       <source localId="8869" locator="4091:22-4091:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8871" locator="4091:45-4091:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8875" locator="4091:53-4091:64" path="id" xsi:type="Property">
                                 <source localId="8874" locator="4091:53-4091:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8881" locator="4092:14-4092:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8918" locator="4100:1-4106:25" name="Has the physical violence happened more often or gotten worse over the past 6 months" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8918">
               <a:s>/*
  @dataElement: ANC.B10.DE217 Has the physical violence happened more often or gotten worse over the past 6 months
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Has the physical violence happened more often or gotten worse over the past 6 months?
*/
define &quot;Has the physical violence happened more often or gotten worse over the past 6 months&quot;:
  </a:s>
               <a:s r="8917">
                  <a:s r="8915">
                     <a:s r="8914">
                        <a:s r="8884">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8914">
                           <a:s>Only(
  </a:s>
                           <a:s r="8913">
                              <a:s>
                                 <a:s r="8886">
                                    <a:s r="8885">
                                       <a:s r="8885">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Has the physical violence happened more often or gotten worse over the past 6 months&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8912">
                                 <a:s>where </a:s>
                                 <a:s r="8912">
                                    <a:s r="8902">
                                       <a:s r="8893">
                                          <a:s r="8888">
                                             <a:s r="8887">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8888">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8892">
                                             <a:s>{ </a:s>
                                             <a:s r="8889">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8890">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8891">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8901">
                                          <a:s r="8900">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8898">
                                                <a:s r="8897">
                                                   <a:s r="8894">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8897">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8895">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8896">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8898">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8899">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8911">
                                       <a:s r="8908">
                                          <a:s>Last(</a:s>
                                          <a:s r="8907">
                                             <a:s>Split(</a:s>
                                             <a:s r="8905">
                                                <a:s r="8904">
                                                   <a:s r="8903">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8904">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8905">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8906">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8910">
                                          <a:s r="8909">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8910">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8915">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8916">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8917" locator="4101:3-4106:25" strict="false" xsi:type="As">
            <operand localId="8915" locator="4101:3-4106:9" path="value" xsi:type="Property">
               <source localId="8914" locator="4101:3-4106:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8913" locator="4102:3-4105:64" xsi:type="Query">
                     <source localId="8886" locator="4102:3-4102:108" alias="O">
                        <expression localId="8885" locator="4102:3-4102:106" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4102:17-4102:105" name="Has the physical violence happened more often or gotten worse over the past 6 months" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8912" locator="4103:5-4105:64" xsi:type="And">
                        <operand localId="8902" locator="4103:11-4104:80" xsi:type="And">
                           <operand localId="8893" locator="4103:11-4103:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8888" locator="4103:11-4103:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8892" locator="4103:23-4103:57" xsi:type="List">
                                 <element localId="8889" locator="4103:25-4103:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8890" locator="4103:34-4103:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8891" locator="4103:45-4103:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8901" locator="4104:11-4104:80" xsi:type="IsFalse">
                              <operand localId="8900" locator="4104:11-4104:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8898" locator="4104:20-4104:63" path="value" xsi:type="Property">
                                          <source localId="8897" locator="4104:20-4104:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8895" locator="4104:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8896" locator="4104:44-4104:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8899" locator="4104:66-4104:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8911" locator="4105:11-4105:64" xsi:type="Equal">
                           <operand localId="8908" locator="4105:11-4105:49" xsi:type="Last">
                              <source localId="8907" locator="4105:16-4105:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8905" locator="4105:22-4105:42" path="reference" xsi:type="Property">
                                       <source localId="8904" locator="4105:22-4105:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8906" locator="4105:45-4105:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8910" locator="4105:53-4105:64" path="id" xsi:type="Property">
                                 <source localId="8909" locator="4105:53-4105:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8916" locator="4106:14-4106:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8953" locator="4114:1-4120:25" name="Has he ever used a weapon or threatened you with a weapon" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8953">
               <a:s>/*
  @dataElement: ANC.B10.DE218 Has he ever used a weapon or threatened you with a weapon
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Has he ever used a weapon or threatened you with a weapon?
*/
define &quot;Has he ever used a weapon or threatened you with a weapon&quot;:
  </a:s>
               <a:s r="8952">
                  <a:s r="8950">
                     <a:s r="8949">
                        <a:s r="8919">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8949">
                           <a:s>Only(
  </a:s>
                           <a:s r="8948">
                              <a:s>
                                 <a:s r="8921">
                                    <a:s r="8920">
                                       <a:s r="8920">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Has he ever used a weapon or threatened you with a weapon&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8947">
                                 <a:s>where </a:s>
                                 <a:s r="8947">
                                    <a:s r="8937">
                                       <a:s r="8928">
                                          <a:s r="8923">
                                             <a:s r="8922">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8923">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8927">
                                             <a:s>{ </a:s>
                                             <a:s r="8924">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8925">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8926">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8936">
                                          <a:s r="8935">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8933">
                                                <a:s r="8932">
                                                   <a:s r="8929">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8932">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8930">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8931">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8933">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8934">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8946">
                                       <a:s r="8943">
                                          <a:s>Last(</a:s>
                                          <a:s r="8942">
                                             <a:s>Split(</a:s>
                                             <a:s r="8940">
                                                <a:s r="8939">
                                                   <a:s r="8938">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8939">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8940">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8941">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8945">
                                          <a:s r="8944">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8945">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8950">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8951">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8952" locator="4115:3-4120:25" strict="false" xsi:type="As">
            <operand localId="8950" locator="4115:3-4120:9" path="value" xsi:type="Property">
               <source localId="8949" locator="4115:3-4120:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8948" locator="4116:3-4119:64" xsi:type="Query">
                     <source localId="8921" locator="4116:3-4116:81" alias="O">
                        <expression localId="8920" locator="4116:3-4116:79" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4116:17-4116:78" name="Has he ever used a weapon or threatened you with a weapon" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8947" locator="4117:5-4119:64" xsi:type="And">
                        <operand localId="8937" locator="4117:11-4118:80" xsi:type="And">
                           <operand localId="8928" locator="4117:11-4117:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8923" locator="4117:11-4117:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8927" locator="4117:23-4117:57" xsi:type="List">
                                 <element localId="8924" locator="4117:25-4117:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8925" locator="4117:34-4117:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8926" locator="4117:45-4117:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8936" locator="4118:11-4118:80" xsi:type="IsFalse">
                              <operand localId="8935" locator="4118:11-4118:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8933" locator="4118:20-4118:63" path="value" xsi:type="Property">
                                          <source localId="8932" locator="4118:20-4118:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8930" locator="4118:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8931" locator="4118:44-4118:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8934" locator="4118:66-4118:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8946" locator="4119:11-4119:64" xsi:type="Equal">
                           <operand localId="8943" locator="4119:11-4119:49" xsi:type="Last">
                              <source localId="8942" locator="4119:16-4119:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8940" locator="4119:22-4119:42" path="reference" xsi:type="Property">
                                       <source localId="8939" locator="4119:22-4119:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8941" locator="4119:45-4119:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8945" locator="4119:53-4119:64" path="id" xsi:type="Property">
                                 <source localId="8944" locator="4119:53-4119:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8951" locator="4120:14-4120:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="8988" locator="4128:1-4134:25" name="Has he ever tried to strangle you" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8988">
               <a:s>/*
  @dataElement: ANC.B10.DE219 Has he ever tried to strangle you
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Has he ever tried to strangle you?
*/
define &quot;Has he ever tried to strangle you&quot;:
  </a:s>
               <a:s r="8987">
                  <a:s r="8985">
                     <a:s r="8984">
                        <a:s r="8954">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="8984">
                           <a:s>Only(
  </a:s>
                           <a:s r="8983">
                              <a:s>
                                 <a:s r="8956">
                                    <a:s r="8955">
                                       <a:s r="8955">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Has he ever tried to strangle you&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="8982">
                                 <a:s>where </a:s>
                                 <a:s r="8982">
                                    <a:s r="8972">
                                       <a:s r="8963">
                                          <a:s r="8958">
                                             <a:s r="8957">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8958">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8962">
                                             <a:s>{ </a:s>
                                             <a:s r="8959">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8960">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8961">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="8971">
                                          <a:s r="8970">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="8968">
                                                <a:s r="8967">
                                                   <a:s r="8964">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8967">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="8965">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="8966">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8968">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="8969">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="8981">
                                       <a:s r="8978">
                                          <a:s>Last(</a:s>
                                          <a:s r="8977">
                                             <a:s>Split(</a:s>
                                             <a:s r="8975">
                                                <a:s r="8974">
                                                   <a:s r="8973">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="8974">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="8975">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8976">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="8980">
                                          <a:s r="8979">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="8980">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="8985">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="8986">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="8987" locator="4129:3-4134:25" strict="false" xsi:type="As">
            <operand localId="8985" locator="4129:3-4134:9" path="value" xsi:type="Property">
               <source localId="8984" locator="4129:3-4134:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="8983" locator="4130:3-4133:64" xsi:type="Query">
                     <source localId="8956" locator="4130:3-4130:57" alias="O">
                        <expression localId="8955" locator="4130:3-4130:55" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4130:17-4130:54" name="Has he ever tried to strangle you" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="8982" locator="4131:5-4133:64" xsi:type="And">
                        <operand localId="8972" locator="4131:11-4132:80" xsi:type="And">
                           <operand localId="8963" locator="4131:11-4131:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8958" locator="4131:11-4131:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8962" locator="4131:23-4131:57" xsi:type="List">
                                 <element localId="8959" locator="4131:25-4131:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8960" locator="4131:34-4131:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8961" locator="4131:45-4131:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="8971" locator="4132:11-4132:80" xsi:type="IsFalse">
                              <operand localId="8970" locator="4132:11-4132:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="8968" locator="4132:20-4132:63" path="value" xsi:type="Property">
                                          <source localId="8967" locator="4132:20-4132:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="8965" locator="4132:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="8966" locator="4132:44-4132:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="8969" locator="4132:66-4132:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="8981" locator="4133:11-4133:64" xsi:type="Equal">
                           <operand localId="8978" locator="4133:11-4133:49" xsi:type="Last">
                              <source localId="8977" locator="4133:16-4133:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="8975" locator="4133:22-4133:42" path="reference" xsi:type="Property">
                                       <source localId="8974" locator="4133:22-4133:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="8976" locator="4133:45-4133:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="8980" locator="4133:53-4133:64" path="id" xsi:type="Property">
                                 <source localId="8979" locator="4133:53-4133:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="8986" locator="4134:14-4134:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="9023" locator="4142:1-4148:25" name="Has he ever beaten you when you were pregnant" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9023">
               <a:s>/*
  @dataElement: ANC.B10.DE220 Has he ever beaten you when you were pregnant
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Has he ever beaten you when you were pregnant?
*/
define &quot;Has he ever beaten you when you were pregnant&quot;:
  </a:s>
               <a:s r="9022">
                  <a:s r="9020">
                     <a:s r="9019">
                        <a:s r="8989">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="9019">
                           <a:s>Only(
  </a:s>
                           <a:s r="9018">
                              <a:s>
                                 <a:s r="8991">
                                    <a:s r="8990">
                                       <a:s r="8990">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Has he ever beaten you when you were pregnant&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="9017">
                                 <a:s>where </a:s>
                                 <a:s r="9017">
                                    <a:s r="9007">
                                       <a:s r="8998">
                                          <a:s r="8993">
                                             <a:s r="8992">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="8993">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="8997">
                                             <a:s>{ </a:s>
                                             <a:s r="8994">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8995">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="8996">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="9006">
                                          <a:s r="9005">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="9003">
                                                <a:s r="9002">
                                                   <a:s r="8999">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9002">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="9000">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="9001">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9003">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="9004">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="9016">
                                       <a:s r="9013">
                                          <a:s>Last(</a:s>
                                          <a:s r="9012">
                                             <a:s>Split(</a:s>
                                             <a:s r="9010">
                                                <a:s r="9009">
                                                   <a:s r="9008">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9009">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9010">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9011">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="9015">
                                          <a:s r="9014">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="9015">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="9020">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="9021">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9022" locator="4143:3-4148:25" strict="false" xsi:type="As">
            <operand localId="9020" locator="4143:3-4148:9" path="value" xsi:type="Property">
               <source localId="9019" locator="4143:3-4148:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="9018" locator="4144:3-4147:64" xsi:type="Query">
                     <source localId="8991" locator="4144:3-4144:69" alias="O">
                        <expression localId="8990" locator="4144:3-4144:67" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4144:17-4144:66" name="Has he ever beaten you when you were pregnant" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="9017" locator="4145:5-4147:64" xsi:type="And">
                        <operand localId="9007" locator="4145:11-4146:80" xsi:type="And">
                           <operand localId="8998" locator="4145:11-4145:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="8993" locator="4145:11-4145:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="8997" locator="4145:23-4145:57" xsi:type="List">
                                 <element localId="8994" locator="4145:25-4145:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="8995" locator="4145:34-4145:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="8996" locator="4145:45-4145:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="9006" locator="4146:11-4146:80" xsi:type="IsFalse">
                              <operand localId="9005" locator="4146:11-4146:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="9003" locator="4146:20-4146:63" path="value" xsi:type="Property">
                                          <source localId="9002" locator="4146:20-4146:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="9000" locator="4146:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="9001" locator="4146:44-4146:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="9004" locator="4146:66-4146:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9016" locator="4147:11-4147:64" xsi:type="Equal">
                           <operand localId="9013" locator="4147:11-4147:49" xsi:type="Last">
                              <source localId="9012" locator="4147:16-4147:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="9010" locator="4147:22-4147:42" path="reference" xsi:type="Property">
                                       <source localId="9009" locator="4147:22-4147:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="9011" locator="4147:45-4147:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="9015" locator="4147:53-4147:64" path="id" xsi:type="Property">
                                 <source localId="9014" locator="4147:53-4147:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="9021" locator="4148:14-4148:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="9058" locator="4156:1-4162:25" name="Is he violently and constantly jealous of you" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9058">
               <a:s>/*
  @dataElement: ANC.B10.DE221 Is he violently and constantly jealous of you
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Is he violently and constantly jealous of you?
*/
define &quot;Is he violently and constantly jealous of you&quot;:
  </a:s>
               <a:s r="9057">
                  <a:s r="9055">
                     <a:s r="9054">
                        <a:s r="9024">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="9054">
                           <a:s>Only(
  </a:s>
                           <a:s r="9053">
                              <a:s>
                                 <a:s r="9026">
                                    <a:s r="9025">
                                       <a:s r="9025">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Is he violently and constantly jealous of you&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="9052">
                                 <a:s>where </a:s>
                                 <a:s r="9052">
                                    <a:s r="9042">
                                       <a:s r="9033">
                                          <a:s r="9028">
                                             <a:s r="9027">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="9028">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="9032">
                                             <a:s>{ </a:s>
                                             <a:s r="9029">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9030">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9031">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="9041">
                                          <a:s r="9040">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="9038">
                                                <a:s r="9037">
                                                   <a:s r="9034">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9037">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="9035">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="9036">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9038">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="9039">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="9051">
                                       <a:s r="9048">
                                          <a:s>Last(</a:s>
                                          <a:s r="9047">
                                             <a:s>Split(</a:s>
                                             <a:s r="9045">
                                                <a:s r="9044">
                                                   <a:s r="9043">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9044">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9045">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9046">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="9050">
                                          <a:s r="9049">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="9050">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="9055">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="9056">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9057" locator="4157:3-4162:25" strict="false" xsi:type="As">
            <operand localId="9055" locator="4157:3-4162:9" path="value" xsi:type="Property">
               <source localId="9054" locator="4157:3-4162:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="9053" locator="4158:3-4161:64" xsi:type="Query">
                     <source localId="9026" locator="4158:3-4158:69" alias="O">
                        <expression localId="9025" locator="4158:3-4158:67" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4158:17-4158:66" name="Is he violently and constantly jealous of you" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="9052" locator="4159:5-4161:64" xsi:type="And">
                        <operand localId="9042" locator="4159:11-4160:80" xsi:type="And">
                           <operand localId="9033" locator="4159:11-4159:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="9028" locator="4159:11-4159:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="9032" locator="4159:23-4159:57" xsi:type="List">
                                 <element localId="9029" locator="4159:25-4159:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="9030" locator="4159:34-4159:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="9031" locator="4159:45-4159:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="9041" locator="4160:11-4160:80" xsi:type="IsFalse">
                              <operand localId="9040" locator="4160:11-4160:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="9038" locator="4160:20-4160:63" path="value" xsi:type="Property">
                                          <source localId="9037" locator="4160:20-4160:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="9035" locator="4160:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="9036" locator="4160:44-4160:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="9039" locator="4160:66-4160:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9051" locator="4161:11-4161:64" xsi:type="Equal">
                           <operand localId="9048" locator="4161:11-4161:49" xsi:type="Last">
                              <source localId="9047" locator="4161:16-4161:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="9045" locator="4161:22-4161:42" path="reference" xsi:type="Property">
                                       <source localId="9044" locator="4161:22-4161:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="9046" locator="4161:45-4161:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="9050" locator="4161:53-4161:64" path="id" xsi:type="Property">
                                 <source localId="9049" locator="4161:53-4161:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="9056" locator="4162:14-4162:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="9093" locator="4170:1-4176:25" name="Do you believe he could kill you" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9093">
               <a:s>/*
  @dataElement: ANC.B10.DE222 Do you believe he could kill you
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Do you believe he could kill you?
*/
define &quot;Do you believe he could kill you&quot;:
  </a:s>
               <a:s r="9092">
                  <a:s r="9090">
                     <a:s r="9089">
                        <a:s r="9059">
                           <a:s>WC</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="9089">
                           <a:s>Only(
  </a:s>
                           <a:s r="9088">
                              <a:s>
                                 <a:s r="9061">
                                    <a:s r="9060">
                                       <a:s r="9060">
                                          <a:s>[Observation: </a:s>
                                          <a:s>
                                             <a:s>Cx.&quot;Do you believe he could kill you&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    </a:s>
                              <a:s r="9087">
                                 <a:s>where </a:s>
                                 <a:s r="9087">
                                    <a:s r="9077">
                                       <a:s r="9068">
                                          <a:s r="9063">
                                             <a:s r="9062">
                                                <a:s>O</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="9063">
                                                <a:s>status</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="9067">
                                             <a:s>{ </a:s>
                                             <a:s r="9064">
                                                <a:s>'final'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9065">
                                                <a:s>'amended'</a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9066">
                                                <a:s>'corrected'</a:s>
                                             </a:s>
                                             <a:s> }</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
      and </a:s>
                                       <a:s r="9076">
                                          <a:s r="9075">
                                             <a:s>Coalesce(</a:s>
                                             <a:s r="9073">
                                                <a:s r="9072">
                                                   <a:s r="9069">
                                                      <a:s>WC</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9072">
                                                      <a:s>ModifierExtension(</a:s>
                                                      <a:s r="9070">
                                                         <a:s>O</a:s>
                                                      </a:s>
                                                      <a:s>, </a:s>
                                                      <a:s r="9071">
                                                         <a:s>'who-notDone'</a:s>
                                                      </a:s>
                                                      <a:s>)</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9073">
                                                   <a:s>value</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s r="9074">, false)</a:s>
                                          </a:s>
                                          <a:s> is false</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="9086">
                                       <a:s r="9083">
                                          <a:s>Last(</a:s>
                                          <a:s r="9082">
                                             <a:s>Split(</a:s>
                                             <a:s r="9080">
                                                <a:s r="9079">
                                                   <a:s r="9078">
                                                      <a:s>O</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="9079">
                                                      <a:s>encounter</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9080">
                                                   <a:s>reference</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>, </a:s>
                                             <a:s r="9081">
                                                <a:s>'/'</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> = </a:s>
                                       <a:s r="9085">
                                          <a:s r="9084">
                                             <a:s>Encounter</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="9085">
                                             <a:s>id</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
  )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="9090">
                        <a:s>value</a:s>
                     </a:s>
                  </a:s>
                  <a:s> as </a:s>
                  <a:s r="9091">
                     <a:s>FHIR.boolean</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9092" locator="4171:3-4176:25" strict="false" xsi:type="As">
            <operand localId="9090" locator="4171:3-4176:9" path="value" xsi:type="Property">
               <source localId="9089" locator="4171:3-4176:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="9088" locator="4172:3-4175:64" xsi:type="Query">
                     <source localId="9061" locator="4172:3-4172:56" alias="O">
                        <expression localId="9060" locator="4172:3-4172:54" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="4172:17-4172:53" name="Do you believe he could kill you" libraryName="Cx" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="9087" locator="4173:5-4175:64" xsi:type="And">
                        <operand localId="9077" locator="4173:11-4174:80" xsi:type="And">
                           <operand localId="9068" locator="4173:11-4173:57" xsi:type="In">
                              <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="9063" locator="4173:11-4173:18" path="status" scope="O" xsi:type="Property"/>
                              </operand>
                              <operand localId="9067" locator="4173:23-4173:57" xsi:type="List">
                                 <element localId="9064" locator="4173:25-4173:31" valueType="t:String" value="final" xsi:type="Literal"/>
                                 <element localId="9065" locator="4173:34-4173:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                                 <element localId="9066" locator="4173:45-4173:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                              </operand>
                           </operand>
                           <operand localId="9076" locator="4174:11-4174:80" xsi:type="IsFalse">
                              <operand localId="9075" locator="4174:11-4174:71" xsi:type="Coalesce">
                                 <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand asType="fhir:boolean" xsi:type="As">
                                       <operand localId="9073" locator="4174:20-4174:63" path="value" xsi:type="Property">
                                          <source localId="9072" locator="4174:20-4174:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                             <operand localId="9070" locator="4174:41" name="O" xsi:type="AliasRef"/>
                                             <operand localId="9071" locator="4174:44-4174:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                          </source>
                                       </operand>
                                    </operand>
                                 </operand>
                                 <operand localId="9074" locator="4174:66-4174:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9086" locator="4175:11-4175:64" xsi:type="Equal">
                           <operand localId="9083" locator="4175:11-4175:49" xsi:type="Last">
                              <source localId="9082" locator="4175:16-4175:48" xsi:type="Split">
                                 <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                    <operand localId="9080" locator="4175:22-4175:42" path="reference" xsi:type="Property">
                                       <source localId="9079" locator="4175:22-4175:32" path="encounter" scope="O" xsi:type="Property"/>
                                    </operand>
                                 </stringToSplit>
                                 <separator localId="9081" locator="4175:45-4175:47" valueType="t:String" value="/" xsi:type="Literal"/>
                              </source>
                           </operand>
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="9085" locator="4175:53-4175:64" path="id" xsi:type="Property">
                                 <source localId="9084" locator="4175:53-4175:61" name="Encounter" xsi:type="ExpressionRef"/>
                              </operand>
                           </operand>
                        </operand>
                     </where>
                  </operand>
               </source>
            </operand>
            <asTypeSpecifier localId="9091" locator="4176:14-4176:25" name="fhir:boolean" xsi:type="NamedTypeSpecifier"/>
         </expression>
      </def>
      <def localId="9124" locator="4184:1-4190:8" name="Referrals made as part of first-line support and care" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9124">
               <a:s>/*
  @dataElement: ANC.B10.DE223 Referrals made as part of first-line support and care
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Referrals made as part of first-line support and care
*/
define &quot;Referrals made as part of first-line support and care&quot;:
  </a:s>
               <a:s r="9123">
                  <a:s r="9122">
                     <a:s r="9094">
                        <a:s>WC</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="9122">
                        <a:s>Only(
  </a:s>
                        <a:s r="9121">
                           <a:s>
                              <a:s r="9096">
                                 <a:s r="9095">
                                    <a:s r="9095">
                                       <a:s>[ServiceRequest: </a:s>
                                       <a:s>
                                          <a:s>Cx.&quot;Referrals made as part of first-line support and care&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> SR</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
    </a:s>
                           <a:s r="9120">
                              <a:s>where </a:s>
                              <a:s r="9120">
                                 <a:s r="9110">
                                    <a:s r="9104">
                                       <a:s r="9098">
                                          <a:s r="9097">
                                             <a:s>SR</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="9098">
                                             <a:s>status</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> in </a:s>
                                       <a:s r="9103">
                                          <a:s>{ </a:s>
                                          <a:s r="9099">
                                             <a:s>'draft'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9100">
                                             <a:s>'active'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9101">
                                             <a:s>'on-hold'</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9102">
                                             <a:s>'completed'</a:s>
                                          </a:s>
                                          <a:s> }</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
      and </a:s>
                                    <a:s r="9109">
                                       <a:s r="9108">
                                          <a:s>Coalesce(</a:s>
                                          <a:s r="9106">
                                             <a:s r="9105">
                                                <a:s>SR</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="9106">
                                                <a:s>doNotPerform</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s r="9107">, false)</a:s>
                                       </a:s>
                                       <a:s> is false</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      and </a:s>
                                 <a:s r="9119">
                                    <a:s r="9116">
                                       <a:s>Last(</a:s>
                                       <a:s r="9115">
                                          <a:s>Split(</a:s>
                                          <a:s r="9113">
                                             <a:s r="9112">
                                                <a:s r="9111">
                                                   <a:s>SR</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="9112">
                                                   <a:s>encounter</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="9113">
                                                <a:s>reference</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9114">
                                             <a:s>'/'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="9118">
                                       <a:s r="9117">
                                          <a:s>Encounter</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9118">
                                          <a:s>id</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="9123">
                     <a:s>code</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9123" locator="4185:3-4190:8" path="code" xsi:type="Property">
            <source localId="9122" locator="4185:3-4190:3" name="Only" libraryName="WC" xsi:type="FunctionRef">
               <operand localId="9121" locator="4186:3-4189:65" xsi:type="Query">
                  <source localId="9096" locator="4186:3-4186:81" alias="SR">
                     <expression localId="9095" locator="4186:3-4186:78" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="4186:20-4186:77" name="Referrals made as part of first-line support and care" libraryName="Cx" xsi:type="ValueSetRef"/>
                     </expression>
                  </source>
                  <where localId="9120" locator="4187:5-4189:65" xsi:type="And">
                     <operand localId="9110" locator="4187:11-4188:51" xsi:type="And">
                        <operand localId="9104" locator="4187:11-4187:68" xsi:type="In">
                           <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="9098" locator="4187:11-4187:19" path="status" scope="SR" xsi:type="Property"/>
                           </operand>
                           <operand localId="9103" locator="4187:24-4187:68" xsi:type="List">
                              <element localId="9099" locator="4187:26-4187:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                              <element localId="9100" locator="4187:35-4187:42" valueType="t:String" value="active" xsi:type="Literal"/>
                              <element localId="9101" locator="4187:45-4187:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                              <element localId="9102" locator="4187:56-4187:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                           </operand>
                        </operand>
                        <operand localId="9109" locator="4188:11-4188:51" xsi:type="IsFalse">
                           <operand localId="9108" locator="4188:11-4188:42" xsi:type="Coalesce">
                              <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="9106" locator="4188:20-4188:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                              </operand>
                              <operand localId="9107" locator="4188:37-4188:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand localId="9119" locator="4189:11-4189:65" xsi:type="Equal">
                        <operand localId="9116" locator="4189:11-4189:50" xsi:type="Last">
                           <source localId="9115" locator="4189:16-4189:49" xsi:type="Split">
                              <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                                 <operand localId="9113" locator="4189:22-4189:43" path="reference" xsi:type="Property">
                                    <source localId="9112" locator="4189:22-4189:33" path="encounter" scope="SR" xsi:type="Property"/>
                                 </operand>
                              </stringToSplit>
                              <separator localId="9114" locator="4189:46-4189:48" valueType="t:String" value="/" xsi:type="Literal"/>
                           </source>
                        </operand>
                        <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9118" locator="4189:54-4189:65" path="id" xsi:type="Property">
                              <source localId="9117" locator="4189:54-4189:62" name="Encounter" xsi:type="ExpressionRef"/>
                           </operand>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </source>
         </expression>
      </def>
      <def localId="9154" locator="4198:1-4202:64" name="Was client referred" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9154">
               <a:s>/*
  @dataElement: ANC.B10.DE224 Was client referred
  @activity: ANC.B.10.8 Intimate partner violence first-line support and care
  @description: Whether the client was referred to external services
*/
define &quot;Was client referred&quot;:
  </a:s>
               <a:s r="9153">
                  <a:s>
                     <a:s r="9126">
                        <a:s r="9125">
                           <a:s r="9125">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Was client referred&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9152">
                     <a:s>where </a:s>
                     <a:s r="9152">
                        <a:s r="9142">
                           <a:s r="9133">
                              <a:s r="9128">
                                 <a:s r="9127">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9128">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9132">
                                 <a:s>{ </a:s>
                                 <a:s r="9129">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9130">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9131">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9141">
                              <a:s r="9140">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9138">
                                    <a:s r="9137">
                                       <a:s r="9134">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9137">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9135">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9136">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9138">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9139">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9151">
                           <a:s r="9148">
                              <a:s>Last(</a:s>
                              <a:s r="9147">
                                 <a:s>Split(</a:s>
                                 <a:s r="9145">
                                    <a:s r="9144">
                                       <a:s r="9143">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9144">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9145">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9146">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9150">
                              <a:s r="9149">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9150">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9153" locator="4199:3-4202:64" xsi:type="Query">
            <source localId="9126" locator="4199:3-4199:43" alias="O">
               <expression localId="9125" locator="4199:3-4199:41" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4199:17-4199:40" name="Was client referred" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9152" locator="4200:5-4202:64" xsi:type="And">
               <operand localId="9142" locator="4200:11-4201:80" xsi:type="And">
                  <operand localId="9133" locator="4200:11-4200:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9128" locator="4200:11-4200:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9132" locator="4200:23-4200:57" xsi:type="List">
                        <element localId="9129" locator="4200:25-4200:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9130" locator="4200:34-4200:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9131" locator="4200:45-4200:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9141" locator="4201:11-4201:80" xsi:type="IsFalse">
                     <operand localId="9140" locator="4201:11-4201:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9138" locator="4201:20-4201:63" path="value" xsi:type="Property">
                                 <source localId="9137" locator="4201:20-4201:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9135" locator="4201:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9136" locator="4201:44-4201:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9139" locator="4201:66-4201:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9151" locator="4202:11-4202:64" xsi:type="Equal">
                  <operand localId="9148" locator="4202:11-4202:49" xsi:type="Last">
                     <source localId="9147" locator="4202:16-4202:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9145" locator="4202:22-4202:42" path="reference" xsi:type="Property">
                              <source localId="9144" locator="4202:22-4202:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9146" locator="4202:45-4202:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9150" locator="4202:53-4202:64" path="id" xsi:type="Property">
                        <source localId="9149" locator="4202:53-4202:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9182" locator="4210:1-4214:65" name="Emergency referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9182">
               <a:s>/*
  @dataElement: ANC.C.DE1 Emergency referral
  @activity: ANC.C1. Emergency referral?
  @description: Referral for urgent care
*/
define &quot;Emergency referral&quot;:
  </a:s>
               <a:s r="9181">
                  <a:s>
                     <a:s r="9156">
                        <a:s r="9155">
                           <a:s r="9155">
                              <a:s>[ServiceRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Emergency referral&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9180">
                     <a:s>where </a:s>
                     <a:s r="9180">
                        <a:s r="9170">
                           <a:s r="9164">
                              <a:s r="9158">
                                 <a:s r="9157">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9158">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9163">
                                 <a:s>{ </a:s>
                                 <a:s r="9159">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9160">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9161">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9162">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9169">
                              <a:s r="9168">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9166">
                                    <a:s r="9165">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9166">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9167">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9179">
                           <a:s r="9176">
                              <a:s>Last(</a:s>
                              <a:s r="9175">
                                 <a:s>Split(</a:s>
                                 <a:s r="9173">
                                    <a:s r="9172">
                                       <a:s r="9171">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9172">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9173">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9174">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9178">
                              <a:s r="9177">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9178">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9181" locator="4211:3-4214:65" xsi:type="Query">
            <source localId="9156" locator="4211:3-4211:46" alias="SR">
               <expression localId="9155" locator="4211:3-4211:43" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4211:20-4211:42" name="Emergency referral" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9180" locator="4212:5-4214:65" xsi:type="And">
               <operand localId="9170" locator="4212:11-4213:51" xsi:type="And">
                  <operand localId="9164" locator="4212:11-4212:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9158" locator="4212:11-4212:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9163" locator="4212:24-4212:68" xsi:type="List">
                        <element localId="9159" locator="4212:26-4212:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9160" locator="4212:35-4212:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9161" locator="4212:45-4212:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9162" locator="4212:56-4212:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9169" locator="4213:11-4213:51" xsi:type="IsFalse">
                     <operand localId="9168" locator="4213:11-4213:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9166" locator="4213:20-4213:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9167" locator="4213:37-4213:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9179" locator="4214:11-4214:65" xsi:type="Equal">
                  <operand localId="9176" locator="4214:11-4214:50" xsi:type="Last">
                     <source localId="9175" locator="4214:16-4214:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9173" locator="4214:22-4214:43" path="reference" xsi:type="Property">
                              <source localId="9172" locator="4214:22-4214:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9174" locator="4214:46-4214:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9178" locator="4214:54-4214:65" path="id" xsi:type="Property">
                        <source localId="9177" locator="4214:54-4214:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9210" locator="4222:1-4226:65" name="Date of scheduled referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9210">
               <a:s>/*
  @dataElement: ANC.C.DE6 Date of scheduled referral
  @activity: ANC.C1. Emergency referral?
  @description: When the referral is scheduled
*/
define &quot;Date of scheduled referral&quot;:
  </a:s>
               <a:s r="9209">
                  <a:s>
                     <a:s r="9184">
                        <a:s r="9183">
                           <a:s r="9183">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9208">
                     <a:s>where </a:s>
                     <a:s r="9208">
                        <a:s r="9198">
                           <a:s r="9192">
                              <a:s r="9186">
                                 <a:s r="9185">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9186">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9191">
                                 <a:s>{ </a:s>
                                 <a:s r="9187">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9188">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9189">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9190">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9197">
                              <a:s r="9196">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9194">
                                    <a:s r="9193">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9194">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9195">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9207">
                           <a:s r="9204">
                              <a:s>Last(</a:s>
                              <a:s r="9203">
                                 <a:s>Split(</a:s>
                                 <a:s r="9201">
                                    <a:s r="9200">
                                       <a:s r="9199">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9200">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9201">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9202">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9206">
                              <a:s r="9205">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9206">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9209" locator="4223:3-4226:65" xsi:type="Query">
            <source localId="9184" locator="4223:3-4223:21" alias="SR">
               <expression localId="9183" locator="4223:3-4223:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9208" locator="4224:5-4226:65" xsi:type="And">
               <operand localId="9198" locator="4224:11-4225:51" xsi:type="And">
                  <operand localId="9192" locator="4224:11-4224:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9186" locator="4224:11-4224:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9191" locator="4224:24-4224:68" xsi:type="List">
                        <element localId="9187" locator="4224:26-4224:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9188" locator="4224:35-4224:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9189" locator="4224:45-4224:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9190" locator="4224:56-4224:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9197" locator="4225:11-4225:51" xsi:type="IsFalse">
                     <operand localId="9196" locator="4225:11-4225:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9194" locator="4225:20-4225:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9195" locator="4225:37-4225:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9207" locator="4226:11-4226:65" xsi:type="Equal">
                  <operand localId="9204" locator="4226:11-4226:50" xsi:type="Last">
                     <source localId="9203" locator="4226:16-4226:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9201" locator="4226:22-4226:43" path="reference" xsi:type="Property">
                              <source localId="9200" locator="4226:22-4226:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9202" locator="4226:46-4226:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9206" locator="4226:54-4226:65" path="id" xsi:type="Property">
                        <source localId="9205" locator="4226:54-4226:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9238" locator="4234:1-4238:65" name="Location of referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9238">
               <a:s>/*
  @dataElement: ANC.C.DE7 Location of referral
  @activity: ANC.C1. Emergency referral?
  @description: Where the client is being referred to
*/
define &quot;Location of referral&quot;:
  </a:s>
               <a:s r="9237">
                  <a:s>
                     <a:s r="9212">
                        <a:s r="9211">
                           <a:s r="9211">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9236">
                     <a:s>where </a:s>
                     <a:s r="9236">
                        <a:s r="9226">
                           <a:s r="9220">
                              <a:s r="9214">
                                 <a:s r="9213">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9214">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9219">
                                 <a:s>{ </a:s>
                                 <a:s r="9215">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9216">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9217">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9218">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9225">
                              <a:s r="9224">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9222">
                                    <a:s r="9221">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9222">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9223">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9235">
                           <a:s r="9232">
                              <a:s>Last(</a:s>
                              <a:s r="9231">
                                 <a:s>Split(</a:s>
                                 <a:s r="9229">
                                    <a:s r="9228">
                                       <a:s r="9227">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9228">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9229">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9230">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9234">
                              <a:s r="9233">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9234">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9237" locator="4235:3-4238:65" xsi:type="Query">
            <source localId="9212" locator="4235:3-4235:21" alias="SR">
               <expression localId="9211" locator="4235:3-4235:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9236" locator="4236:5-4238:65" xsi:type="And">
               <operand localId="9226" locator="4236:11-4237:51" xsi:type="And">
                  <operand localId="9220" locator="4236:11-4236:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9214" locator="4236:11-4236:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9219" locator="4236:24-4236:68" xsi:type="List">
                        <element localId="9215" locator="4236:26-4236:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9216" locator="4236:35-4236:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9217" locator="4236:45-4236:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9218" locator="4236:56-4236:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9225" locator="4237:11-4237:51" xsi:type="IsFalse">
                     <operand localId="9224" locator="4237:11-4237:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9222" locator="4237:20-4237:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9223" locator="4237:37-4237:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9235" locator="4238:11-4238:65" xsi:type="Equal">
                  <operand localId="9232" locator="4238:11-4238:50" xsi:type="Last">
                     <source localId="9231" locator="4238:16-4238:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9229" locator="4238:22-4238:43" path="reference" xsi:type="Property">
                              <source localId="9228" locator="4238:22-4238:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9230" locator="4238:46-4238:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9234" locator="4238:54-4238:65" path="id" xsi:type="Property">
                        <source localId="9233" locator="4238:54-4238:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9266" locator="4246:1-4250:65" name="Date referral was made" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9266">
               <a:s>/*
  @dataElement: ANC.C.DE8 Date referral was made
  @activity: ANC.C1. Emergency referral?
  @description: The date the referral was made
*/
define &quot;Date referral was made&quot;:
  </a:s>
               <a:s r="9265">
                  <a:s>
                     <a:s r="9240">
                        <a:s r="9239">
                           <a:s r="9239">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9264">
                     <a:s>where </a:s>
                     <a:s r="9264">
                        <a:s r="9254">
                           <a:s r="9248">
                              <a:s r="9242">
                                 <a:s r="9241">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9242">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9247">
                                 <a:s>{ </a:s>
                                 <a:s r="9243">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9244">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9245">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9246">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9253">
                              <a:s r="9252">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9250">
                                    <a:s r="9249">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9250">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9251">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9263">
                           <a:s r="9260">
                              <a:s>Last(</a:s>
                              <a:s r="9259">
                                 <a:s>Split(</a:s>
                                 <a:s r="9257">
                                    <a:s r="9256">
                                       <a:s r="9255">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9256">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9257">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9258">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9262">
                              <a:s r="9261">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9262">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9265" locator="4247:3-4250:65" xsi:type="Query">
            <source localId="9240" locator="4247:3-4247:21" alias="SR">
               <expression localId="9239" locator="4247:3-4247:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9264" locator="4248:5-4250:65" xsi:type="And">
               <operand localId="9254" locator="4248:11-4249:51" xsi:type="And">
                  <operand localId="9248" locator="4248:11-4248:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9242" locator="4248:11-4248:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9247" locator="4248:24-4248:68" xsi:type="List">
                        <element localId="9243" locator="4248:26-4248:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9244" locator="4248:35-4248:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9245" locator="4248:45-4248:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9246" locator="4248:56-4248:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9253" locator="4249:11-4249:51" xsi:type="IsFalse">
                     <operand localId="9252" locator="4249:11-4249:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9250" locator="4249:20-4249:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9251" locator="4249:37-4249:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9263" locator="4250:11-4250:65" xsi:type="Equal">
                  <operand localId="9260" locator="4250:11-4250:50" xsi:type="Last">
                     <source localId="9259" locator="4250:16-4250:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9257" locator="4250:22-4250:43" path="reference" xsi:type="Property">
                              <source localId="9256" locator="4250:22-4250:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9258" locator="4250:46-4250:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9262" locator="4250:54-4250:65" path="id" xsi:type="Property">
                        <source localId="9261" locator="4250:54-4250:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9294" locator="4258:1-4262:65" name="Provider who made referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9294">
               <a:s>/*
  @dataElement: ANC.C.DE9 Provider who made referral
  @activity: ANC.C1. Emergency referral?
  @description: The name of the provider who made the referral
*/
define &quot;Provider who made referral&quot;:
  </a:s>
               <a:s r="9293">
                  <a:s>
                     <a:s r="9268">
                        <a:s r="9267">
                           <a:s r="9267">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9292">
                     <a:s>where </a:s>
                     <a:s r="9292">
                        <a:s r="9282">
                           <a:s r="9276">
                              <a:s r="9270">
                                 <a:s r="9269">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9270">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9275">
                                 <a:s>{ </a:s>
                                 <a:s r="9271">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9272">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9273">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9274">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9281">
                              <a:s r="9280">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9278">
                                    <a:s r="9277">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9278">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9279">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9291">
                           <a:s r="9288">
                              <a:s>Last(</a:s>
                              <a:s r="9287">
                                 <a:s>Split(</a:s>
                                 <a:s r="9285">
                                    <a:s r="9284">
                                       <a:s r="9283">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9284">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9285">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9286">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9290">
                              <a:s r="9289">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9290">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9293" locator="4259:3-4262:65" xsi:type="Query">
            <source localId="9268" locator="4259:3-4259:21" alias="SR">
               <expression localId="9267" locator="4259:3-4259:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9292" locator="4260:5-4262:65" xsi:type="And">
               <operand localId="9282" locator="4260:11-4261:51" xsi:type="And">
                  <operand localId="9276" locator="4260:11-4260:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9270" locator="4260:11-4260:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9275" locator="4260:24-4260:68" xsi:type="List">
                        <element localId="9271" locator="4260:26-4260:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9272" locator="4260:35-4260:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9273" locator="4260:45-4260:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9274" locator="4260:56-4260:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9281" locator="4261:11-4261:51" xsi:type="IsFalse">
                     <operand localId="9280" locator="4261:11-4261:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9278" locator="4261:20-4261:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9279" locator="4261:37-4261:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9291" locator="4262:11-4262:65" xsi:type="Equal">
                  <operand localId="9288" locator="4262:11-4262:50" xsi:type="Last">
                     <source localId="9287" locator="4262:16-4262:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9285" locator="4262:22-4262:43" path="reference" xsi:type="Property">
                              <source localId="9284" locator="4262:22-4262:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9286" locator="4262:46-4262:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9290" locator="4262:54-4262:65" path="id" xsi:type="Property">
                        <source localId="9289" locator="4262:54-4262:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9322" locator="4270:1-4274:65" name="Referral notes" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9322">
               <a:s>/*
  @dataElement: ANC.C.DE12 Referral notes
  @activity: ANC.C1. Emergency referral?
  @description: Any additional relevant details of clinical significance for the referral facility to provide continuity of care
*/
define &quot;Referral notes&quot;:
  </a:s>
               <a:s r="9321">
                  <a:s>
                     <a:s r="9296">
                        <a:s r="9295">
                           <a:s r="9295">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9320">
                     <a:s>where </a:s>
                     <a:s r="9320">
                        <a:s r="9310">
                           <a:s r="9304">
                              <a:s r="9298">
                                 <a:s r="9297">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9298">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9303">
                                 <a:s>{ </a:s>
                                 <a:s r="9299">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9300">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9301">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9302">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9309">
                              <a:s r="9308">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9306">
                                    <a:s r="9305">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9306">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9307">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9319">
                           <a:s r="9316">
                              <a:s>Last(</a:s>
                              <a:s r="9315">
                                 <a:s>Split(</a:s>
                                 <a:s r="9313">
                                    <a:s r="9312">
                                       <a:s r="9311">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9312">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9313">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9314">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9318">
                              <a:s r="9317">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9318">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9321" locator="4271:3-4274:65" xsi:type="Query">
            <source localId="9296" locator="4271:3-4271:21" alias="SR">
               <expression localId="9295" locator="4271:3-4271:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9320" locator="4272:5-4274:65" xsi:type="And">
               <operand localId="9310" locator="4272:11-4273:51" xsi:type="And">
                  <operand localId="9304" locator="4272:11-4272:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9298" locator="4272:11-4272:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9303" locator="4272:24-4272:68" xsi:type="List">
                        <element localId="9299" locator="4272:26-4272:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9300" locator="4272:35-4272:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9301" locator="4272:45-4272:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9302" locator="4272:56-4272:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9309" locator="4273:11-4273:51" xsi:type="IsFalse">
                     <operand localId="9308" locator="4273:11-4273:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9306" locator="4273:20-4273:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9307" locator="4273:37-4273:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9319" locator="4274:11-4274:65" xsi:type="Equal">
                  <operand localId="9316" locator="4274:11-4274:50" xsi:type="Last">
                     <source localId="9315" locator="4274:16-4274:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9313" locator="4274:22-4274:43" path="reference" xsi:type="Property">
                              <source localId="9312" locator="4274:22-4274:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9314" locator="4274:46-4274:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9318" locator="4274:54-4274:65" path="id" xsi:type="Property">
                        <source localId="9317" locator="4274:54-4274:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9350" locator="4282:1-4286:65" name="Client history summary" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9350">
               <a:s>/*
  @dataElement: ANC.C.DE13 Client history summary
  @activity: ANC.C1. Emergency referral?
  @description: With interoperable systems, the provider receiving the referral should be able to access the client's health record digitally. However, in the absence of this, the referral provider should receive a summary of the client's health records that includes the client's history, reported issues and concerns, and any other relevant clinical information the health-care provider had already obtained
*/
define &quot;Client history summary&quot;:
  </a:s>
               <a:s r="9349">
                  <a:s>
                     <a:s r="9324">
                        <a:s r="9323">
                           <a:s r="9323">
                              <a:s>[ServiceRequest]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9348">
                     <a:s>where </a:s>
                     <a:s r="9348">
                        <a:s r="9338">
                           <a:s r="9332">
                              <a:s r="9326">
                                 <a:s r="9325">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9326">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9331">
                                 <a:s>{ </a:s>
                                 <a:s r="9327">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9328">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9329">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9330">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9337">
                              <a:s r="9336">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9334">
                                    <a:s r="9333">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9334">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9335">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9347">
                           <a:s r="9344">
                              <a:s>Last(</a:s>
                              <a:s r="9343">
                                 <a:s>Split(</a:s>
                                 <a:s r="9341">
                                    <a:s r="9340">
                                       <a:s r="9339">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9340">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9341">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9342">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9346">
                              <a:s r="9345">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9346">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9349" locator="4283:3-4286:65" xsi:type="Query">
            <source localId="9324" locator="4283:3-4283:21" alias="SR">
               <expression localId="9323" locator="4283:3-4283:18" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" xsi:type="Retrieve"/>
            </source>
            <where localId="9348" locator="4284:5-4286:65" xsi:type="And">
               <operand localId="9338" locator="4284:11-4285:51" xsi:type="And">
                  <operand localId="9332" locator="4284:11-4284:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9326" locator="4284:11-4284:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9331" locator="4284:24-4284:68" xsi:type="List">
                        <element localId="9327" locator="4284:26-4284:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9328" locator="4284:35-4284:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9329" locator="4284:45-4284:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9330" locator="4284:56-4284:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9337" locator="4285:11-4285:51" xsi:type="IsFalse">
                     <operand localId="9336" locator="4285:11-4285:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9334" locator="4285:20-4285:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9335" locator="4285:37-4285:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9347" locator="4286:11-4286:65" xsi:type="Equal">
                  <operand localId="9344" locator="4286:11-4286:50" xsi:type="Last">
                     <source localId="9343" locator="4286:16-4286:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9341" locator="4286:22-4286:43" path="reference" xsi:type="Property">
                              <source localId="9340" locator="4286:22-4286:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9342" locator="4286:46-4286:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9346" locator="4286:54-4286:65" path="id" xsi:type="Property">
                        <source localId="9345" locator="4286:54-4286:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9378" locator="4294:1-4298:65" name="Reason for referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9378">
               <a:s>/*
  @dataElement: ANC.C.DE2 Reason for referral
  @activity: ANC.C6. Provide information to referral facility
  @description: Reason why the client is being referred
*/
define &quot;Reason for referral&quot;:
  </a:s>
               <a:s r="9377">
                  <a:s>
                     <a:s r="9352">
                        <a:s r="9351">
                           <a:s r="9351">
                              <a:s>[ServiceRequest: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason for referral&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> SR</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9376">
                     <a:s>where </a:s>
                     <a:s r="9376">
                        <a:s r="9366">
                           <a:s r="9360">
                              <a:s r="9354">
                                 <a:s r="9353">
                                    <a:s>SR</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9354">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9359">
                                 <a:s>{ </a:s>
                                 <a:s r="9355">
                                    <a:s>'draft'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9356">
                                    <a:s>'active'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9357">
                                    <a:s>'on-hold'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9358">
                                    <a:s>'completed'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9365">
                              <a:s r="9364">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9362">
                                    <a:s r="9361">
                                       <a:s>SR</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9362">
                                       <a:s>doNotPerform</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9363">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9375">
                           <a:s r="9372">
                              <a:s>Last(</a:s>
                              <a:s r="9371">
                                 <a:s>Split(</a:s>
                                 <a:s r="9369">
                                    <a:s r="9368">
                                       <a:s r="9367">
                                          <a:s>SR</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9368">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9369">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9370">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9374">
                              <a:s r="9373">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9374">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9377" locator="4295:3-4298:65" xsi:type="Query">
            <source localId="9352" locator="4295:3-4295:47" alias="SR">
               <expression localId="9351" locator="4295:3-4295:44" dataType="fhir:ServiceRequest" templateId="http://hl7.org/fhir/StructureDefinition/ServiceRequest" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4295:20-4295:43" name="Reason for referral" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9376" locator="4296:5-4298:65" xsi:type="And">
               <operand localId="9366" locator="4296:11-4297:51" xsi:type="And">
                  <operand localId="9360" locator="4296:11-4296:68" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9354" locator="4296:11-4296:19" path="status" scope="SR" xsi:type="Property"/>
                     </operand>
                     <operand localId="9359" locator="4296:24-4296:68" xsi:type="List">
                        <element localId="9355" locator="4296:26-4296:32" valueType="t:String" value="draft" xsi:type="Literal"/>
                        <element localId="9356" locator="4296:35-4296:42" valueType="t:String" value="active" xsi:type="Literal"/>
                        <element localId="9357" locator="4296:45-4296:53" valueType="t:String" value="on-hold" xsi:type="Literal"/>
                        <element localId="9358" locator="4296:56-4296:66" valueType="t:String" value="completed" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9365" locator="4297:11-4297:51" xsi:type="IsFalse">
                     <operand localId="9364" locator="4297:11-4297:42" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9362" locator="4297:20-4297:34" path="doNotPerform" scope="SR" xsi:type="Property"/>
                        </operand>
                        <operand localId="9363" locator="4297:37-4297:41" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9375" locator="4298:11-4298:65" xsi:type="Equal">
                  <operand localId="9372" locator="4298:11-4298:50" xsi:type="Last">
                     <source localId="9371" locator="4298:16-4298:49" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9369" locator="4298:22-4298:43" path="reference" xsi:type="Property">
                              <source localId="9368" locator="4298:22-4298:33" path="encounter" scope="SR" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9370" locator="4298:46-4298:48" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9374" locator="4298:54-4298:65" path="id" xsi:type="Property">
                        <source localId="9373" locator="4298:54-4298:62" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9408" locator="4306:1-4310:64" name="Any treatment given before referral" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9408">
               <a:s>/*
  @dataElement: ANC.C.DE5 Any treatment given before referral
  @activity: ANC.C6. Provide information to referral facility
  @description: If woman was referred, was any treatment provided before referral?
*/
define &quot;Any treatment given before referral&quot;:
  </a:s>
               <a:s r="9407">
                  <a:s>
                     <a:s r="9380">
                        <a:s r="9379">
                           <a:s r="9379">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Any treatment given before referral&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9406">
                     <a:s>where </a:s>
                     <a:s r="9406">
                        <a:s r="9396">
                           <a:s r="9387">
                              <a:s r="9382">
                                 <a:s r="9381">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9382">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9386">
                                 <a:s>{ </a:s>
                                 <a:s r="9383">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9384">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9385">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9395">
                              <a:s r="9394">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9392">
                                    <a:s r="9391">
                                       <a:s r="9388">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9391">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9389">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9390">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9392">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9393">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9405">
                           <a:s r="9402">
                              <a:s>Last(</a:s>
                              <a:s r="9401">
                                 <a:s>Split(</a:s>
                                 <a:s r="9399">
                                    <a:s r="9398">
                                       <a:s r="9397">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9398">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9399">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9400">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9404">
                              <a:s r="9403">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9404">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9407" locator="4307:3-4310:64" xsi:type="Query">
            <source localId="9380" locator="4307:3-4307:59" alias="O">
               <expression localId="9379" locator="4307:3-4307:57" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4307:17-4307:56" name="Any treatment given before referral" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9406" locator="4308:5-4310:64" xsi:type="And">
               <operand localId="9396" locator="4308:11-4309:80" xsi:type="And">
                  <operand localId="9387" locator="4308:11-4308:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9382" locator="4308:11-4308:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9386" locator="4308:23-4308:57" xsi:type="List">
                        <element localId="9383" locator="4308:25-4308:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9384" locator="4308:34-4308:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9385" locator="4308:45-4308:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9395" locator="4309:11-4309:80" xsi:type="IsFalse">
                     <operand localId="9394" locator="4309:11-4309:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9392" locator="4309:20-4309:63" path="value" xsi:type="Property">
                                 <source localId="9391" locator="4309:20-4309:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9389" locator="4309:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9390" locator="4309:44-4309:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9393" locator="4309:66-4309:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9405" locator="4310:11-4310:64" xsi:type="Equal">
                  <operand localId="9402" locator="4310:11-4310:49" xsi:type="Last">
                     <source localId="9401" locator="4310:16-4310:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9399" locator="4310:22-4310:42" path="reference" xsi:type="Property">
                              <source localId="9398" locator="4310:22-4310:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9400" locator="4310:45-4310:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9404" locator="4310:53-4310:64" path="id" xsi:type="Property">
                        <source localId="9403" locator="4310:53-4310:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9410" locator="4318:1-4319:20" name="Provider's facility" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9410">
               <a:s>/*
  @dataElement: ANC.C.DE10 Provider's facility
  @activity: ANC.C6. Provide information to referral facility
  @description: Facility client is being referred from
*/
define &quot;Provider's facility&quot;:
  </a:s>
               <a:s r="9409">
                  <a:s>[PractitionerRole]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9409" locator="4319:3-4319:20" dataType="fhir:PractitionerRole" templateId="http://hl7.org/fhir/StructureDefinition/PractitionerRole" xsi:type="Retrieve"/>
      </def>
      <def localId="9412" locator="4326:1-4327:20" name="Provider's telephone number" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9412">
               <a:s>/*
  @dataElement: ANC.C.DE11 Provider's telephone number
  @activity: ANC.C6. Provide information to referral facility
  @description: The contact details of the provider making the referral
*/
define &quot;Provider's telephone number&quot;:
  </a:s>
               <a:s r="9411">
                  <a:s>[PractitionerRole]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9411" locator="4327:3-4327:20" dataType="fhir:PractitionerRole" templateId="http://hl7.org/fhir/StructureDefinition/PractitionerRole" xsi:type="Retrieve"/>
      </def>
      <def localId="9442" locator="4334:1-4338:64" name="Reason for closing ANC record" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9442">
               <a:s>/*
  @dataElement: ANC.End.1 Reason for closing ANC record
  @activity: ANC.End End
  @description: Select the reason why you are closing the woman's ANC record
*/
define &quot;Reason for closing ANC record&quot;:
  </a:s>
               <a:s r="9441">
                  <a:s>
                     <a:s r="9414">
                        <a:s r="9413">
                           <a:s r="9413">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Reason for closing ANC record&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9440">
                     <a:s>where </a:s>
                     <a:s r="9440">
                        <a:s r="9430">
                           <a:s r="9421">
                              <a:s r="9416">
                                 <a:s r="9415">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9416">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9420">
                                 <a:s>{ </a:s>
                                 <a:s r="9417">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9418">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9419">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9429">
                              <a:s r="9428">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9426">
                                    <a:s r="9425">
                                       <a:s r="9422">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9425">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9423">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9424">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9426">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9427">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9439">
                           <a:s r="9436">
                              <a:s>Last(</a:s>
                              <a:s r="9435">
                                 <a:s>Split(</a:s>
                                 <a:s r="9433">
                                    <a:s r="9432">
                                       <a:s r="9431">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9432">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9433">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9434">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9438">
                              <a:s r="9437">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9438">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9441" locator="4335:3-4338:64" xsi:type="Query">
            <source localId="9414" locator="4335:3-4335:53" alias="O">
               <expression localId="9413" locator="4335:3-4335:51" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4335:17-4335:50" name="Reason for closing ANC record" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9440" locator="4336:5-4338:64" xsi:type="And">
               <operand localId="9430" locator="4336:11-4337:80" xsi:type="And">
                  <operand localId="9421" locator="4336:11-4336:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9416" locator="4336:11-4336:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9420" locator="4336:23-4336:57" xsi:type="List">
                        <element localId="9417" locator="4336:25-4336:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9418" locator="4336:34-4336:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9419" locator="4336:45-4336:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9429" locator="4337:11-4337:80" xsi:type="IsFalse">
                     <operand localId="9428" locator="4337:11-4337:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9426" locator="4337:20-4337:63" path="value" xsi:type="Property">
                                 <source localId="9425" locator="4337:20-4337:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9423" locator="4337:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9424" locator="4337:44-4337:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9427" locator="4337:66-4337:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9439" locator="4338:11-4338:64" xsi:type="Equal">
                  <operand localId="9436" locator="4338:11-4338:49" xsi:type="Last">
                     <source localId="9435" locator="4338:16-4338:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9433" locator="4338:22-4338:42" path="reference" xsi:type="Property">
                              <source localId="9432" locator="4338:22-4338:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9434" locator="4338:45-4338:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9438" locator="4338:53-4338:64" path="id" xsi:type="Property">
                        <source localId="9437" locator="4338:53-4338:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9472" locator="4346:1-4350:64" name="Delivery date" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9472">
               <a:s>/*
  @dataElement: ANC.End.12 Delivery date
  @activity: ANC.End End
  @description: Date on which the woman delivered
*/
define &quot;Delivery date&quot;:
  </a:s>
               <a:s r="9471">
                  <a:s>
                     <a:s r="9444">
                        <a:s r="9443">
                           <a:s r="9443">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Delivery date&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9470">
                     <a:s>where </a:s>
                     <a:s r="9470">
                        <a:s r="9460">
                           <a:s r="9451">
                              <a:s r="9446">
                                 <a:s r="9445">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9446">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9450">
                                 <a:s>{ </a:s>
                                 <a:s r="9447">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9448">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9449">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9459">
                              <a:s r="9458">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9456">
                                    <a:s r="9455">
                                       <a:s r="9452">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9455">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9453">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9454">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9456">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9457">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9469">
                           <a:s r="9466">
                              <a:s>Last(</a:s>
                              <a:s r="9465">
                                 <a:s>Split(</a:s>
                                 <a:s r="9463">
                                    <a:s r="9462">
                                       <a:s r="9461">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9462">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9463">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9464">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9468">
                              <a:s r="9467">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9468">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9471" locator="4347:3-4350:64" xsi:type="Query">
            <source localId="9444" locator="4347:3-4347:37" alias="O">
               <expression localId="9443" locator="4347:3-4347:35" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4347:17-4347:34" name="Delivery date" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9470" locator="4348:5-4350:64" xsi:type="And">
               <operand localId="9460" locator="4348:11-4349:80" xsi:type="And">
                  <operand localId="9451" locator="4348:11-4348:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9446" locator="4348:11-4348:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9450" locator="4348:23-4348:57" xsi:type="List">
                        <element localId="9447" locator="4348:25-4348:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9448" locator="4348:34-4348:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9449" locator="4348:45-4348:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9459" locator="4349:11-4349:80" xsi:type="IsFalse">
                     <operand localId="9458" locator="4349:11-4349:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9456" locator="4349:20-4349:63" path="value" xsi:type="Property">
                                 <source localId="9455" locator="4349:20-4349:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9453" locator="4349:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9454" locator="4349:44-4349:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9457" locator="4349:66-4349:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9469" locator="4350:11-4350:64" xsi:type="Equal">
                  <operand localId="9466" locator="4350:11-4350:49" xsi:type="Last">
                     <source localId="9465" locator="4350:16-4350:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9463" locator="4350:22-4350:42" path="reference" xsi:type="Property">
                              <source localId="9462" locator="4350:22-4350:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9464" locator="4350:45-4350:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9468" locator="4350:53-4350:64" path="id" xsi:type="Property">
                        <source localId="9467" locator="4350:53-4350:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9474" locator="4358:1-4359:37" name="Place of delivery" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9474">
               <a:s>/*
  @dataElement: ANC.End.13 Place of delivery
  @activity: ANC.End End
  @description: Place where the woman delivered
*/
define &quot;Place of delivery&quot;:
  </a:s>
               <a:s r="9473">
                  <a:s>[Encounter: </a:s>
                  <a:s>
                     <a:s>Cx.&quot;Place of delivery&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9473" locator="4359:3-4359:37" dataType="fhir:Encounter" templateId="http://hl7.org/fhir/StructureDefinition/Encounter" codeProperty="type" codeComparator="in" xsi:type="Retrieve">
            <codes locator="4359:15-4359:36" name="Place of delivery" libraryName="Cx" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="9504" locator="4366:1-4370:64" name="Preterm Birth" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9504">
               <a:s>/*
  @dataElement: ANC.End.17 Preterm Birth
  @activity: ANC.End End
  @description: The woman gave birth when the gestational age was less than 37 weeks
*/
define &quot;Preterm Birth&quot;:
  </a:s>
               <a:s r="9503">
                  <a:s>
                     <a:s r="9476">
                        <a:s r="9475">
                           <a:s r="9475">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Preterm Birth&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9502">
                     <a:s>where </a:s>
                     <a:s r="9502">
                        <a:s r="9492">
                           <a:s r="9483">
                              <a:s r="9478">
                                 <a:s r="9477">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9478">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9482">
                                 <a:s>{ </a:s>
                                 <a:s r="9479">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9480">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9481">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9491">
                              <a:s r="9490">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9488">
                                    <a:s r="9487">
                                       <a:s r="9484">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9487">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9485">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9486">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9488">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9489">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9501">
                           <a:s r="9498">
                              <a:s>Last(</a:s>
                              <a:s r="9497">
                                 <a:s>Split(</a:s>
                                 <a:s r="9495">
                                    <a:s r="9494">
                                       <a:s r="9493">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9494">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9495">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9496">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9500">
                              <a:s r="9499">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9500">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9503" locator="4367:3-4370:64" xsi:type="Query">
            <source localId="9476" locator="4367:3-4367:37" alias="O">
               <expression localId="9475" locator="4367:3-4367:35" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4367:17-4367:34" name="Preterm Birth" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9502" locator="4368:5-4370:64" xsi:type="And">
               <operand localId="9492" locator="4368:11-4369:80" xsi:type="And">
                  <operand localId="9483" locator="4368:11-4368:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9478" locator="4368:11-4368:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9482" locator="4368:23-4368:57" xsi:type="List">
                        <element localId="9479" locator="4368:25-4368:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9480" locator="4368:34-4368:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9481" locator="4368:45-4368:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9491" locator="4369:11-4369:80" xsi:type="IsFalse">
                     <operand localId="9490" locator="4369:11-4369:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9488" locator="4369:20-4369:63" path="value" xsi:type="Property">
                                 <source localId="9487" locator="4369:20-4369:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9485" locator="4369:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9486" locator="4369:44-4369:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9489" locator="4369:66-4369:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9501" locator="4370:11-4370:64" xsi:type="Equal">
                  <operand localId="9498" locator="4370:11-4370:49" xsi:type="Last">
                     <source localId="9497" locator="4370:16-4370:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9495" locator="4370:22-4370:42" path="reference" xsi:type="Property">
                              <source localId="9494" locator="4370:22-4370:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9496" locator="4370:45-4370:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9500" locator="4370:53-4370:64" path="id" xsi:type="Property">
                        <source localId="9499" locator="4370:53-4370:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9534" locator="4378:1-4382:64" name="Delivery mode" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9534">
               <a:s>/*
  @dataElement: ANC.End.18 Delivery mode
  @activity: ANC.End End
  @description: How the woman gave birth/delivered
*/
define &quot;Delivery mode&quot;:
  </a:s>
               <a:s r="9533">
                  <a:s>
                     <a:s r="9506">
                        <a:s r="9505">
                           <a:s r="9505">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Delivery mode&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9532">
                     <a:s>where </a:s>
                     <a:s r="9532">
                        <a:s r="9522">
                           <a:s r="9513">
                              <a:s r="9508">
                                 <a:s r="9507">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9508">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9512">
                                 <a:s>{ </a:s>
                                 <a:s r="9509">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9510">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9511">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9521">
                              <a:s r="9520">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9518">
                                    <a:s r="9517">
                                       <a:s r="9514">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9517">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9515">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9516">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9518">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9519">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9531">
                           <a:s r="9528">
                              <a:s>Last(</a:s>
                              <a:s r="9527">
                                 <a:s>Split(</a:s>
                                 <a:s r="9525">
                                    <a:s r="9524">
                                       <a:s r="9523">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9524">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9525">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9526">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9530">
                              <a:s r="9529">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9530">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9533" locator="4379:3-4382:64" xsi:type="Query">
            <source localId="9506" locator="4379:3-4379:37" alias="O">
               <expression localId="9505" locator="4379:3-4379:35" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4379:17-4379:34" name="Delivery mode" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9532" locator="4380:5-4382:64" xsi:type="And">
               <operand localId="9522" locator="4380:11-4381:80" xsi:type="And">
                  <operand localId="9513" locator="4380:11-4380:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9508" locator="4380:11-4380:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9512" locator="4380:23-4380:57" xsi:type="List">
                        <element localId="9509" locator="4380:25-4380:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9510" locator="4380:34-4380:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9511" locator="4380:45-4380:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9521" locator="4381:11-4381:80" xsi:type="IsFalse">
                     <operand localId="9520" locator="4381:11-4381:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9518" locator="4381:20-4381:63" path="value" xsi:type="Property">
                                 <source localId="9517" locator="4381:20-4381:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9515" locator="4381:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9516" locator="4381:44-4381:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9519" locator="4381:66-4381:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9531" locator="4382:11-4382:64" xsi:type="Equal">
                  <operand localId="9528" locator="4382:11-4382:49" xsi:type="Last">
                     <source localId="9527" locator="4382:16-4382:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9525" locator="4382:22-4382:42" path="reference" xsi:type="Property">
                              <source localId="9524" locator="4382:22-4382:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9526" locator="4382:45-4382:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9530" locator="4382:53-4382:64" path="id" xsi:type="Property">
                        <source localId="9529" locator="4382:53-4382:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9564" locator="4390:1-4394:64" name="Birth weight" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9564">
               <a:s>/*
  @dataElement: ANC.End.23 Birth weight
  @activity: ANC.End End
  @description: Enter the birth weight of the baby in kg
*/
define &quot;Birth weight&quot;:
  </a:s>
               <a:s r="9563">
                  <a:s>
                     <a:s r="9536">
                        <a:s r="9535">
                           <a:s r="9535">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Birth weight&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9562">
                     <a:s>where </a:s>
                     <a:s r="9562">
                        <a:s r="9552">
                           <a:s r="9543">
                              <a:s r="9538">
                                 <a:s r="9537">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9538">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9542">
                                 <a:s>{ </a:s>
                                 <a:s r="9539">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9540">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9541">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9551">
                              <a:s r="9550">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9548">
                                    <a:s r="9547">
                                       <a:s r="9544">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9547">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9545">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9546">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9548">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9549">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9561">
                           <a:s r="9558">
                              <a:s>Last(</a:s>
                              <a:s r="9557">
                                 <a:s>Split(</a:s>
                                 <a:s r="9555">
                                    <a:s r="9554">
                                       <a:s r="9553">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9554">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9555">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9556">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9560">
                              <a:s r="9559">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9560">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9563" locator="4391:3-4394:64" xsi:type="Query">
            <source localId="9536" locator="4391:3-4391:36" alias="O">
               <expression localId="9535" locator="4391:3-4391:34" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4391:17-4391:33" name="Birth weight" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9562" locator="4392:5-4394:64" xsi:type="And">
               <operand localId="9552" locator="4392:11-4393:80" xsi:type="And">
                  <operand localId="9543" locator="4392:11-4392:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9538" locator="4392:11-4392:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9542" locator="4392:23-4392:57" xsi:type="List">
                        <element localId="9539" locator="4392:25-4392:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9540" locator="4392:34-4392:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9541" locator="4392:45-4392:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9551" locator="4393:11-4393:80" xsi:type="IsFalse">
                     <operand localId="9550" locator="4393:11-4393:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9548" locator="4393:20-4393:63" path="value" xsi:type="Property">
                                 <source localId="9547" locator="4393:20-4393:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9545" locator="4393:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9546" locator="4393:44-4393:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9549" locator="4393:66-4393:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9561" locator="4394:11-4394:64" xsi:type="Equal">
                  <operand localId="9558" locator="4394:11-4394:49" xsi:type="Last">
                     <source localId="9557" locator="4394:16-4394:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9555" locator="4394:22-4394:42" path="reference" xsi:type="Property">
                              <source localId="9554" locator="4394:22-4394:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9556" locator="4394:45-4394:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9560" locator="4394:53-4394:64" path="id" xsi:type="Property">
                        <source localId="9559" locator="4394:53-4394:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9594" locator="4402:1-4406:64" name="Exclusively breastfeeding" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9594">
               <a:s>/*
  @dataElement: ANC.End.24 Exclusively breastfeeding
  @activity: ANC.End End
  @description: Specify whether the woman is exclusively breastfeeding
*/
define &quot;Exclusively breastfeeding&quot;:
  </a:s>
               <a:s r="9593">
                  <a:s>
                     <a:s r="9566">
                        <a:s r="9565">
                           <a:s r="9565">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Exclusively breastfeeding&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9592">
                     <a:s>where </a:s>
                     <a:s r="9592">
                        <a:s r="9582">
                           <a:s r="9573">
                              <a:s r="9568">
                                 <a:s r="9567">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9568">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9572">
                                 <a:s>{ </a:s>
                                 <a:s r="9569">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9570">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9571">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9581">
                              <a:s r="9580">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9578">
                                    <a:s r="9577">
                                       <a:s r="9574">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9577">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9575">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9576">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9578">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9579">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9591">
                           <a:s r="9588">
                              <a:s>Last(</a:s>
                              <a:s r="9587">
                                 <a:s>Split(</a:s>
                                 <a:s r="9585">
                                    <a:s r="9584">
                                       <a:s r="9583">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9584">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9585">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9586">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9590">
                              <a:s r="9589">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9590">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9593" locator="4403:3-4406:64" xsi:type="Query">
            <source localId="9566" locator="4403:3-4403:49" alias="O">
               <expression localId="9565" locator="4403:3-4403:47" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4403:17-4403:46" name="Exclusively breastfeeding" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9592" locator="4404:5-4406:64" xsi:type="And">
               <operand localId="9582" locator="4404:11-4405:80" xsi:type="And">
                  <operand localId="9573" locator="4404:11-4404:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9568" locator="4404:11-4404:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9572" locator="4404:23-4404:57" xsi:type="List">
                        <element localId="9569" locator="4404:25-4404:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9570" locator="4404:34-4404:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9571" locator="4404:45-4404:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9581" locator="4405:11-4405:80" xsi:type="IsFalse">
                     <operand localId="9580" locator="4405:11-4405:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9578" locator="4405:20-4405:63" path="value" xsi:type="Property">
                                 <source localId="9577" locator="4405:20-4405:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9575" locator="4405:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9576" locator="4405:44-4405:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9579" locator="4405:66-4405:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9591" locator="4406:11-4406:64" xsi:type="Equal">
                  <operand localId="9588" locator="4406:11-4406:49" xsi:type="Last">
                     <source localId="9587" locator="4406:16-4406:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9585" locator="4406:22-4406:42" path="reference" xsi:type="Property">
                              <source localId="9584" locator="4406:22-4406:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9586" locator="4406:45-4406:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9590" locator="4406:53-4406:64" path="id" xsi:type="Property">
                        <source localId="9589" locator="4406:53-4406:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9624" locator="4414:1-4418:64" name="Delivery complications" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9624">
               <a:s>/*
  @dataElement: ANC.End.25 Delivery complications
  @activity: ANC.End End
  @description: Any complications that occurred during delivery
*/
define &quot;Delivery complications&quot;:
  </a:s>
               <a:s r="9623">
                  <a:s>
                     <a:s r="9596">
                        <a:s r="9595">
                           <a:s r="9595">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Delivery complications&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9622">
                     <a:s>where </a:s>
                     <a:s r="9622">
                        <a:s r="9612">
                           <a:s r="9603">
                              <a:s r="9598">
                                 <a:s r="9597">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9598">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9602">
                                 <a:s>{ </a:s>
                                 <a:s r="9599">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9600">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9601">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9611">
                              <a:s r="9610">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9608">
                                    <a:s r="9607">
                                       <a:s r="9604">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9607">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9605">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9606">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9608">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9609">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9621">
                           <a:s r="9618">
                              <a:s>Last(</a:s>
                              <a:s r="9617">
                                 <a:s>Split(</a:s>
                                 <a:s r="9615">
                                    <a:s r="9614">
                                       <a:s r="9613">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9614">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9615">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9616">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9620">
                              <a:s r="9619">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9620">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9623" locator="4415:3-4418:64" xsi:type="Query">
            <source localId="9596" locator="4415:3-4415:46" alias="O">
               <expression localId="9595" locator="4415:3-4415:44" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4415:17-4415:43" name="Delivery complications" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9622" locator="4416:5-4418:64" xsi:type="And">
               <operand localId="9612" locator="4416:11-4417:80" xsi:type="And">
                  <operand localId="9603" locator="4416:11-4416:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9598" locator="4416:11-4416:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9602" locator="4416:23-4416:57" xsi:type="List">
                        <element localId="9599" locator="4416:25-4416:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9600" locator="4416:34-4416:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9601" locator="4416:45-4416:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9611" locator="4417:11-4417:80" xsi:type="IsFalse">
                     <operand localId="9610" locator="4417:11-4417:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9608" locator="4417:20-4417:63" path="value" xsi:type="Property">
                                 <source localId="9607" locator="4417:20-4417:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9605" locator="4417:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9606" locator="4417:44-4417:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9609" locator="4417:66-4417:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9621" locator="4418:11-4418:64" xsi:type="Equal">
                  <operand localId="9618" locator="4418:11-4418:49" xsi:type="Last">
                     <source localId="9617" locator="4418:16-4418:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9615" locator="4418:22-4418:42" path="reference" xsi:type="Property">
                              <source localId="9614" locator="4418:22-4418:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9616" locator="4418:45-4418:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9620" locator="4418:53-4418:64" path="id" xsi:type="Property">
                        <source localId="9619" locator="4418:53-4418:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9654" locator="4426:1-4430:64" name="Date of miscarriage or abortion" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9654">
               <a:s>/*
  @dataElement: ANC.End.38 Date of miscarriage or abortion
  @activity: ANC.End End
  @description: Date of the miscarriage/abortion
*/
define &quot;Date of miscarriage or abortion&quot;:
  </a:s>
               <a:s r="9653">
                  <a:s>
                     <a:s r="9626">
                        <a:s r="9625">
                           <a:s r="9625">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Date of miscarriage or abortion&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9652">
                     <a:s>where </a:s>
                     <a:s r="9652">
                        <a:s r="9642">
                           <a:s r="9633">
                              <a:s r="9628">
                                 <a:s r="9627">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9628">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9632">
                                 <a:s>{ </a:s>
                                 <a:s r="9629">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9630">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9631">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9641">
                              <a:s r="9640">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9638">
                                    <a:s r="9637">
                                       <a:s r="9634">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9637">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9635">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9636">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9638">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9639">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9651">
                           <a:s r="9648">
                              <a:s>Last(</a:s>
                              <a:s r="9647">
                                 <a:s>Split(</a:s>
                                 <a:s r="9645">
                                    <a:s r="9644">
                                       <a:s r="9643">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9644">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9645">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9646">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9650">
                              <a:s r="9649">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9650">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9653" locator="4427:3-4430:64" xsi:type="Query">
            <source localId="9626" locator="4427:3-4427:55" alias="O">
               <expression localId="9625" locator="4427:3-4427:53" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4427:17-4427:52" name="Date of miscarriage or abortion" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9652" locator="4428:5-4430:64" xsi:type="And">
               <operand localId="9642" locator="4428:11-4429:80" xsi:type="And">
                  <operand localId="9633" locator="4428:11-4428:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9628" locator="4428:11-4428:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9632" locator="4428:23-4428:57" xsi:type="List">
                        <element localId="9629" locator="4428:25-4428:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9630" locator="4428:34-4428:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9631" locator="4428:45-4428:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9641" locator="4429:11-4429:80" xsi:type="IsFalse">
                     <operand localId="9640" locator="4429:11-4429:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9638" locator="4429:20-4429:63" path="value" xsi:type="Property">
                                 <source localId="9637" locator="4429:20-4429:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9635" locator="4429:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9636" locator="4429:44-4429:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9639" locator="4429:66-4429:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9651" locator="4430:11-4430:64" xsi:type="Equal">
                  <operand localId="9648" locator="4430:11-4430:49" xsi:type="Last">
                     <source localId="9647" locator="4430:16-4430:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9645" locator="4430:22-4430:42" path="reference" xsi:type="Property">
                              <source localId="9644" locator="4430:22-4430:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9646" locator="4430:45-4430:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9650" locator="4430:53-4430:64" path="id" xsi:type="Property">
                        <source localId="9649" locator="4430:53-4430:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9684" locator="4438:1-4442:64" name="Date of death" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9684">
               <a:s>/*
  @dataElement: ANC.End.39 Date of death
  @activity: ANC.End End
  @description: Date that the woman died
*/
define &quot;Date of death&quot;:
  </a:s>
               <a:s r="9683">
                  <a:s>
                     <a:s r="9656">
                        <a:s r="9655">
                           <a:s r="9655">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Date of death&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9682">
                     <a:s>where </a:s>
                     <a:s r="9682">
                        <a:s r="9672">
                           <a:s r="9663">
                              <a:s r="9658">
                                 <a:s r="9657">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9658">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9662">
                                 <a:s>{ </a:s>
                                 <a:s r="9659">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9660">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9661">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9671">
                              <a:s r="9670">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9668">
                                    <a:s r="9667">
                                       <a:s r="9664">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9667">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9665">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9666">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9668">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9669">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9681">
                           <a:s r="9678">
                              <a:s>Last(</a:s>
                              <a:s r="9677">
                                 <a:s>Split(</a:s>
                                 <a:s r="9675">
                                    <a:s r="9674">
                                       <a:s r="9673">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9674">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9675">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9676">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9680">
                              <a:s r="9679">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9680">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9683" locator="4439:3-4442:64" xsi:type="Query">
            <source localId="9656" locator="4439:3-4439:37" alias="O">
               <expression localId="9655" locator="4439:3-4439:35" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4439:17-4439:34" name="Date of death" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9682" locator="4440:5-4442:64" xsi:type="And">
               <operand localId="9672" locator="4440:11-4441:80" xsi:type="And">
                  <operand localId="9663" locator="4440:11-4440:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9658" locator="4440:11-4440:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9662" locator="4440:23-4440:57" xsi:type="List">
                        <element localId="9659" locator="4440:25-4440:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9660" locator="4440:34-4440:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9661" locator="4440:45-4440:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9671" locator="4441:11-4441:80" xsi:type="IsFalse">
                     <operand localId="9670" locator="4441:11-4441:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9668" locator="4441:20-4441:63" path="value" xsi:type="Property">
                                 <source localId="9667" locator="4441:20-4441:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9665" locator="4441:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9666" locator="4441:44-4441:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9669" locator="4441:66-4441:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9681" locator="4442:11-4442:64" xsi:type="Equal">
                  <operand localId="9678" locator="4442:11-4442:49" xsi:type="Last">
                     <source localId="9677" locator="4442:16-4442:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9675" locator="4442:22-4442:42" path="reference" xsi:type="Property">
                              <source localId="9674" locator="4442:22-4442:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9676" locator="4442:45-4442:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9680" locator="4442:53-4442:64" path="id" xsi:type="Property">
                        <source localId="9679" locator="4442:53-4442:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="9714" locator="4450:1-4454:64" name="Cause of death" context="Encounter" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9714">
               <a:s>/*
  @dataElement: ANC.End.40 Cause of death
  @activity: ANC.End End
  @description: Cause of the woman's death
*/
define &quot;Cause of death&quot;:
  </a:s>
               <a:s r="9713">
                  <a:s>
                     <a:s r="9686">
                        <a:s r="9685">
                           <a:s r="9685">
                              <a:s>[Observation: </a:s>
                              <a:s>
                                 <a:s>Cx.&quot;Cause of death&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> O</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="9712">
                     <a:s>where </a:s>
                     <a:s r="9712">
                        <a:s r="9702">
                           <a:s r="9693">
                              <a:s r="9688">
                                 <a:s r="9687">
                                    <a:s>O</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="9688">
                                    <a:s>status</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="9692">
                                 <a:s>{ </a:s>
                                 <a:s r="9689">
                                    <a:s>'final'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9690">
                                    <a:s>'amended'</a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9691">
                                    <a:s>'corrected'</a:s>
                                 </a:s>
                                 <a:s> }</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      and </a:s>
                           <a:s r="9701">
                              <a:s r="9700">
                                 <a:s>Coalesce(</a:s>
                                 <a:s r="9698">
                                    <a:s r="9697">
                                       <a:s r="9694">
                                          <a:s>WC</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9697">
                                          <a:s>ModifierExtension(</a:s>
                                          <a:s r="9695">
                                             <a:s>O</a:s>
                                          </a:s>
                                          <a:s>, </a:s>
                                          <a:s r="9696">
                                             <a:s>'who-notDone'</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9698">
                                       <a:s>value</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="9699">, false)</a:s>
                              </a:s>
                              <a:s> is false</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="9711">
                           <a:s r="9708">
                              <a:s>Last(</a:s>
                              <a:s r="9707">
                                 <a:s>Split(</a:s>
                                 <a:s r="9705">
                                    <a:s r="9704">
                                       <a:s r="9703">
                                          <a:s>O</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="9704">
                                          <a:s>encounter</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="9705">
                                       <a:s>reference</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>, </a:s>
                                 <a:s r="9706">
                                    <a:s>'/'</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="9710">
                              <a:s r="9709">
                                 <a:s>Encounter</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="9710">
                                 <a:s>id</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="9713" locator="4451:3-4454:64" xsi:type="Query">
            <source localId="9686" locator="4451:3-4451:38" alias="O">
               <expression localId="9685" locator="4451:3-4451:36" dataType="fhir:Observation" templateId="http://hl7.org/fhir/StructureDefinition/Observation" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="4451:17-4451:35" name="Cause of death" libraryName="Cx" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="9712" locator="4452:5-4454:64" xsi:type="And">
               <operand localId="9702" locator="4452:11-4453:80" xsi:type="And">
                  <operand localId="9693" locator="4452:11-4452:57" xsi:type="In">
                     <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand localId="9688" locator="4452:11-4452:18" path="status" scope="O" xsi:type="Property"/>
                     </operand>
                     <operand localId="9692" locator="4452:23-4452:57" xsi:type="List">
                        <element localId="9689" locator="4452:25-4452:31" valueType="t:String" value="final" xsi:type="Literal"/>
                        <element localId="9690" locator="4452:34-4452:42" valueType="t:String" value="amended" xsi:type="Literal"/>
                        <element localId="9691" locator="4452:45-4452:55" valueType="t:String" value="corrected" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="9701" locator="4453:11-4453:80" xsi:type="IsFalse">
                     <operand localId="9700" locator="4453:11-4453:71" xsi:type="Coalesce">
                        <operand name="ToBoolean" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand asType="fhir:boolean" xsi:type="As">
                              <operand localId="9698" locator="4453:20-4453:63" path="value" xsi:type="Property">
                                 <source localId="9697" locator="4453:20-4453:57" name="ModifierExtension" libraryName="WC" xsi:type="FunctionRef">
                                    <operand localId="9695" locator="4453:41" name="O" xsi:type="AliasRef"/>
                                    <operand localId="9696" locator="4453:44-4453:56" valueType="t:String" value="who-notDone" xsi:type="Literal"/>
                                 </source>
                              </operand>
                           </operand>
                        </operand>
                        <operand localId="9699" locator="4453:66-4453:70" valueType="t:Boolean" value="false" xsi:type="Literal"/>
                     </operand>
                  </operand>
               </operand>
               <operand localId="9711" locator="4454:11-4454:64" xsi:type="Equal">
                  <operand localId="9708" locator="4454:11-4454:49" xsi:type="Last">
                     <source localId="9707" locator="4454:16-4454:48" xsi:type="Split">
                        <stringToSplit name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="9705" locator="4454:22-4454:42" path="reference" xsi:type="Property">
                              <source localId="9704" locator="4454:22-4454:32" path="encounter" scope="O" xsi:type="Property"/>
                           </operand>
                        </stringToSplit>
                        <separator localId="9706" locator="4454:45-4454:47" valueType="t:String" value="/" xsi:type="Literal"/>
                     </source>
                  </operand>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="9710" locator="4454:53-4454:64" path="id" xsi:type="Property">
                        <source localId="9709" locator="4454:53-4454:61" name="Encounter" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
               </operand>
            </where>
         </expression>
      </def>
   </statements>
</library>
